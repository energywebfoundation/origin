(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1017:function(module,exports,__webpack_require__){var api=__webpack_require__(1492),content=__webpack_require__(1493);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},1029:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/marker.5b7ef7b1.svg"},1030:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/map.a1edcd8e.svg"},1031:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_wind.d7d19337.svg"},1032:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_hydro.6e22a22c.svg"},1033:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_thermal.e84d4ce2.svg"},1034:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_solid.c4c9ebc8.svg"},1035:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_liquid.e3bf39c1.svg"},1036:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_gaseous.0fe8827e.svg"},1037:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_marine.9482f7ae.svg"},1038:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/icon_solar.477b3a93.svg"},1064:function(module,exports,__webpack_require__){__webpack_require__(1065),__webpack_require__(1292),__webpack_require__(1293),__webpack_require__(1459),module.exports=__webpack_require__(1466)},1085:function(module,exports){},115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DATE_FORMAT_DMY})),__webpack_require__.d(__webpack_exports__,"b",(function(){return formatDate})),__webpack_require__.d(__webpack_exports__,"f",(function(){return setTimeFormatLanguage})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setMinTimeInDay})),__webpack_require__.d(__webpack_exports__,"d",(function(){return setMaxTimeInDay}));__webpack_require__(207),__webpack_require__(208);var moment_timezone__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(258),moment_timezone__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__.d(__webpack_exports__,"c",(function(){return moment_timezone__WEBPACK_IMPORTED_MODULE_2___default.a}));__webpack_require__(1498);var DATE_FORMAT_DMY="MMM Do, YYYY",DATE_FORMAT_INCLUDING_TIME="".concat("MMM Do, YYYY"," hh:mm a");function formatDate(date,includeTime){var formatToUse=includeTime?DATE_FORMAT_INCLUDING_TIME:DATE_FORMAT_DMY;return moment_timezone__WEBPACK_IMPORTED_MODULE_2___default()(date).format(formatToUse)}function setTimeFormatLanguage(language){moment_timezone__WEBPACK_IMPORTED_MODULE_2___default.a.locales().includes(language)&&moment_timezone__WEBPACK_IMPORTED_MODULE_2___default.a.locale(language)}function setMinTimeInDay(date){return date.hours(0).minutes(0).seconds(0).milliseconds(0)}function setMaxTimeInDay(date){return date.hours(23).minutes(59).seconds(59).milliseconds(999)}},127:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const CertificateUtils=__importStar(__webpack_require__(1669));exports.CertificateUtils=CertificateUtils;const Contracts=__importStar(__webpack_require__(608));exports.Contracts=Contracts,__export(__webpack_require__(959)),__export(__webpack_require__(1698)),__export(__webpack_require__(955))},1293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(485);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({backgrounds:[{name:"default",value:"#333333",default:!0},{name:"white",value:"#ffffff"}]})},13:function(module,__webpack_exports__,__webpack_require__){"use strict";var GeneralActions;__webpack_require__.d(__webpack_exports__,"a",(function(){return GeneralActions})),__webpack_require__.d(__webpack_exports__,"h",(function(){return setLoading})),__webpack_require__.d(__webpack_exports__,"f",(function(){return setError})),__webpack_require__.d(__webpack_exports__,"i",(function(){return setOffChainDataSource})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setEnvironment})),__webpack_require__.d(__webpack_exports__,"g",(function(){return setExchangeClient})),__webpack_require__.d(__webpack_exports__,"j",(function(){return setOffchainConfiguration})),__webpack_require__.d(__webpack_exports__,"b",(function(){return accountMismatchModalResolvedAction})),__webpack_require__.d(__webpack_exports__,"d",(function(){return setAccountMismatchModalPropertiesAction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return requestDeviceCreation})),function(GeneralActions){GeneralActions.setLoading="GENERAL_SET_LOADING",GeneralActions.setError="GENERAL_SET_ERROR",GeneralActions.setOffChainDataSource="GENERAL_SET_OFF_CHAIN_DATA_SOURCE",GeneralActions.setExchangeClient="GENERAL_SET_EXCHANGE_CLIENT",GeneralActions.setEnvironment="GENERAL_SET_ENVIRONMENT",GeneralActions.setOffchainConfiguration="GENERAL_SET_OFFCHAIN_CONFIGURATION",GeneralActions.setAccountMismatchModalProperties="GENERAL_SET_ACCOUNT_MISMATCH_MODAL_PROPERTIES",GeneralActions.accountMismatchModalResolved="GENERAL_ACCOUNT_MISMATCH_MODAL_RESOLVED",GeneralActions.requestDeviceCreation="GENERAL_REQUEST_DEVICE_CREATION"}(GeneralActions||(GeneralActions={}));var setLoading=function(payload){return{type:GeneralActions.setLoading,payload:payload}},setError=function(payload){return{type:GeneralActions.setError,payload:payload}},setOffChainDataSource=function(payload){return{type:GeneralActions.setOffChainDataSource,payload:payload}},setEnvironment=function(payload){return{type:GeneralActions.setEnvironment,payload:payload}},setExchangeClient=function(payload){return{type:GeneralActions.setExchangeClient,payload:payload}},setOffchainConfiguration=function(payload){return{type:GeneralActions.setOffchainConfiguration,payload:payload}},accountMismatchModalResolvedAction=function(payload){return{type:GeneralActions.accountMismatchModalResolved,payload:payload}},setAccountMismatchModalPropertiesAction=function(payload){return{type:GeneralActions.setAccountMismatchModalProperties,payload:payload}},requestDeviceCreation=function(payload){return{type:GeneralActions.requestDeviceCreation,payload:payload}}},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return usePaginatedLoader})),__webpack_require__.d(__webpack_exports__,"c",(function(){return usePaginatedLoaderFiltered})),__webpack_require__.d(__webpack_exports__,"d",(function(){return usePaginatedLoaderSorting})),__webpack_require__.d(__webpack_exports__,"a",(function(){return checkRecordPassesFilters}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(207),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(172),__webpack_require__(384),__webpack_require__(28),__webpack_require__(16),__webpack_require__(195),__webpack_require__(46),__webpack_require__(32),__webpack_require__(208),__webpack_require__(33),__webpack_require__(26),__webpack_require__(43);var ___WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(81),react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var PAGINATED_LOADER_INITIAL_STATE_paginatedData=[],PAGINATED_LOADER_INITIAL_STATE_total=0;function usePaginatedLoader(_ref){var getPaginatedData=_ref.getPaginatedData,_ref$initialPageSize=_ref.initialPageSize,initialPageSize=void 0===_ref$initialPageSize?25:_ref$initialPageSize,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)(PAGINATED_LOADER_INITIAL_STATE_paginatedData),2),paginatedData=_useState2[0],setPaginatedData=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)(PAGINATED_LOADER_INITIAL_STATE_total),2),total=_useState4[0],setTotal=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)(initialPageSize),2),pageSize=_useState6[0],setPageSize=_useState6[1];function _loadPage(){return(_loadPage=_asyncToGenerator(regeneratorRuntime.mark((function _callee(page,requestedFilters,checkIsMounted){var offset,_ref2,newPaginatedData,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return offset=(page-1)*pageSize,_context.next=3,getPaginatedData({requestedPageSize:pageSize,offset:offset,requestedFilters:requestedFilters});case 3:_ref2=_context.sent,newPaginatedData=_ref2.paginatedData,newTotal=_ref2.total,checkIsMounted&&!checkIsMounted()||(setPaginatedData(newPaginatedData),setTotal(newTotal));case 7:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}return{loadPage:function loadPage(){return _loadPage.apply(this,arguments)},pageSize:pageSize,paginatedData:paginatedData,setPageSize:setPageSize,total:total}}function usePaginatedLoaderFiltered(_ref3){var getPaginatedData=_ref3.getPaginatedData,_ref3$initialPageSize=_ref3.initialPageSize,_usePaginatedLoader=usePaginatedLoader({getPaginatedData:getPaginatedData,initialPageSize:void 0===_ref3$initialPageSize?25:_ref3$initialPageSize}),paginatedData=_usePaginatedLoader.paginatedData,pageSize=_usePaginatedLoader.pageSize,paginatedLoaderLoadPage=_usePaginatedLoader.loadPage,setPageSize=_usePaginatedLoader.setPageSize,total=_usePaginatedLoader.total,_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)([]),2),appliedFilters=_useState8[0],setAppliedFilters=_useState8[1];function _loadPage2(){return(_loadPage2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(page,requestedFilters,checkIsMounted){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:requestedFilters?setAppliedFilters(requestedFilters):appliedFilters&&(requestedFilters=appliedFilters),paginatedLoaderLoadPage(page,requestedFilters,checkIsMounted);case 2:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}return{loadPage:function loadPage(){return _loadPage2.apply(this,arguments)},pageSize:pageSize,paginatedData:paginatedData,setPageSize:setPageSize,total:total}}function usePaginatedLoaderSorting(_ref4){var defaultCurrentSort=_ref4.currentSort,defaultSortAscending=_ref4.sortAscending,_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)(defaultCurrentSort),2),currentSort=_useState10[0],setCurrentSort=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_19__.useState)(defaultSortAscending),2),sortAscending=_useState12[0],setSortAscending=_useState12[1];return{sortData:function(records){return records.sort((function(a,b){var _currentSort$sortProp;return null==currentSort||null===(_currentSort$sortProp=currentSort.sortProperties)||void 0===_currentSort$sortProp?void 0:_currentSort$sortProp.map((function(field){var aPropertyValue,bPropertyValue,direction=sortAscending?1:-1;return"function"==typeof field?(aPropertyValue=field(a),bPropertyValue=field(b)):2===field.length&&(aPropertyValue=field[1](field[0](a)),bPropertyValue=field[1](field[0](b))),aPropertyValue>bPropertyValue?direction:aPropertyValue<bPropertyValue?-direction:0})).reduce((function(previous,next){return previous||next}),0)}))},toggleSort:function(column){column.id===currentSort.id?setSortAscending(!sortAscending):(setCurrentSort(column),setSortAscending(!0))},currentSort:currentSort,sortAscending:sortAscending}}function checkRecordPassesFilters(record,filters,deviceTypeService){if(!filters)return!0;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=filters[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var filter=_step.value,filteredPropertyResolvedValue=filter.property(record);if(void 0!==filteredPropertyResolvedValue)switch(filter.input.type){case ___WEBPACK_IMPORTED_MODULE_18__.c.string:if(filter.selectedValue&&!filteredPropertyResolvedValue.toString().toLowerCase().includes(filter.selectedValue.toLowerCase()))return!1;break;case ___WEBPACK_IMPORTED_MODULE_18__.c.multiselect:return filter.selectedValue.includes(filteredPropertyResolvedValue);case ___WEBPACK_IMPORTED_MODULE_18__.c.deviceType:if(!deviceTypeService)throw new Error('PaginatedLoaderFiltered requires "deviceTypeService" to be set to use "deviceType" filter');if(filter.selectedValue&&0!==filter.selectedValue.length&&!deviceTypeService.includesDeviceType(null==filteredPropertyResolvedValue?void 0:filteredPropertyResolvedValue.toString(),filter.selectedValue))return!1;break;case ___WEBPACK_IMPORTED_MODULE_18__.c.dropdown:if(filter.selectedValue&&filter.selectedValue.toString()!==filteredPropertyResolvedValue.toString())return!1;break;case ___WEBPACK_IMPORTED_MODULE_18__.c.slider:if(filter.selectedValue){var _ref6=_slicedToArray(filter.selectedValue,2),min=_ref6[0],max=_ref6[1],valueAsNumber="number"==typeof filteredPropertyResolvedValue?filteredPropertyResolvedValue:parseInt(filteredPropertyResolvedValue.toString(),10);if(valueAsNumber<min||valueAsNumber>max)return!1}break;case ___WEBPACK_IMPORTED_MODULE_18__.c.yearMonth:if(filter.selectedValue){var year=filter.selectedValue.year(),month=filter.selectedValue.month(),recordDate=_utils__WEBPACK_IMPORTED_MODULE_20__.u.unix(parseInt(null==filteredPropertyResolvedValue?void 0:filteredPropertyResolvedValue.toString(),10));if(recordDate.month()!==month||recordDate.year()!==year)return!1}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0}},134:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TableMaterial}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(55),__webpack_require__(117),__webpack_require__(207),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(28),__webpack_require__(16),__webpack_require__(46),__webpack_require__(32),__webpack_require__(208),__webpack_require__(33),__webpack_require__(26),__webpack_require__(43);var react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_18__),___WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(81),_material_ui_core__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(363),_material_ui_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(159),_material_ui_core__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(304),_material_ui_core__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(89),_material_ui_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(628),_material_ui_core__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(1854),_material_ui_core__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(1855),_material_ui_core__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(522),_material_ui_core__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(1049),_material_ui_core__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1870),_material_ui_core__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(1856),_material_ui_core__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(1857),_material_ui_core__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(1871);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _ref2=react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,null);function TableMaterial(props){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)(1),2),currentPage=_useState2[0],setCurrentPage=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_18__.useState)([]),2),selectedIds=_useState4[0],setSelectedIds=_useState4[1];function loadPage(){return _loadPage.apply(this,arguments)}function _loadPage(){return(_loadPage=_asyncToGenerator(regeneratorRuntime.mark((function _callee(page,filters){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,props.loadPage(page,filters);case 2:setCurrentPage(page);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function setAllItemsSelectedProperty(checked){checked?setSelectedIds(props.rows.map((function(row,index){return null==index?void 0:index.toString()}))):function resetSelection(){setSelectedIds([])}()}var customRow=props.customRow,columns=props.columns,pageSize=props.pageSize,rows=props.rows,total=props.total,filters=props.filters,actions=props.actions,currentSort=props.currentSort,sortAscending=props.sortAscending,handleRowClick=props.handleRowClick,batchableActions=props.batchableActions,customSelectCounterGenerator=props.customSelectCounterGenerator,toggleSort=props.toggleSort,highlightedRowsIndexes=props.highlightedRowsIds;selectedIds.length>rows.length&&setSelectedIds([]);var order=sortAscending?"asc":"desc",showBatchableActions=batchableActions&&0<batchableActions.length,classes=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_21__.a)((function(){return Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_22__.a)({root:{width:"100%"},tableWrapper:{},tableCellWrappingActions:{position:"relative",minWidth:"56px"}})}))(Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_23__.a)());return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_18___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(___WEBPACK_IMPORTED_MODULE_19__.d,{filters:filters,filtersChanged:function(filters){loadPage(1,filters)}}),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(___WEBPACK_IMPORTED_MODULE_19__.b,{batchableActions:batchableActions,selectedIds:selectedIds,customCounterGenerator:customSelectCounterGenerator}),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_24__.a,{className:classes.root},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement("div",{className:classes.tableWrapper},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_25__.a,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_26__.a,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_27__.a,null,showBatchableActions&&react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,{padding:"checkbox"},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_28__.a,{indeterminate:0<selectedIds.length&&selectedIds.length<rows.length,checked:0!==selectedIds.length&&selectedIds.length===rows.length,onChange:function onChange(e){return setAllItemsSelectedProperty(e.target.checked)},color:"primary"})),columns.map((function(column){var _column$sortPropertie,isSortable=0<(null===(_column$sortPropertie=column.sortProperties)||void 0===_column$sortPropertie?void 0:_column$sortPropertie.length),sortedByThisColumn=isSortable&&column.id===currentSort.id;return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,{key:column.id,align:column.align,style:{minWidth:column.minWidth},sortDirection:sortedByThisColumn?order:void 0},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_29__.a,{active:sortedByThisColumn,direction:order,onClick:function onClick(){column.sortProperties&&toggleSort&&toggleSort(column)},hideSortIcon:!isSortable,disabled:!isSortable},column.label))})),actions&&0<actions.length&&_ref2)),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_30__.a,null,rows.map((function(row,rowIndex){var id=function getRowId(row,index){var _ref;return null!==(_ref=null==row?void 0:row.id)&&void 0!==_ref?_ref:null==index?void 0:index.toString()}(row,rowIndex),isItemSelected=selectedIds.includes(id),rowStyle=(null==highlightedRowsIndexes?void 0:highlightedRowsIndexes.includes(id))?{background:"#424242"}:{};return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_18___default.a.Fragment,{key:id},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_27__.a,{hover:!0,role:"checkbox",tabIndex:-1,style:rowStyle},showBatchableActions&&react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,{padding:"checkbox"},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_28__.a,{checked:isItemSelected,onChange:function onChange(e){return function itemSelectionChanged(id,selected){var newSelectedIndexes=selectedIds;selected?newSelectedIndexes.includes(id)||(newSelectedIndexes=[].concat(_toConsumableArray(selectedIds),[id])):newSelectedIndexes.includes(id)&&(newSelectedIndexes=newSelectedIndexes.filter((function(selectedIndex){return selectedIndex!==id}))),setSelectedIds(newSelectedIndexes)}(id,e.target.checked)},color:"primary"})),columns.map((function(column){var value=row[column.id];return react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,{onClick:handleRowClick&&function(){return handleRowClick(id)},className:handleRowClick?"cursor-pointer":"",key:column.id,align:column.align},value)})),actions&&0<actions.length&&react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,{key:id,className:classes.tableCellWrappingActions},react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(___WEBPACK_IMPORTED_MODULE_19__.a,{actions:actions,id:id}))),(null==customRow?void 0:customRow.shouldDisplay(row))&&react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_27__.a,null,customRow.display))}))),react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_31__.a,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_27__.a,null,react__WEBPACK_IMPORTED_MODULE_18___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_32__.a,{count:total,rowsPerPage:pageSize,page:currentPage-1,onChangePage:function onChangePage(event,zeroIndexBasedNewPage){loadPage(zeroIndexBasedNewPage+1)},align:"left",rowsPerPageOptions:[]})))))))}TableMaterial.__docgenInfo={description:"",methods:[],displayName:"TableMaterial",props:{columns:{required:!0,tsType:{name:"T"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(TTableRow<GetReadonlyArrayItemType<T>['id']> & { id?: string })[]"},description:""},loadPage:{required:!1,tsType:{name:"signature",type:"function",raw:"(page: number, filters?: ICustomFilter[]) => void | Promise<any>",signature:{arguments:[{name:"page",type:{name:"number"}},{name:"filters",type:{name:"Array",elements:[{name:"ICustomFilter"}],raw:"ICustomFilter[]"}}],return:{name:"union",raw:"void | Promise<any>",elements:[{name:"void"},{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}]}}},description:""},pageSize:{required:!1,tsType:{name:"number"},description:""},total:{required:!1,tsType:{name:"number"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ITableAction"}],raw:"ITableAction[]"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, selected: boolean) => void",signature:{arguments:[{name:"id",type:{name:"string"}},{name:"selected",type:{name:"boolean"}}],return:{name:"void"}}},description:""},currentSort:{required:!1,tsType:{name:"CurrentSortType"},description:""},sortAscending:{required:!1,tsType:{name:"boolean"},description:""},toggleSort:{required:!1,tsType:{name:"signature",type:"function",raw:"(sortType: CurrentSortType) => void",signature:{arguments:[{name:"sortType",type:{name:"CurrentSortType"}}],return:{name:"void"}}},description:""},filters:{required:!1,tsType:{name:"Array",elements:[{name:"ICustomFilterDefinition"}],raw:"ICustomFilterDefinition[]"},description:""},handleRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(rowId: string) => void",signature:{arguments:[{name:"rowId",type:{name:"string"}}],return:{name:"void"}}},description:""},batchableActions:{required:!1,tsType:{name:"Array",elements:[{name:"IBatchableAction"}],raw:"IBatchableAction[]"},description:""},customSelectCounterGenerator:{required:!1,tsType:{name:"CustomCounterGeneratorFunction"},description:""},highlightedRowsIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},customRow:{required:!1,tsType:{name:"ICustomRow",elements:[{name:"intersection",raw:"TTableRow<GetReadonlyArrayItemType<T>['id']> & { id?: string }",elements:[{name:"signature",type:"object",raw:"{\n    [key in T]: ReactNode;\n}",signature:{properties:[{key:{name:"unknown['id']",raw:"GetReadonlyArrayItemType<T>['id']",required:!0},value:{name:"ReactNode"}}]}},{name:"signature",type:"object",raw:"{ id?: string }",signature:{properties:[{key:"id",value:{name:"string",required:!1}}]}}]}],raw:"ICustomRow<TTableRow<GetReadonlyArrayItemType<T>['id']> & { id?: string }>"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/TableMaterial.tsx"]={name:"TableMaterial",docgenInfo:TableMaterial.__docgenInfo,path:"src/components/Table/TableMaterial.tsx"})},138:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EnergyFormatter}));__webpack_require__(48),__webpack_require__(119),__webpack_require__(28),__webpack_require__(61),__webpack_require__(16),__webpack_require__(211),__webpack_require__(32);var _energyweb_utils_general__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64),ethers_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(79);function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var EnergyFormatter=function(){function EnergyFormatter(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EnergyFormatter)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EnergyFormatter,null,[{key:"getValueInDisplayUnit",value:function getValueInDisplayUnit(baseValue){var bnValue=Object(ethers_utils__WEBPACK_IMPORTED_MODULE_8__.bigNumberify)(baseValue),whole=bnValue.div(_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_7__.Unit[EnergyFormatter.displayUnit]),mod=bnValue.mod(_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_7__.Unit[EnergyFormatter.displayUnit]);return parseFloat("".concat(whole,".").concat(mod.toString().slice(0,EnergyFormatter.decimalPlaces)))}},{key:"getBaseValueFromValueInDisplayUnit",value:function getBaseValueFromValueInDisplayUnit(valueInDisplayUnit){return Object(ethers_utils__WEBPACK_IMPORTED_MODULE_8__.bigNumberify)(valueInDisplayUnit*_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_7__.Unit[EnergyFormatter.displayUnit])}},{key:"format",value:function format(baseValue,includeDisplayUnit){var returnValue=Object(ethers_utils__WEBPACK_IMPORTED_MODULE_8__.bigNumberify)(baseValue);return"".concat(Object(ethers_utils__WEBPACK_IMPORTED_MODULE_8__.commify)(EnergyFormatter.getValueInDisplayUnit(returnValue).toString())).concat(includeDisplayUnit?" "+EnergyFormatter.displayUnit:"")}}]),EnergyFormatter}();_defineProperty(EnergyFormatter,"displayUnit","MWh"),_defineProperty(EnergyFormatter,"decimalPlaces",3)},1466:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(485);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1467)],module)}.call(this,__webpack_require__(387)(module))},1467:function(module,exports,__webpack_require__){var map={"./HierarchicalMultiSelect.stories.tsx":1468,"./exchange/Exchange.stories.tsx":1823,"./exchange/Market.stories.tsx":1824,"./exchange/Orders.stories.tsx":1837};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1467},1468:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"defaultView",(function(){return defaultView})),__webpack_require__.d(__webpack_exports__,"withoutTheme",(function(){return withoutTheme}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(44),__webpack_require__(24),__webpack_require__(28),__webpack_require__(16),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(94),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(523),_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(157),_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(84),_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(64),_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(228);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}__webpack_require__(250).withSource;var addSourceDecorator=__webpack_require__(250).addSource,__SOURCE_PREFIX__="/home/kuzi/Projects/origin/packages/origin-ui-core/src/components",__STORY__="\nimport React, { useState } from 'react';\nimport { withKnobs, boolean, object } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { HierarchicalMultiSelect } from './HierarchicalMultiSelect';\nimport {\n    createOriginConfiguration,\n    OriginConfigurationProvider\n} from './OriginConfigurationContext';\nimport { DeviceTypeService, EncodedDeviceType } from '@energyweb/utils-general';\nimport { TEST_DEVICE_TYPES } from '../__tests__/utils/helpers';\n\nexport default {\n    title: 'HierarchicalMultiSelect',\n    component: HierarchicalMultiSelect,\n    decorators: [withKnobs]\n};\n\nfunction TestWrapper() {\n    const singleChoice = boolean('singleChoice', false);\n    const [selectedDeviceType, setSelectedDeviceType] = useState<EncodedDeviceType>([]);\n    const deviceTypeService = new DeviceTypeService(object('allValues', TEST_DEVICE_TYPES));\n\n    return (\n        <HierarchicalMultiSelect\n            selectedValue={selectedDeviceType}\n            onChange={setSelectedDeviceType}\n            allValues={deviceTypeService.deviceTypes}\n            selectOptions={object('selectOptions', [\n                {\n                    label: 'Device type',\n                    placeholder: 'Select device type'\n                },\n                {\n                    label: 'Device type',\n                    placeholder: 'Select device type'\n                },\n                {\n                    label: 'Device type',\n                    placeholder: 'Select device type'\n                }\n            ])}\n            singleChoice={singleChoice}\n        />\n    );\n}\n\nconst originConfiguration = createOriginConfiguration();\n\nexport const defaultView = () => (\n    <OriginConfigurationProvider value={originConfiguration}>\n        <MuiThemeProvider theme={originConfiguration.materialTheme}>\n            <TestWrapper />\n        </MuiThemeProvider>\n    </OriginConfigurationProvider>\n);\n\nexport const withoutTheme = () => (\n    <OriginConfigurationProvider value={originConfiguration}>\n        <TestWrapper />\n    </OriginConfigurationProvider>\n);\n",__ADDS_MAP__={"hierarchicalmultiselect--default-view":{startLoc:{col:27,line:50},endLoc:{col:1,line:56},startBody:{col:27,line:50},endBody:{col:1,line:56}},"hierarchicalmultiselect--without-theme":{startLoc:{col:28,line:58},endLoc:{col:1,line:62},startBody:{col:28,line:58},endBody:{col:1,line:62}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};function TestWrapper(){var singleChoice=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_11__.boolean)("singleChoice",!1),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_10__.useState)([]),2),selectedDeviceType=_useState2[0],setSelectedDeviceType=_useState2[1],deviceTypeService=new _energyweb_utils_general__WEBPACK_IMPORTED_MODULE_15__.DeviceTypeService(Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_11__.object)("allValues",_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_16__.a));return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_13__.a,{selectedValue:selectedDeviceType,onChange:setSelectedDeviceType,allValues:deviceTypeService.deviceTypes,selectOptions:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_11__.object)("selectOptions",[{label:"Device type",placeholder:"Select device type"},{label:"Device type",placeholder:"Select device type"},{label:"Device type",placeholder:"Select device type"}]),singleChoice:singleChoice})}__webpack_exports__.default={parameters:{storySource:{source:"\nimport React, { useState } from 'react';\nimport { withKnobs, boolean, object } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { HierarchicalMultiSelect } from './HierarchicalMultiSelect';\nimport {\n    createOriginConfiguration,\n    OriginConfigurationProvider\n} from './OriginConfigurationContext';\nimport { DeviceTypeService, EncodedDeviceType } from '@energyweb/utils-general';\nimport { TEST_DEVICE_TYPES } from '../__tests__/utils/helpers';\n\nexport default {\n    title: 'HierarchicalMultiSelect',\n    component: HierarchicalMultiSelect,\n    decorators: [withKnobs]\n};\n\nfunction TestWrapper() {\n    const singleChoice = boolean('singleChoice', false);\n    const [selectedDeviceType, setSelectedDeviceType] = useState<EncodedDeviceType>([]);\n    const deviceTypeService = new DeviceTypeService(object('allValues', TEST_DEVICE_TYPES));\n\n    return (\n        <HierarchicalMultiSelect\n            selectedValue={selectedDeviceType}\n            onChange={setSelectedDeviceType}\n            allValues={deviceTypeService.deviceTypes}\n            selectOptions={object('selectOptions', [\n                {\n                    label: 'Device type',\n                    placeholder: 'Select device type'\n                },\n                {\n                    label: 'Device type',\n                    placeholder: 'Select device type'\n                },\n                {\n                    label: 'Device type',\n                    placeholder: 'Select device type'\n                }\n            ])}\n            singleChoice={singleChoice}\n        />\n    );\n}\n\nconst originConfiguration = createOriginConfiguration();\n\nexport const defaultView = () => (\n    <OriginConfigurationProvider value={originConfiguration}>\n        <MuiThemeProvider theme={originConfiguration.materialTheme}>\n            <TestWrapper />\n        </MuiThemeProvider>\n    </OriginConfigurationProvider>\n);\n\nexport const withoutTheme = () => (\n    <OriginConfigurationProvider value={originConfiguration}>\n        <TestWrapper />\n    </OriginConfigurationProvider>\n);\n",locationsMap:{"hierarchicalmultiselect--default-view":{startLoc:{col:27,line:50},endLoc:{col:1,line:56},startBody:{col:27,line:50},endBody:{col:1,line:56}},"hierarchicalmultiselect--without-theme":{startLoc:{col:28,line:58},endLoc:{col:1,line:62},startBody:{col:28,line:58},endBody:{col:1,line:62}}}}},title:"HierarchicalMultiSelect",component:_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_13__.a,decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_11__.withKnobs]},TestWrapper.displayName="TestWrapper";var originConfiguration=Object(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_14__.c)(),_ref=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(TestWrapper,null),defaultView=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_14__.b,{value:originConfiguration},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{theme:originConfiguration.materialTheme},_ref))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/HierarchicalMultiSelect.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),_ref2=react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_14__.b,{value:originConfiguration},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(TestWrapper,null)),withoutTheme=addSourceDecorator((function(){return _ref2}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/HierarchicalMultiSelect.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},1481:function(module,exports){},1482:function(module){module.exports=JSON.parse('{"translation":{"header":{"devices":"Devices","certificates":"Certificates","demands":"Demands","organizations":"Organizations"},"navigation":{"devices":{"all":"All devices","map":"Map view","my":"My devices","registerDevice":"Register device","registerDeviceGroup":"Register device group","pending":"Pending"},"certificates":{"inbox":"Inbox","forSale":"For sale","claimsReport":"Claims report","detailView":"Detail view","pending":"Pending","approved":"Approved","forDemand":"For demand","exchange":"Exchange","myTrades":"My trades"}},"device":{"properties":{"owner":"Owner","facilityName":"Facility name","regionProvince":"Region, province","type":"Type","nameplateCapacity":"Nameplate capacity","meterRead":"Meter read","commissioningDate":"Commissioning date","status":"Status","deviceOwner":"Device owner","complianceRegistry":"Certified by registry","otherGreenAttributes":"Other green attributes","deviceType":"Device type","publicSupport":"Public support","geoLocation":"Geo location","registrationDate":"Registration date","regions":"Regions","provinces":"Provinces","longitude":"Longitude","latitude":"Latitude","story":"Story","projectStory":"Project story","images":"Images","capacity":"Capacity","address":"Address","constructed":"Constructed","vintageCod":"Vintage / (Commercial Operation Date)","gridOperator":"Grid operator"},"actions":{"requestCertificates":"Request certificates","approve":"Approve","registerDevice":"Register device","register":"Register"},"feedback":{"imagesUploaded":"Images have been uploaded.","deviceCreated":"Device successfully created.","pleaseSelectUpToXImages":"Please select up to {limit} images. You\'ve selected {actual}.","unexpectedErrorWhenUploadingImages":"Unexpected error occurred when uploading images."},"info":{"general":"General","selectDeviceType":"Select device type","supported":"Supported","pleaseFillOtherFields":"Please fill other form fields and proceed by clicking \\"Register\\".","uploadUpToXImages":"Upload up to {amount} images","selectRegion":"Select region","selectProvince":"Select province","selectGridOperator":"Select grid operator","toRegisterADevice":"To register a device you need to fulfill following criteria:"}},"certificate":{"properties":{"compliance":"Compliance","owner":"Owner","price":"Price","currency":"Currency","certifiedEnergy":"Certified energy","deviceType":"Device type","certificationDate":"Certification date","from":"From","to":"To"},"actions":{"requestCertificates":"Request certificates","approve":"Approve","registerDevice":"Register device","publishForSale":"Publish for sale","claim":"Claim","returnToInbox":"Return to inbox","buy":"Buy","request":"Request"},"feedback":{"returnedToInbox":"Certificate {id} has been returned to the inbox.","claimed":"Certificate {id} has been claimed.","notOwner":"You are not the owner of certificate {id}.","alreadyInInbox":"Certificate {id} is already in the inbox.","alreadyPublishedForSale":"Certificate {id} has already been published for sale.","noSelected":"No certificates have been selected. Please select at least one certificate.","pleaseSelectLess":"Please select less than {amount, plural, =1 {# certificate} other {# certificates}}.","cantBuyOwn":"You can\'t buy your own certificates.","zeroSelected":"No certificates have been selected. Please select at least one certificate.","amountSelected":"{amount, plural, other {# selected}}","certificatePublished":"Certificate has been published for sale.","certificatesClaimed":"Certificates have been claimed.","approved":"Certification request approved."},"info":{"requestCertificatesFor":"Request certificates for {facilityName}"}},"search":{"searchByFacilityNameAndOrganization":"Search by facility name and organization","searchByLocation":"Search by location","searchByGridOperator":"Search by grid operator","searchByLocationAndGridOperator":"Search by location and grid operator"},"settings":{"settings":"Settings","registerOffchainUser":"Register offchain user","feedback":{"userSettingsUpdated":"User settings have been updated.","blockchainAccountLinked":"Blockchain account linked."},"properties":{"email":"E-mail","blockchainAccount":"Blockchain account","notifications":"Notifications","automaticallyPostCertificates":"Automatically post certificates for sale","price":"Price","marketLookupAddress":"Market lookup address","language":"Language","currency":"Currency"},"actions":{"verifyBlockchainAccount":"Verify blockchain account"},"navigation":{"settings":"Settings","import":"Import","login":"Login","registerUser":"Register user"}},"general":{"actions":{"update":"Update","continue":"Continue","cancel":"Cancel","search":"Search"},"feedback":{"noChangesMade":"No changes have been made.","unknownError":"Unknown error","createdByNoun":"Created by {fullName} from the Noun project","attachBlockchainAccountFirst":"You have to attach a blockchain address to your account.","noOrganization":"You need to be a part of an organization. You can create it or join existing one.","haveToBeLoggedInUser":"You need to be a logged in user.","userHasToBePartOfApprovedOrganization":"The user should be a part of an approved organization.","userHasToHaveBlockchainAccount":"The user has to have a blockchain account attached to the account.","blockchainAccountMismatch":"Blockchain account mismatch"},"info":{"tryingToSignAndBoundIs":"You are trying to sign a transaction with account different than the one that has been linked to your account. Blockchain address bound to your user is:","andYouAreTrying":"and you are trying to use address:"}},"importAccount":{"actions":{"setPassword":"Set password","unlockKeystore":"Unlock keystore","loadKeystore":"Load keystore","clearImportedAccounts":"Clear imported accounts"},"feedback":{"pasteAPrivateKey":"Paste a private key or load a keystore file."},"properties":{"privateKey":"Private key"},"information":{"whatIsKeystore":"What is a keystore file?"}},"meterReads":{"properties":{"time":"Time ({timezone})","meterValue":"Meter value ({unit})","energy":"Energy ({unit})","timeframes":{"day":"Day","week":"Week","month":"Month","year":"Year"},"smartMeterReadings":"Smart meter readings"}},"deviceMap":{"actions":{"seeMore":"See more"},"properties":{"owner":"Owner"}},"validations":{"yup":{"mixed":{"default":"{path} is invalid","required":"{path} is a required field","oneOf":"{path} must be one of the following values: {values}","notOneOf":"{path} must not be one of the following values: {values}","notType":{"mustBeType":"{path} must be a `{type}` type,","butValueWas":"but the final value was: `{value}`","castFromTheValue":"(cast from the value `{originalValue}`).","ifNull":"If \\"null\\" is intended as an empty value be sure to mark the schema as `.nullable()`"}},"string":{"length":"{path} must be exactly {length} characters","min":"{path} must be at least {min} characters","max":"{path} must be at most {max} characters","matches":"{path} must match the following: \\"{regex}\\"","email":"{path} must be a valid email","url":"{path} must be a valid URL","trim":"{path} must be a trimmed string","lowercase":"{path} must be a lowercase string","uppercase":"{path} must be a upper case string"},"number":{"min":"{path} must be greater than or equal to {min}","max":"{path} must be less than or equal to {max}","lessThan":"{path} must be less than {less}","moreThan":"{path} must be greater than {more}","positive":"{path} must be a positive number","negative":"{path} must be a negative number","integer":"{path} must be an integer"}}},"user":{"properties":{"title":"Title","firstName":"First name","lastName":"Last name","telephone":"Telephone","email":"Email","password":"Password"},"actions":{"register":"Register","login":"Login"},"feedback":{"userRegistered":"User registered.","errorWhileRegisteringUser":"Error while registering user.","userLoggedIn":"User logged in.","couldNotLogIn":"Could not log in with supplied credentials."}},"notification":{"type":{"success":"Success","info":"Info","error":"Error","warning":"Warning"}},"file":{"info":{"dropHereOrClickToSelect":"Drop files here or click to select files"}},"exchange":{"actions":{"notify":"Notify","bid":"Bid","buy":"Buy"},"feedback":{"total":"Total"},"info":{"regions":"Regions","selectMultipleRegions":"Select multiple regions","volume":"Volume ({unit})","price":"Price ({currency}/{energyUnit})","market":"Market","bids":"Bids","asks":"Asks","date":"Date","myTrades":"My trades","side":"Side","buy":"Buy","sell":"Sell","total":"Total"},"properties":{"price":"Price","energy":"Energy","generationDateStart":"Generation date start","generationDateEnd":"Generation date end","generationFrom":"Generation from","generationTo":"Generation to"}}}}')},1483:function(module){module.exports=JSON.parse('{"translation":{"header":{"devices":"Urzdzenia","certificates":"Certyfikaty","demands":"Oferty","organizations":"Organizacje"},"navigation":{"devices":{"all":"Wszystkie urzdzenia","map":"Widok mapy","my":"Moje urzdzenia","registerDevice":"Zarejestruj urzdzenie","registerDeviceGroup":"Zarejestruj grup urzdze","pending":"Oczekujce"}},"device":{"properties":{"owner":"Waciciel","facilityName":"Nazwa obiektu","regionProvince":"Region, prowincja","type":"Typ","nameplateCapacity":"Moc","meterRead":"Odczyt licznika","commissioningDate":"Data uruchomienia","status":"Status","deviceOwner":"Waciciel urzdzenia","complianceRegistry":"Rejestr certyfikacji","otherGreenAttributes":"Pozostae zielone atrybuty","deviceType":"Typ urzdzenia","publicSupport":"Wsparcie publiczne","geoLocation":"Geo-lokalizacja","registrationDate":"Data rejestracji","regions":"Regiony","provinces":"Prowincje","longitude":"Dugo geograficzna","latitude":"Szeroko geograficzna","story":"Opis","projectStory":"Opis projektu","images":"Zdjcia","capacity":"Pojemno","address":"Adres"},"actions":{"requestCertificates":"Zadaj certyfikatw","approve":"Zaakceptuj","registerDevice":"Zarejestruj urzdzenie","register":"Zarejestruj"}},"certificate":{"properties":{"compliance":"Standard","owner":"Waciciel","price":"Cena","currency":"Waluta","certifiedEnergy":"Certyfikowana energia","deviceType":"Typ urzdzenia","certificationDate":"Data certyfikacji","from":"Od","to":"Do"},"actions":{"requestCertificates":"Zadaj certyfikatw","approve":"Zaakceptuj","registerDevice":"Zarejestruj urzdzenie","publishForSale":"Wystaw na sprzeda","claim":"Claim","returnToInbox":"Zwr do skrzynki","buy":"Kup","request":"daj"},"info":{"requestCertificatesFor":"Zadaj certyfikatw dla urzdzenia {facilityName}"}},"search":{"searchByFacilityNameAndOrganization":"Wyszukaj po nazwie obiektu i organizacji","searchByRegionProvince":"Wyszukaj po regionie i prowincji"},"settings":{"settings":"Ustawienia","registerOffchainUser":"Zarejestruj uytkownika offchain","feedback":{"userSettingsUpdated":"Ustawienia uytkownika zostay zaktualizowane.","blockhainAccountLinked":"Poczono konto blockchain."},"properties":{"email":"E-mail","blockchainAccount":"Konto blockchain","notifications":"Powiadomienia","automaticallyPostCertificates":"Automatycznie wystawiaj certyfikaty na sprzeda","price":"Cena","marketLookupAddress":"Adres kontraktu MarketLookup","language":"Jzyk","currency":"Waluta"},"actions":{"verifyBlockchainAccount":"Zweryfikuj konto blockchain"},"navigation":{"settings":"Ustawienia","import":"Import","login":"Login","registerUser":"Zarejestruj uytkownika"}},"general":{"actions":{"update":"Zaktualizuj","continue":"Kontynuuj","cancel":"Anuluj"},"feedback":{"noChangesMade":"Nie dokonano adnych zmian.","unknownError":"Nieznany bd"}},"importAccount":{"actions":{"setPassword":"Ustaw haso","unlockKeystore":"Odblokuj magazyn kluczy","loadKeystore":"Zaaduj magazyn kluczy","clearImportedAccounts":"Wyczy importowane konta"},"feedback":{"pasteAPrivateKey":"Wklej klucz prywatny aby zaadowa magazyn kluczy"},"properties":{"privateKey":"Klucz prywatny"},"information":{"whatIsKeystore":"Co to jest magazyn kluczy?"}},"meterReads":{"properties":{"time":"Czas ({timezone})","meterValue":"Odczyt licznika ({unit})","energy":"Energia ({unit})","timeframes":{"day":"Dzie","week":"Tydzie","month":"Miesic","year":"Rok"},"smartMeterReadings":"Odczyty licznika"}},"deviceMap":{"actions":{"seeMore":"Zobacz wicej"},"properties":{"owner":"Waciciel"}},"validations":{"yup":{"mixed":{"default":"{path} jest niepoprawne","required":"{path} jest wymaganym polem","oneOf":"{path} musi by jedn z wymienionych wartoci: {values}","notOneOf":"{path} nie moe by adn z wymienionych wartoci: {values}","notType":{"mustBeType":"{path} musi mie typ `{type}`,","butValueWas":"ale finalna warto to: `{value}`","castFromTheValue":"(rzutowana z wartoci `{originalValue}`).","ifNull":"Jeli \\"null\\" jest zamierzon wartoci jako pusta warto, oznacz pole w schemacie jako `.nullable()`"}},"string":{"length":"{path} musi mie dokadnie {length} znakw","min":"{path} musi mie przynajmniej {min} znakw","max":"{path} musi mie maksymalnie {max} znakw","matches":"{path} musi spenia standard: \\"{regex}\\"","email":"{path} musi by prawidowym adresem email","url":"{path} musi by poprawnym URL"},"number":{"min":"{path} musi by wiksze lub rwne {min}","max":"{path} musi by mniejsze lub rwne {max}","lessThan":"{path} musi by mniejsze ni {less}","moreThan":"{path} musi byc wiksze ni {more}","positive":"{path} musi by dodatni liczb","negative":"{path} musi by ujemn liczb","integer":"{path} musi by liczb cakowit"}}},"user":{"properties":{"title":"Tytu","firstName":"Imi","lastName":"Nazwisko","telephone":"Telefon","email":"Email","password":"Haso"},"actions":{"register":"Zarejestruj","login":"Zaloguj si"},"feedback":{"userRegistered":"Uytkownik zarejestrowany.","errorWhileRegisteringUser":"Bd podczas rejestracji uytkownika."}},"notification":{"type":{"success":"Sukces","info":"Info","error":"Bd","warning":"Ostrzeenie"}},"file":{"info":{"dropHereOrClickToSelect":"Upu pliki tutaj lub kliknij aby wybra"}}}}')},1493:function(module,exports,__webpack_require__){(exports=__webpack_require__(1494)(!1)).push([module.i,"\n",""]),exports.locals={primaryColor:"#894ec5",primaryColorDark:"#7037a9",primaryColorDarker:"#562b82",backgroundColorDark:"#2c2c2c",textColorDefault:"#a8a8a8",bootstrapBodyColor:"#fff",fieldIconColor:"#b3b3b3"},module.exports=exports},1496:function(module,exports,__webpack_require__){var map={"./af":770,"./af.js":770,"./ar":771,"./ar-dz":772,"./ar-dz.js":772,"./ar-kw":773,"./ar-kw.js":773,"./ar-ly":774,"./ar-ly.js":774,"./ar-ma":775,"./ar-ma.js":775,"./ar-sa":776,"./ar-sa.js":776,"./ar-tn":777,"./ar-tn.js":777,"./ar.js":771,"./az":778,"./az.js":778,"./be":779,"./be.js":779,"./bg":780,"./bg.js":780,"./bm":781,"./bm.js":781,"./bn":782,"./bn.js":782,"./bo":783,"./bo.js":783,"./br":784,"./br.js":784,"./bs":785,"./bs.js":785,"./ca":786,"./ca.js":786,"./cs":787,"./cs.js":787,"./cv":788,"./cv.js":788,"./cy":789,"./cy.js":789,"./da":790,"./da.js":790,"./de":791,"./de-at":792,"./de-at.js":792,"./de-ch":793,"./de-ch.js":793,"./de.js":791,"./dv":794,"./dv.js":794,"./el":795,"./el.js":795,"./en-SG":796,"./en-SG.js":796,"./en-au":797,"./en-au.js":797,"./en-ca":798,"./en-ca.js":798,"./en-gb":799,"./en-gb.js":799,"./en-ie":800,"./en-ie.js":800,"./en-il":801,"./en-il.js":801,"./en-nz":802,"./en-nz.js":802,"./eo":803,"./eo.js":803,"./es":804,"./es-do":805,"./es-do.js":805,"./es-us":806,"./es-us.js":806,"./es.js":804,"./et":807,"./et.js":807,"./eu":808,"./eu.js":808,"./fa":809,"./fa.js":809,"./fi":810,"./fi.js":810,"./fo":811,"./fo.js":811,"./fr":812,"./fr-ca":813,"./fr-ca.js":813,"./fr-ch":814,"./fr-ch.js":814,"./fr.js":812,"./fy":815,"./fy.js":815,"./ga":816,"./ga.js":816,"./gd":817,"./gd.js":817,"./gl":818,"./gl.js":818,"./gom-latn":819,"./gom-latn.js":819,"./gu":820,"./gu.js":820,"./he":821,"./he.js":821,"./hi":822,"./hi.js":822,"./hr":823,"./hr.js":823,"./hu":824,"./hu.js":824,"./hy-am":825,"./hy-am.js":825,"./id":826,"./id.js":826,"./is":827,"./is.js":827,"./it":828,"./it-ch":829,"./it-ch.js":829,"./it.js":828,"./ja":830,"./ja.js":830,"./jv":831,"./jv.js":831,"./ka":832,"./ka.js":832,"./kk":833,"./kk.js":833,"./km":834,"./km.js":834,"./kn":835,"./kn.js":835,"./ko":836,"./ko.js":836,"./ku":837,"./ku.js":837,"./ky":838,"./ky.js":838,"./lb":839,"./lb.js":839,"./lo":840,"./lo.js":840,"./lt":841,"./lt.js":841,"./lv":842,"./lv.js":842,"./me":843,"./me.js":843,"./mi":844,"./mi.js":844,"./mk":845,"./mk.js":845,"./ml":846,"./ml.js":846,"./mn":847,"./mn.js":847,"./mr":848,"./mr.js":848,"./ms":849,"./ms-my":850,"./ms-my.js":850,"./ms.js":849,"./mt":851,"./mt.js":851,"./my":852,"./my.js":852,"./nb":853,"./nb.js":853,"./ne":854,"./ne.js":854,"./nl":855,"./nl-be":856,"./nl-be.js":856,"./nl.js":855,"./nn":857,"./nn.js":857,"./pa-in":858,"./pa-in.js":858,"./pl":859,"./pl.js":859,"./pt":860,"./pt-br":861,"./pt-br.js":861,"./pt.js":860,"./ro":862,"./ro.js":862,"./ru":863,"./ru.js":863,"./sd":864,"./sd.js":864,"./se":865,"./se.js":865,"./si":866,"./si.js":866,"./sk":867,"./sk.js":867,"./sl":868,"./sl.js":868,"./sq":869,"./sq.js":869,"./sr":870,"./sr-cyrl":871,"./sr-cyrl.js":871,"./sr.js":870,"./ss":872,"./ss.js":872,"./sv":873,"./sv.js":873,"./sw":874,"./sw.js":874,"./ta":875,"./ta.js":875,"./te":876,"./te.js":876,"./tet":877,"./tet.js":877,"./tg":878,"./tg.js":878,"./th":879,"./th.js":879,"./tl-ph":880,"./tl-ph.js":880,"./tlh":881,"./tlh.js":881,"./tr":882,"./tr.js":882,"./tzl":883,"./tzl.js":883,"./tzm":884,"./tzm-latn":885,"./tzm-latn.js":885,"./tzm.js":884,"./ug-cn":886,"./ug-cn.js":886,"./uk":887,"./uk.js":887,"./ur":888,"./ur.js":888,"./uz":889,"./uz-latn":890,"./uz-latn.js":890,"./uz.js":889,"./vi":891,"./vi.js":891,"./x-pseudo":892,"./x-pseudo.js":892,"./yo":893,"./yo.js":893,"./zh-cn":894,"./zh-cn.js":894,"./zh-hk":895,"./zh-hk.js":895,"./zh-tw":896,"./zh-tw.js":896};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1496},1502:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},1503:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const Jsonschema=__importStar(__webpack_require__(1504));exports.validateJson=(input,schema,description,logger)=>{const validationResult=Jsonschema.validate(input,schema);if(!validationResult.valid){const error=new Error,errorAt=validationResult.errors.map((validationError,index)=>`\n${index}. error at ${JSON.stringify(validationError.instance)}`).reduce((previous,current)=>previous+current);throw error.message=`${description} json is invalid${errorAt}`,error}logger.verbose(`${description} json is valid`)}},1512:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(TimeFrame){TimeFrame[TimeFrame.yearly=0]="yearly",TimeFrame[TimeFrame.monthly=1]="monthly",TimeFrame[TimeFrame.daily=2]="daily",TimeFrame[TimeFrame.weekly=3]="weekly",TimeFrame[TimeFrame.hourly=4]="hourly",TimeFrame[TimeFrame.halfHourly=5]="halfHourly"}(exports.TimeFrame||(exports.TimeFrame={})),function(Unit){Unit[Unit.kW=1e3]="kW",Unit[Unit.kWh=1e3]="kWh",Unit[Unit.MW=1e6]="MW",Unit[Unit.MWh=1e6]="MWh",Unit[Unit.GW=1e9]="GW",Unit[Unit.GWh=1e9]="GWh"}(exports.Unit||(exports.Unit={})),function(DemandStatus){DemandStatus[DemandStatus.ACTIVE=0]="ACTIVE",DemandStatus[DemandStatus.PAUSED=1]="PAUSED",DemandStatus[DemandStatus.ARCHIVED=2]="ARCHIVED"}(exports.DemandStatus||(exports.DemandStatus={}))},1513:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DeviceTypeService=class DeviceTypeService{constructor(deviceTypes){if(this.deviceTypes=deviceTypes,!deviceTypes)throw new Error("DeviceTypeService: deviceTypes argument is required")}encode(deviceTypes){const encoded=deviceTypes.map(group=>group.join(";")),{areValid:areValid,unknown:unknown}=this.validate(encoded);if(!areValid)throw new Error(`DeviceTypeService::encode Unknown device types ${unknown}`);return encoded}decode(encodedDeviceType){const{areValid:areValid,unknown:unknown}=this.validate(encodedDeviceType);if(!areValid)throw new Error(`DeviceTypeService::decode Unknown device types ${unknown}`);return encodedDeviceType.map(deviceType=>deviceType.split(";"))}filterForHighestSpecificity(types){const decodedTypes=types.map(type=>[...this.decode([type])[0]]);return this.encode(decodedTypes.filter(type=>!decodedTypes.some(nestedType=>nestedType[0]===type[0]&&type.length<nestedType.length)))}includesDeviceType(checkedType,types){return this.filterForHighestSpecificity(types).map(type=>[...this.decode([type])[0]]).some(requestedDeviceType=>checkedType.startsWith(this.encode([requestedDeviceType])[0]))}includesSomeDeviceType(checkedTypes,types){return this.filterForHighestSpecificity(types).map(type=>[...this.decode([type])[0]]).some(requestedDeviceType=>checkedTypes.some(checkedType=>checkedType.startsWith(this.encode([requestedDeviceType])[0])))}validate(deviceTypes){const encoded=this.deviceTypes.map(group=>group.join(";")),unknown=[];return{areValid:deviceTypes.map(deviceType=>{const valid=encoded.includes(deviceType);return valid||unknown.push(deviceType),valid}).every(deviceType=>deviceType),unknown:unknown}}getDisplayText(deviceType){return deviceType?this.decode([deviceType])[0].join(" - "):"Unknown"}}},1514:function(module,exports,__webpack_require__){"use strict";function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n)}function isString(s){return"string"==typeof s||s instanceof String}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendArray=function extendArray(target=Array.prototype){let methods=["removeLast","empty","contains","findBy","filterBy","sortBy","ifFound","ifEmpty"];for(let m of methods)Object.defineProperty(target,m,{enumerable:!1,writable:!0});return target.removeLast||(target.removeLast=function(){if(0==this.length)return null;if(this.length>0){return this.splice(this.length-1,1)[0]}}),target.contains||(target.contains=function(e){return this.indexOf(e)>=0}),target.empty||(target.empty=function(){return 0==this.length}),target.findBy||(target.findBy=function(e){return this.filter(item=>{let include=!0;for(let k in e)include=include&&item[k]==e[k];return include})}),target.filterBy||(target.filterBy=function(e){return this.findBy(e)}),target.ifFound||(target.ifFound=function(action){return this.length>0&&action(this[0]),this}),target.ifEmpty||(target.ifEmpty=function(action){return 0==this.length&&action(),this}),target.sortBy||(target.sortBy=function(e){let key="",sorting=1;for(let ekey in e)key=ekey,sorting="asc"==e[ekey]?1:-1;return this.sort((a1,a2)=>a1&&a1[key]?a2?a2[key]?isNumeric(a1[key])&&isNumeric(a2[key])?(a1[key]-a2[key])*sorting:isString(a1[key])&&isString(a2[key])?a1[key].toLowerCase().localeCompare(a2[key].toLowerCase())*sorting:void 0:1:-1:1)}),target}},1515:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const moment_1=__importDefault(__webpack_require__(9));exports.TS=class TS{static generate(startTimeStamp,length,resolution,value){return[...Array(length).keys()].map(i=>({time:moment_1.default.unix(startTimeStamp).startOf(resolution).add(i,resolution).unix(),value:value}))}static aggregateByTime(timeSeries){const reduced=timeSeries.reduce((dict,current)=>{const key=current.time,value=dict.has(key)?dict.get(key).value+current.value:current.value;return dict.set(key,{...current,value:value})},new Map).values();return Array.from(reduced)}static inRange(timeSeries,startTimeStamp,endTimeStamp){return timeSeries.filter(timeSeriesElement=>timeSeriesElement.time>=startTimeStamp&&timeSeriesElement.time<=endTimeStamp)}}},1516:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Countries=[{id:1,code:"AF",name:"Afghanistan",slug:"afghanistan"},{id:2,code:"AX",name:"land Islands",slug:"aland-islands"},{id:3,code:"AL",name:"Albania",slug:"albania"},{id:4,code:"DZ",name:"Algeria",slug:"algeria"},{id:5,code:"AS",name:"American Samoa",slug:"american-samoa"},{id:6,code:"AD",name:"Andorra",slug:"andorra"},{id:7,code:"AO",name:"Angola",slug:"angola"},{id:8,code:"AI",name:"Anguilla",slug:"anguilla"},{id:9,code:"AQ",name:"Antarctica",slug:"antarctica"},{id:10,code:"AG",name:"Antigua and Barbuda",slug:"antigua-and-barbuda"},{id:11,code:"AR",name:"Argentina",slug:"argentina"},{id:12,code:"AM",name:"Armenia",slug:"armenia"},{id:13,code:"AW",name:"Aruba",slug:"aruba"},{id:14,code:"AU",name:"Australia",slug:"australia"},{id:15,code:"AT",name:"Austria",slug:"austria"},{id:16,code:"AZ",name:"Azerbaijan",slug:"azerbaijan"},{id:17,code:"BS",name:"Bahamas",slug:"bahamas"},{id:18,code:"BH",name:"Bahrain",slug:"bahrain"},{id:19,code:"BD",name:"Bangladesh",slug:"bangladesh"},{id:20,code:"BB",name:"Barbados",slug:"barbados"},{id:21,code:"BY",name:"Belarus",slug:"belarus"},{id:22,code:"BE",name:"Belgium",slug:"belgium"},{id:23,code:"BZ",name:"Belize",slug:"belize"},{id:24,code:"BJ",name:"Benin",slug:"benin"},{id:25,code:"BM",name:"Bermuda",slug:"bermuda"},{id:26,code:"BT",name:"Bhutan",slug:"bhutan"},{id:27,code:"BO",name:"Bolivia, Plurinational State of",slug:"bolivia-plurinational-state-of"},{id:28,code:"BQ",name:"Bonaire, Sint Eustatius and Saba",slug:"bonaire-sint-eustatius-and-saba"},{id:29,code:"BA",name:"Bosnia and Herzegovina",slug:"bosnia-and-herzegovina"},{id:30,code:"BW",name:"Botswana",slug:"botswana"},{id:31,code:"BV",name:"Bouvet Island",slug:"bouvet-island"},{id:32,code:"BR",name:"Brazil",slug:"brazil"},{id:33,code:"IO",name:"British Indian Ocean Territory",slug:"british-indian-ocean-territory"},{id:34,code:"BN",name:"Brunei Darussalam",slug:"brunei-darussalam"},{id:35,code:"BG",name:"Bulgaria",slug:"bulgaria"},{id:36,code:"BF",name:"Burkina Faso",slug:"burkina-faso"},{id:37,code:"BI",name:"Burundi",slug:"burundi"},{id:38,code:"KH",name:"Cambodia",slug:"cambodia"},{id:39,code:"CM",name:"Cameroon",slug:"cameroon"},{id:40,code:"CA",name:"Canada",slug:"canada"},{id:41,code:"CV",name:"Cape Verde",slug:"cape-verde"},{id:42,code:"KY",name:"Cayman Islands",slug:"cayman-islands"},{id:43,code:"CF",name:"Central African Republic",slug:"central-african-republic"},{id:44,code:"TD",name:"Chad",slug:"chad"},{id:45,code:"CL",name:"Chile",slug:"chile"},{id:46,code:"CN",name:"China",slug:"china"},{id:47,code:"CX",name:"Christmas Island",slug:"christmas-island"},{id:48,code:"CC",name:"Cocos (Keeling) Islands",slug:"cocos-keeling-islands"},{id:49,code:"CO",name:"Colombia",slug:"colombia"},{id:50,code:"KM",name:"Comoros",slug:"comoros"},{id:51,code:"CG",name:"Congo",slug:"congo"},{id:52,code:"CD",name:"Congo, the Democratic Republic of the",slug:"congo-the-democratic-republic-of-the"},{id:53,code:"CK",name:"Cook Islands",slug:"cook-islands"},{id:54,code:"CR",name:"Costa Rica",slug:"costa-rica"},{id:55,code:"CI",name:"Cte d'Ivoire",slug:"cote-divoire"},{id:56,code:"HR",name:"Croatia",slug:"croatia"},{id:57,code:"CU",name:"Cuba",slug:"cuba"},{id:58,code:"CW",name:"Curaao",slug:"curacao"},{id:59,code:"CY",name:"Cyprus",slug:"cyprus"},{id:60,code:"CZ",name:"Czech Republic",slug:"czech-republic"},{id:61,code:"DK",name:"Denmark",slug:"denmark"},{id:62,code:"DJ",name:"Djibouti",slug:"djibouti"},{id:63,code:"DM",name:"Dominica",slug:"dominica"},{id:64,code:"DO",name:"Dominican Republic",slug:"dominican-republic"},{id:65,code:"EC",name:"Ecuador",slug:"ecuador"},{id:66,code:"EG",name:"Egypt",slug:"egypt"},{id:67,code:"SV",name:"El Salvador",slug:"el-salvador"},{id:68,code:"GQ",name:"Equatorial Guinea",slug:"equatorial-guinea"},{id:69,code:"ER",name:"Eritrea",slug:"eritrea"},{id:70,code:"EE",name:"Estonia",slug:"estonia"},{id:71,code:"ET",name:"Ethiopia",slug:"ethiopia"},{id:72,code:"FK",name:"Falkland Islands (Malvinas)",slug:"falkland-islands-malvinas"},{id:73,code:"FO",name:"Faroe Islands",slug:"faroe-islands"},{id:74,code:"FJ",name:"Fiji",slug:"fiji"},{id:75,code:"FI",name:"Finland",slug:"finland"},{id:76,code:"FR",name:"France",slug:"france"},{id:77,code:"GF",name:"French Guiana",slug:"french-guiana"},{id:78,code:"PF",name:"French Polynesia",slug:"french-polynesia"},{id:79,code:"TF",name:"French Southern Territories",slug:"french-southern-territories"},{id:80,code:"GA",name:"Gabon",slug:"gabon"},{id:81,code:"GM",name:"Gambia",slug:"gambia"},{id:82,code:"GE",name:"Georgia",slug:"georgia"},{id:83,code:"DE",name:"Germany",slug:"germany"},{id:84,code:"GH",name:"Ghana",slug:"ghana"},{id:85,code:"GI",name:"Gibraltar",slug:"gibraltar"},{id:86,code:"GR",name:"Greece",slug:"greece"},{id:87,code:"GL",name:"Greenland",slug:"greenland"},{id:88,code:"GD",name:"Grenada",slug:"grenada"},{id:89,code:"GP",name:"Guadeloupe",slug:"guadeloupe"},{id:90,code:"GU",name:"Guam",slug:"guam"},{id:91,code:"GT",name:"Guatemala",slug:"guatemala"},{id:92,code:"GG",name:"Guernsey",slug:"guernsey"},{id:93,code:"GN",name:"Guinea",slug:"guinea"},{id:94,code:"GW",name:"Guinea-Bissau",slug:"guinea-bissau"},{id:95,code:"GY",name:"Guyana",slug:"guyana"},{id:96,code:"HT",name:"Haiti",slug:"haiti"},{id:97,code:"HM",name:"Heard Island and McDonald Islands",slug:"heard-island-and-mcdonald-islands"},{id:98,code:"VA",name:"Holy See (Vatican City State)",slug:"holy-see-vatican-city-state"},{id:99,code:"HN",name:"Honduras",slug:"honduras"},{id:100,code:"HK",name:"Hong Kong",slug:"hong-kong"},{id:101,code:"HU",name:"Hungary",slug:"hungary"},{id:102,code:"IS",name:"Iceland",slug:"iceland"},{id:103,code:"IN",name:"India",slug:"india"},{id:104,code:"ID",name:"Indonesia",slug:"indonesia"},{id:105,code:"IR",name:"Iran, Islamic Republic of",slug:"iran-islamic-republic-of"},{id:106,code:"IQ",name:"Iraq",slug:"iraq"},{id:107,code:"IE",name:"Ireland",slug:"ireland"},{id:108,code:"IM",name:"Isle of Man",slug:"isle-of-man"},{id:109,code:"IL",name:"Israel",slug:"israel"},{id:110,code:"IT",name:"Italy",slug:"italy"},{id:111,code:"JM",name:"Jamaica",slug:"jamaica"},{id:112,code:"JP",name:"Japan",slug:"japan"},{id:113,code:"JE",name:"Jersey",slug:"jersey"},{id:114,code:"JO",name:"Jordan",slug:"jordan"},{id:115,code:"KZ",name:"Kazakhstan",slug:"kazakhstan"},{id:116,code:"KE",name:"Kenya",slug:"kenya"},{id:117,code:"KI",name:"Kiribati",slug:"kiribati"},{id:118,code:"KP",name:"Korea, Democratic People's Republic of",slug:"korea-democratic-peoples-republic-of"},{id:119,code:"KR",name:"Korea, Republic of",slug:"korea-republic-of"},{id:120,code:"KW",name:"Kuwait",slug:"kuwait"},{id:121,code:"KG",name:"Kyrgyzstan",slug:"kyrgyzstan"},{id:122,code:"LA",name:"Lao People's Democratic Republic",slug:"lao-peoples-democratic-republic"},{id:123,code:"LV",name:"Latvia",slug:"latvia"},{id:124,code:"LB",name:"Lebanon",slug:"lebanon"},{id:125,code:"LS",name:"Lesotho",slug:"lesotho"},{id:126,code:"LR",name:"Liberia",slug:"liberia"},{id:127,code:"LY",name:"Libya",slug:"libya"},{id:128,code:"LI",name:"Liechtenstein",slug:"liechtenstein"},{id:129,code:"LT",name:"Lithuania",slug:"lithuania"},{id:130,code:"LU",name:"Luxembourg",slug:"luxembourg"},{id:131,code:"MO",name:"Macao",slug:"macao"},{id:132,code:"MK",name:"Macedonia, the Former Yugoslav Republic of",slug:"macedonia-the-former-yugoslav-republic-of"},{id:133,code:"MG",name:"Madagascar",slug:"madagascar"},{id:134,code:"MW",name:"Malawi",slug:"malawi"},{id:135,code:"MY",name:"Malaysia",slug:"malaysia"},{id:136,code:"MV",name:"Maldives",slug:"maldives"},{id:137,code:"ML",name:"Mali",slug:"mali"},{id:138,code:"MT",name:"Malta",slug:"malta"},{id:139,code:"MH",name:"Marshall Islands",slug:"marshall-islands"},{id:140,code:"MQ",name:"Martinique",slug:"martinique"},{id:141,code:"MR",name:"Mauritania",slug:"mauritania"},{id:142,code:"MU",name:"Mauritius",slug:"mauritius"},{id:143,code:"YT",name:"Mayotte",slug:"mayotte"},{id:144,code:"MX",name:"Mexico",slug:"mexico"},{id:145,code:"FM",name:"Micronesia, Federated States of",slug:"micronesia-federated-states-of"},{id:146,code:"MD",name:"Moldova, Republic of",slug:"moldova-republic-of"},{id:147,code:"MC",name:"Monaco",slug:"monaco"},{id:148,code:"MN",name:"Mongolia",slug:"mongolia"},{id:149,code:"ME",name:"Montenegro",slug:"montenegro"},{id:150,code:"MS",name:"Montserrat",slug:"montserrat"},{id:151,code:"MA",name:"Morocco",slug:"morocco"},{id:152,code:"MZ",name:"Mozambique",slug:"mozambique"},{id:153,code:"MM",name:"Myanmar",slug:"myanmar"},{id:154,code:"NA",name:"Namibia",slug:"namibia"},{id:155,code:"NR",name:"Nauru",slug:"nauru"},{id:156,code:"NP",name:"Nepal",slug:"nepal"},{id:157,code:"NL",name:"Netherlands",slug:"netherlands"},{id:158,code:"NC",name:"New Caledonia",slug:"new-caledonia"},{id:159,code:"NZ",name:"New Zealand",slug:"new-zealand"},{id:160,code:"NI",name:"Nicaragua",slug:"nicaragua"},{id:161,code:"NE",name:"Niger",slug:"niger"},{id:162,code:"NG",name:"Nigeria",slug:"nigeria"},{id:163,code:"NU",name:"Niue",slug:"niue"},{id:164,code:"NF",name:"Norfolk Island",slug:"norfolk-island"},{id:165,code:"MP",name:"Northern Mariana Islands",slug:"northern-mariana-islands"},{id:166,code:"NO",name:"Norway",slug:"norway"},{id:167,code:"OM",name:"Oman",slug:"oman"},{id:168,code:"PK",name:"Pakistan",slug:"pakistan"},{id:169,code:"PW",name:"Palau",slug:"palau"},{id:170,code:"PS",name:"Palestine, State of",slug:"palestine-state-of"},{id:171,code:"PA",name:"Panama",slug:"panama"},{id:172,code:"PG",name:"Papua New Guinea",slug:"papua-new-guinea"},{id:173,code:"PY",name:"Paraguay",slug:"paraguay"},{id:174,code:"PE",name:"Peru",slug:"peru"},{id:175,code:"PH",name:"Philippines",slug:"philippines"},{id:176,code:"PN",name:"Pitcairn",slug:"pitcairn"},{id:177,code:"PL",name:"Poland",slug:"poland"},{id:178,code:"PT",name:"Portugal",slug:"portugal"},{id:179,code:"PR",name:"Puerto Rico",slug:"puerto-rico"},{id:180,code:"QA",name:"Qatar",slug:"qatar"},{id:181,code:"RE",name:"Runion",slug:"reunion"},{id:182,code:"RO",name:"Romania",slug:"romania"},{id:183,code:"RU",name:"Russian Federation",slug:"russian-federation"},{id:184,code:"RW",name:"Rwanda",slug:"rwanda"},{id:185,code:"BL",name:"Saint Barthlemy",slug:"saint-barthelemy"},{id:186,code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha",slug:"saint-helena-ascension-and-tristan-da-cunha"},{id:187,code:"KN",name:"Saint Kitts and Nevis",slug:"saint-kitts-and-nevis"},{id:188,code:"LC",name:"Saint Lucia",slug:"saint-lucia"},{id:189,code:"MF",name:"Saint Martin (French part)",slug:"saint-martin-french-part"},{id:190,code:"PM",name:"Saint Pierre and Miquelon",slug:"saint-pierre-and-miquelon"},{id:191,code:"VC",name:"Saint Vincent and the Grenadines",slug:"saint-vincent-and-the-grenadines"},{id:192,code:"WS",name:"Samoa",slug:"samoa"},{id:193,code:"SM",name:"San Marino",slug:"san-marino"},{id:194,code:"ST",name:"Sao Tome and Principe",slug:"sao-tome-and-principe"},{id:195,code:"SA",name:"Saudi Arabia",slug:"saudi-arabia"},{id:196,code:"SN",name:"Senegal",slug:"senegal"},{id:197,code:"RS",name:"Serbia",slug:"serbia"},{id:198,code:"SC",name:"Seychelles",slug:"seychelles"},{id:199,code:"SL",name:"Sierra Leone",slug:"sierra-leone"},{id:200,code:"SG",name:"Singapore",slug:"singapore"},{id:201,code:"SX",name:"Sint Maarten (Dutch part)",slug:"sint-maarten-dutch-part"},{id:202,code:"SK",name:"Slovakia",slug:"slovakia"},{id:203,code:"SI",name:"Slovenia",slug:"slovenia"},{id:204,code:"SB",name:"Solomon Islands",slug:"solomon-islands"},{id:205,code:"SO",name:"Somalia",slug:"somalia"},{id:206,code:"ZA",name:"South Africa",slug:"south-africa"},{id:207,code:"GS",name:"South Georgia and the South Sandwich Islands",slug:"south-georgia-and-the-south-sandwich-islands"},{id:208,code:"SS",name:"South Sudan",slug:"south-sudan"},{id:209,code:"ES",name:"Spain",slug:"spain"},{id:210,code:"LK",name:"Sri Lanka",slug:"sri-lanka"},{id:211,code:"SD",name:"Sudan",slug:"sudan"},{id:212,code:"SR",name:"Suriname",slug:"suriname"},{id:213,code:"SJ",name:"Svalbard and Jan Mayen",slug:"svalbard-and-jan-mayen"},{id:214,code:"SZ",name:"Swaziland",slug:"swaziland"},{id:215,code:"SE",name:"Sweden",slug:"sweden"},{id:216,code:"CH",name:"Switzerland",slug:"switzerland"},{id:217,code:"SY",name:"Syrian Arab Republic",slug:"syrian-arab-republic"},{id:218,code:"TW",name:"Taiwan, Province of China",slug:"taiwan-province-of-china"},{id:219,code:"TJ",name:"Tajikistan",slug:"tajikistan"},{id:220,code:"TZ",name:"Tanzania, United Republic of",slug:"tanzania-united-republic-of"},{id:221,code:"TH",name:"Thailand",slug:"thailand"},{id:222,code:"TL",name:"Timor-Leste",slug:"timor-leste"},{id:223,code:"TG",name:"Togo",slug:"togo"},{id:224,code:"TK",name:"Tokelau",slug:"tokelau"},{id:225,code:"TO",name:"Tonga",slug:"tonga"},{id:226,code:"TT",name:"Trinidad and Tobago",slug:"trinidad-and-tobago"},{id:227,code:"TN",name:"Tunisia",slug:"tunisia"},{id:228,code:"TR",name:"Turkey",slug:"turkey"},{id:229,code:"TM",name:"Turkmenistan",slug:"turkmenistan"},{id:230,code:"TC",name:"Turks and Caicos Islands",slug:"turks-and-caicos-islands"},{id:231,code:"TV",name:"Tuvalu",slug:"tuvalu"},{id:232,code:"UG",name:"Uganda",slug:"uganda"},{id:233,code:"UA",name:"Ukraine",slug:"ukraine"},{id:234,code:"AE",name:"United Arab Emirates",slug:"united-arab-emirates"},{id:235,code:"GB",name:"United Kingdom",slug:"united-kingdom"},{id:236,code:"US",name:"United States",slug:"united-states"},{id:237,code:"UM",name:"United States Minor Outlying Islands",slug:"united-states-minor-outlying-islands"},{id:238,code:"UY",name:"Uruguay",slug:"uruguay"},{id:239,code:"UZ",name:"Uzbekistan",slug:"uzbekistan"},{id:240,code:"VU",name:"Vanuatu",slug:"vanuatu"},{id:241,code:"VE",name:"Venezuela, Bolivarian Republic of",slug:"venezuela-bolivarian-republic-of"},{id:242,code:"VN",name:"Viet Nam",slug:"viet-nam"},{id:243,code:"VG",name:"Virgin Islands, British",slug:"virgin-islands-british"},{id:244,code:"VI",name:"Virgin Islands, U.S.",slug:"virgin-islands-us"},{id:245,code:"WF",name:"Wallis and Futuna",slug:"wallis-and-futuna"},{id:246,code:"EH",name:"Western Sahara",slug:"western-sahara"},{id:247,code:"YE",name:"Yemen",slug:"yemen"},{id:248,code:"ZM",name:"Zambia",slug:"zambia"},{id:249,code:"ZW",name:"Zimbabwe",slug:"zimbabwe"}]},1517:function(module,exports,__webpack_require__){"use strict";var IRECBusinessLegalStatus;Object.defineProperty(exports,"__esModule",{value:!0}),function(IRECBusinessLegalStatus){IRECBusinessLegalStatus[IRECBusinessLegalStatus.RegisteredIncorporatedBody=1]="RegisteredIncorporatedBody",IRECBusinessLegalStatus[IRECBusinessLegalStatus.PublicSectorEntity=2]="PublicSectorEntity",IRECBusinessLegalStatus[IRECBusinessLegalStatus.PrivateIndividual=3]="PrivateIndividual"}(IRECBusinessLegalStatus=exports.IRECBusinessLegalStatus||(exports.IRECBusinessLegalStatus={})),exports.IRECBusinessLegalStatusLabelsMap={[IRECBusinessLegalStatus.RegisteredIncorporatedBody]:"Registered incorporated body",[IRECBusinessLegalStatus.PublicSectorEntity]:"Public sector entity",[IRECBusinessLegalStatus.PrivateIndividual]:"Private individual"}},1518:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.LocationService=class LocationService{matches(currentLocation,checkedLocation){return this.filterForHighestSpecificity(currentLocation).map(type=>[...this.decode([type])[0]]).some(location=>checkedLocation.startsWith(this.encode([location])[0]))}matchesSome(currentLocation,checkedLocations){return this.filterForHighestSpecificity(currentLocation).map(type=>[...this.decode([type])[0]]).some(location=>checkedLocations.some(checkedLocation=>checkedLocation.startsWith(this.encode([location])[0])))}encode(decoded){return decoded.map(group=>group.join(";"))}decode(encoded){return encoded.map(item=>item.split(";"))}filterForHighestSpecificity(types){const decodedTypes=types.map(type=>[...this.decode([type])[0]]);return this.encode(decodedTypes.filter(type=>!decodedTypes.some(nestedType=>nestedType[0]===type[0]&&type.length<nestedType.length)))}}},1519:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const eth_sig_util_1=__importDefault(__webpack_require__(1520));exports.recoverTypedSignatureAddress=async function recoverTypedSignatureAddress(text,signedMessage){const data={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"}],TextInformation:[{name:"text",type:"string"}]},domain:{name:"Origin",version:"2"},primaryType:"TextInformation",message:{text:text}};return eth_sig_util_1.default.recoverTypedSignature({sig:signedMessage,data:data})},exports.signTypedMessage=async function signTypedMessage(from,text,web3){const data={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"}],TextInformation:[{name:"text",type:"string"}]},domain:{name:"Origin",version:"2"},primaryType:"TextInformation",message:{text:text}};return web3.send("eth_signTypedData_v4",[from,JSON.stringify(data)])}},1527:function(module,exports){},1529:function(module,exports){},1546:function(module,exports){},1548:function(module,exports){},157:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HierarchicalMultiSelect}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(440),__webpack_require__(55),__webpack_require__(96),__webpack_require__(117),__webpack_require__(44),__webpack_require__(24),__webpack_require__(587),__webpack_require__(30),__webpack_require__(172),__webpack_require__(28),__webpack_require__(97),__webpack_require__(57),__webpack_require__(16),__webpack_require__(98),__webpack_require__(32),__webpack_require__(738),__webpack_require__(33),__webpack_require__(320),__webpack_require__(768),__webpack_require__(26);var react__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_24__),_MultiSelectAutocomplete__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(355),_utils__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function decode(encodedValue){return encodedValue.map((function(item){return item.split(";")}))}function encode(decodedType){return decodedType.map((function(group){return group.join(";")}))}function filterSelected(currentType,types,selected){return(selected||[]).find((function(type){return type.value===currentType}))?types.filter((function(t){return t.startsWith("".concat(currentType,";"))})):[]}function valuesToSelectionOptions(types){return types.map((function(t){return{value:t,label:(value=t,decode([value])[0].join(" - "))};var value}))}function HierarchicalMultiSelect(props){var _props$selectOptions$,_props$selectOptions$2,selectedValueDecoded=decode(props.selectedValue),singleChoice=props.singleChoice,allValues=[];function allValuesByLevel(level){return allValues.filter((function(t){return t.length===level})).map((function(t){return encode([t]).pop()}))}function selectedOptionsByLevel(level){return selectedValueDecoded&&valuesToSelectionOptions(encode(selectedValueDecoded.filter((function(t){return t.length===level}))))}function setValueByLevel(newSelectedOptions,level){var newEncodedType,newSelectedOptionsArray=newSelectedOptions||[];if(singleChoice){if(1<newSelectedOptionsArray.length)return;newEncodedType=1===level&&0===newSelectedOptionsArray.length?[]:encode([].concat(_toConsumableArray(selectedValueDecoded.filter((function(t){return t.length!==level}))),_toConsumableArray(newSelectedOptionsArray.map((function(i){return[i.value]})))))}else if(newEncodedType=encode([].concat(_toConsumableArray(selectedValueDecoded.filter((function(t){return t.length!==level}))),_toConsumableArray(newSelectedOptionsArray.map((function(i){return[i.value]}))))),1===level&&0<newSelectedOptionsArray.length){var alreadySelectedLevelOneOptions=selectedOptionsByLevel(1),selectedToAdd=newSelectedOptionsArray.filter((function(o){return alreadySelectedLevelOneOptions.every((function(selectedOption){return selectedOption.value!==o.value}))})).reduce((function(a,b){return[].concat(_toConsumableArray(a),_toConsumableArray(function getDerivedTypesFromType(type){var derivedTypes=[],availableL2Types=allValuesByLevel(2),availableL3Types=allValuesByLevel(3),optionLevel2Types=filterSelected(type,availableL2Types,valuesToSelectionOptions([type]));return derivedTypes.push.apply(derivedTypes,_toConsumableArray(optionLevel2Types)),optionLevel2Types.map((function(t){derivedTypes.push.apply(derivedTypes,_toConsumableArray(filterSelected(t,availableL3Types,valuesToSelectionOptions(optionLevel2Types))))})),derivedTypes}(b.value)))}),[]);newEncodedType=_toConsumableArray(new Set([].concat(_toConsumableArray(newEncodedType),_toConsumableArray(selectedToAdd))))}newEncodedType=function filterOutOrphanOptions(type){if(!type)return[];var allTypesDecoded=decode(type),levelOneTypes=allTypesDecoded.filter((function(i){return 1===i.length})),levelTwoTypes=allTypesDecoded.filter((function(i){return 2===i.length})),levelThreeTypes=allTypesDecoded.filter((function(i){return 3===i.length}));if(0===levelOneTypes.length)return[];var filteredLevelTwoTypes=levelTwoTypes.filter((function(childType){return 1===levelOneTypes.filter((function(parentType){return parentType[0]===childType[0]})).length})),filteredLevelThreeTypes=levelThreeTypes.filter((function(childType){return 1===filteredLevelTwoTypes.filter((function(parentType){return parentType[0]===childType[0]&&parentType[1]===childType[1]})).length}));return encode([].concat(_toConsumableArray(levelOneTypes),_toConsumableArray(filteredLevelTwoTypes),_toConsumableArray(filteredLevelThreeTypes)))}(newEncodedType),props.onChange(newEncodedType)}props.allValues?allValues.push.apply(allValues,_toConsumableArray(props.allValues)):Object.keys(props.options).map((function(key){allValues.push([key]),props.options[key].map((function(item){allValues.push([key,item])}))}));var disabled=props.disabled,readOnly=props.readOnly,allValuesLevelOne=valuesToSelectionOptions(allValuesByLevel(1)),_getOptions=function(){var selectedTypesLevelOne=selectedOptionsByLevel(1),selectedTypesLevelTwo=selectedOptionsByLevel(2),levelTwoTypes=[],levelThreeTypes=[],availableL1Types=allValuesByLevel(1),availableL2Types=allValuesByLevel(2),availableL3Types=allValuesByLevel(3),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=availableL1Types[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var level2Types=filterSelected(_step.value,availableL2Types,selectedTypesLevelOne);if(level2Types.length){levelTwoTypes.push.apply(levelTwoTypes,_toConsumableArray(level2Types));var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=level2Types[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var level3Types=filterSelected(_step3.value,availableL3Types,selectedTypesLevelTwo);0<level3Types.length&&levelThreeTypes.push.apply(levelThreeTypes,_toConsumableArray(level3Types))}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=selectedTypesLevelTwo[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _level3Types=filterSelected(_step2.value.value,availableL3Types,selectedTypesLevelTwo);0<_level3Types.length&&levelThreeTypes.push.apply(levelThreeTypes,_toConsumableArray(_level3Types))}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return{levelTwoValues:valuesToSelectionOptions(levelTwoTypes),levelThreeValues:valuesToSelectionOptions(_toConsumableArray(new Set(levelThreeTypes)))}}(),levelTwoValues=_getOptions.levelTwoValues,levelThreeValues=_getOptions.levelThreeValues,selectedValuesLevelOne=selectedOptionsByLevel(1),selectedValuesLevelTwo=selectedOptionsByLevel(2),selectedValuesLevelThree=selectedOptionsByLevel(3);return react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_24___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_MultiSelectAutocomplete__WEBPACK_IMPORTED_MODULE_25__.a,_extends({label:props.selectOptions[0].label,placeholder:readOnly?"":props.selectOptions[0].placeholder,options:allValuesLevelOne,onChange:function onChange(value){return setValueByLevel(value,1)},selectedValues:selectedValuesLevelOne,className:"mt-3",disabled:disabled},Object(_utils__WEBPACK_IMPORTED_MODULE_26__.g)("hierarchical-multi-select-level-1"))),props.selectOptions&&(null===(_props$selectOptions$=props.selectOptions[1])||void 0===_props$selectOptions$?void 0:_props$selectOptions$.label)&&0<levelTwoValues.length&&react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement("div",{style:{marginTop:"6px"}},react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_MultiSelectAutocomplete__WEBPACK_IMPORTED_MODULE_25__.a,_extends({label:props.selectOptions[1].label,placeholder:readOnly?"":props.selectOptions[1].placeholder,options:levelTwoValues,onChange:function onChange(value){return setValueByLevel(value,2)},selectedValues:selectedValuesLevelTwo,className:"mt-3",disabled:disabled},Object(_utils__WEBPACK_IMPORTED_MODULE_26__.g)("hierarchical-multi-select-level-2")))),props.selectOptions&&(null===(_props$selectOptions$2=props.selectOptions[2])||void 0===_props$selectOptions$2?void 0:_props$selectOptions$2.label)&&0<levelThreeValues.length&&react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement("div",{style:{marginTop:"6px"}},react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_MultiSelectAutocomplete__WEBPACK_IMPORTED_MODULE_25__.a,_extends({label:props.selectOptions[2].label,placeholder:readOnly?"":props.selectOptions[2].placeholder,options:levelThreeValues,onChange:function onChange(value){return setValueByLevel(value,3)},selectedValues:selectedValuesLevelThree,className:"mt-3",disabled:disabled},Object(_utils__WEBPACK_IMPORTED_MODULE_26__.g)("hierarchical-multi-select-level-3")))))}HierarchicalMultiSelect.__docgenInfo={description:"",methods:[],displayName:"HierarchicalMultiSelect",props:{selectedValue:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: EncodedValueType) => void",signature:{arguments:[{name:"value",type:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}],return:{name:"void"}}},description:""},selectOptions:{required:!0,tsType:{name:"Array",elements:[{name:"ISelectOptions"}],raw:"ISelectOptions[]"},description:""},singleChoice:{required:!1,tsType:{name:"boolean"},description:""},options:{required:!1,tsType:{name:"T"},description:""},allValues:{required:!1,tsType:{name:"Array",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"}],raw:"string[][]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HierarchicalMultiSelect.tsx"]={name:"HierarchicalMultiSelect",docgenInfo:HierarchicalMultiSelect.__docgenInfo,path:"src/components/HierarchicalMultiSelect.tsx"})},1575:function(module,exports){},165:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getCertificates})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getRequestCertificatesModalProducingDevice})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getRequestCertificatesModalVisible})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getCertificateById})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCertificateFetcher}));__webpack_require__(96);var getCertificates=function(state){return state.certificates.certificates},getRequestCertificatesModalProducingDevice=function(state){return state.certificates.requestCertificatesModal.producingDevice},getRequestCertificatesModalVisible=function(state){return state.certificates.requestCertificatesModal.visible},getCertificateById=function(certificates,id){if(void 0!==id)return certificates.find((function(i){return i.id===id}))},getCertificateFetcher=function(state){return state.certificates.fetcher}},1658:function(module,exports){module.exports={XMLHttpRequest:XMLHttpRequest}},1661:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(Role){Role[Role.UserAdmin=0]="UserAdmin",Role[Role.DeviceAdmin=1]="DeviceAdmin",Role[Role.DeviceManager=2]="DeviceManager",Role[Role.Trader=3]="Trader",Role[Role.Issuer=4]="Issuer"}(exports.Role||(exports.Role={})),exports.buildRights=function buildRights(roles){return roles?roles.reduce((a,b)=>a|Math.pow(2,b),0):0},exports.isRole=function isRole(user,role){if(!user)return!1;const roleTransfomed=Math.pow(2,role);return 0!=(user.rights&roleTransfomed)}},1662:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(OrganizationStatus){OrganizationStatus[OrganizationStatus.Submitted=0]="Submitted",OrganizationStatus[OrganizationStatus.Denied=1]="Denied",OrganizationStatus[OrganizationStatus.Active=2]="Active"}(exports.OrganizationStatus||(exports.OrganizationStatus={}))},1663:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(OrganizationInvitationStatus){OrganizationInvitationStatus[OrganizationInvitationStatus.Pending=0]="Pending",OrganizationInvitationStatus[OrganizationInvitationStatus.Rejected=1]="Rejected",OrganizationInvitationStatus[OrganizationInvitationStatus.Accepted=2]="Accepted"}(exports.OrganizationInvitationStatus||(exports.OrganizationInvitationStatus={}))},1664:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(DeviceStatus){DeviceStatus[DeviceStatus.Submitted=0]="Submitted",DeviceStatus[DeviceStatus.Denied=1]="Denied",DeviceStatus[DeviceStatus.Active=2]="Active"}(exports.DeviceStatus||(exports.DeviceStatus={}))},1665:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(SupportedEvents){SupportedEvents.DEVICE_STATUS_CHANGED="DeviceStatusChanged",SupportedEvents.CREATE_NEW_DEMAND="CreatedNewDemand",SupportedEvents.DEMAND_UPDATED="DemandUpdated",SupportedEvents.DEMAND_PARTIALLY_FILLED="DemandPartiallyFilled",SupportedEvents.ORGANIZATION_STATUS_CHANGED="OrganizationStatusChanged",SupportedEvents.ORGANIZATION_INVITATION="OrganizationInvitation",SupportedEvents.ORGANIZATION_REMOVED_MEMBER="OrganizationRemovedMember"}(exports.SupportedEvents||(exports.SupportedEvents={}))},1666:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FILE_SUPPORTED_MIMETYPES=["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]},1667:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=__webpack_require__(79);exports.MAX_ENERGY_PER_CERTIFICATE=utils_1.bigNumberify(2).pow(256).sub(1)},1668:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(CommitmentStatus){CommitmentStatus[CommitmentStatus.CURRENT=0]="CURRENT",CommitmentStatus[CommitmentStatus.PENDING=1]="PENDING",CommitmentStatus[CommitmentStatus.REJECTED=2]="REJECTED"}(exports.CommitmentStatus||(exports.CommitmentStatus={}))},1669:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=__webpack_require__(79),Certificate_1=__webpack_require__(955),events_1=__webpack_require__(607);exports.claimCertificates=async function claimCertificates(certificateIds,configuration){const certificatesPromises=certificateIds.map(certId=>new Certificate_1.Certificate(certId,configuration).sync()),certificates=await Promise.all(certificatesPromises);if(!certificates.every(cert=>!0===cert.isOwned))throw new Error("You can only claim your own certificates");const values=certificates.map(cert=>cert.energy.publicVolume),claimData=certificates.map(()=>utils_1.randomBytes(32)),data=utils_1.randomBytes(32),{activeUser:activeUser,registry:registry}=configuration.blockchainProperties,registryWithSigner=registry.connect(activeUser),activeUserAddress=await activeUser.getAddress(),claimTx=await registryWithSigner.safeBatchTransferAndClaimFrom(activeUserAddress,activeUserAddress,certificateIds,values,data,claimData);return await claimTx.wait(),claimTx},exports.transferCertificates=async function transferCertificates(certificateIds,to,configuration){const certificatesPromises=certificateIds.map(certId=>new Certificate_1.Certificate(certId,configuration).sync()),certificates=await Promise.all(certificatesPromises);if(!certificates.every(cert=>!0===cert.isOwned))throw new Error("You can only claim your own certificates");const values=certificates.map(cert=>cert.energy.publicVolume),data=utils_1.randomBytes(32),{activeUser:activeUser}=configuration.blockchainProperties,{registry:registry}=configuration.blockchainProperties,registryWithSigner=registry.connect(activeUser),activeUserAddress=await activeUser.getAddress(),transferTx=await registryWithSigner.safeBatchTransferFrom(activeUserAddress,to,certificateIds,values,data);return await transferTx.wait(),transferTx},exports.getAllCertificates=async function getAllCertificates(configuration){const{issuer:issuer}=configuration.blockchainProperties,certificatePromises=(await events_1.getEventsFromContract(issuer,issuer.filters.CertificationRequestApproved(null,null,null))).map(event=>new Certificate_1.Certificate(event._certificateId.toNumber(),configuration).sync());return Promise.all(certificatePromises)},exports.getAllCertificateEvents=async(certId,configuration)=>{const{registry:registry}=configuration.blockchainProperties,getEvent=async(filter,eventName)=>{const logs=await registry.provider.getLogs({...filter,fromBlock:0,toBlock:"latest"});return(await Promise.all(logs.map(async event=>{const{values:values}=registry.interface.parseLog(event),eventBlock=await registry.provider.getBlock(event.blockHash);return{name:eventName,transactionHash:event.transactionHash,blockHash:event.blockHash,values:values,timestamp:eventBlock.timestamp}}))).filter(event=>event.values._id.toNumber()===certId)};return[...await getEvent(registry.filters.IssuanceSingle(null,null,null),"IssuanceSingle"),...await getEvent(registry.filters.TransferSingle(null,null,null,null,null),"TransferSingle"),...await getEvent(registry.filters.ClaimSingle(null,null,null,null,null,null),"ClaimSingle")]}},1693:function(module){module.exports=JSON.parse('{"contractName":"Registry","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_operator","type":"address"},{"indexed":false,"internalType":"bool","name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_claimIssuer","type":"address"},{"indexed":true,"internalType":"address","name":"_claimSubject","type":"address"},{"indexed":true,"internalType":"int256[]","name":"_topics","type":"int256[]"},{"indexed":false,"internalType":"uint256[]","name":"_ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"_values","type":"uint256[]"},{"indexed":false,"internalType":"bytes32[]","name":"_claimData","type":"bytes32[]"}],"name":"ClaimBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_claimIssuer","type":"address"},{"indexed":true,"internalType":"address","name":"_claimSubject","type":"address"},{"indexed":true,"internalType":"int256","name":"_topic","type":"int256"},{"indexed":false,"internalType":"uint256","name":"_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"_claimData","type":"bytes32"}],"name":"ClaimSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_issuer","type":"address"},{"indexed":true,"internalType":"int256","name":"_topic","type":"int256"},{"indexed":false,"internalType":"uint256","name":"_id","type":"uint256"}],"name":"IssuanceSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_operator","type":"address"},{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"_ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"_values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_operator","type":"address"},{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_value","type":"string"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"}],"name":"URI","type":"event"},{"constant":true,"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256[]","name":"_ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"certificateStorage","outputs":[{"internalType":"int256","name":"topic","type":"int256"},{"internalType":"address","name":"issuer","type":"address"},{"internalType":"bytes","name":"validityData","type":"bytes"},{"internalType":"bytes","name":"data","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"claimedBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_initialSupply","type":"uint256"},{"internalType":"string","name":"_uri","type":"string"},{"internalType":"address","name":"creator","type":"address"}],"name":"create","outputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"creators","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256[]","name":"_ids","type":"uint256[]"},{"internalType":"uint256[]","name":"_values","type":"uint256[]"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"_uri","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"setURI","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"_interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"bytes","name":"_validityData","type":"bytes"},{"internalType":"int256","name":"_topic","type":"int256"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"issue","outputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes32","name":"_claimData","type":"bytes32"}],"name":"safeTransferAndClaimFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256[]","name":"_ids","type":"uint256[]"},{"internalType":"uint256[]","name":"_values","type":"uint256[]"},{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes32[]","name":"_claimData","type":"bytes32[]"}],"name":"safeBatchTransferAndClaimFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getCertificate","outputs":[{"internalType":"address","name":"issuer","type":"address"},{"internalType":"int256","name":"topic","type":"int256"},{"internalType":"bytes","name":"validityData","type":"bytes"},{"internalType":"bytes","name":"data","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"claimedBalanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"allCertificateIds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"}],"metadata":"{\\"compiler\\":{\\"version\\":\\"0.5.16+commit.9c3226ce\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_operator\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"_approved\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"ApprovalForAll\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_claimIssuer\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_claimSubject\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"int256[]\\",\\"name\\":\\"_topics\\",\\"type\\":\\"int256[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_ids\\",\\"type\\":\\"uint256[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_values\\",\\"type\\":\\"uint256[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes32[]\\",\\"name\\":\\"_claimData\\",\\"type\\":\\"bytes32[]\\"}],\\"name\\":\\"ClaimBatch\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_claimIssuer\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_claimSubject\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"int256\\",\\"name\\":\\"_topic\\",\\"type\\":\\"int256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_claimData\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"ClaimSingle\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_issuer\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"int256\\",\\"name\\":\\"_topic\\",\\"type\\":\\"int256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"IssuanceSingle\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_operator\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_from\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_ids\\",\\"type\\":\\"uint256[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_values\\",\\"type\\":\\"uint256[]\\"}],\\"name\\":\\"TransferBatch\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_operator\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_from\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"TransferSingle\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"string\\",\\"name\\":\\"_value\\",\\"type\\":\\"string\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"URI\\",\\"type\\":\\"event\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"allCertificateIds\\",\\"outputs\\":[{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"\\",\\"type\\":\\"uint256[]\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"balanceOf\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"address[]\\",\\"name\\":\\"_owners\\",\\"type\\":\\"address[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_ids\\",\\"type\\":\\"uint256[]\\"}],\\"name\\":\\"balanceOfBatch\\",\\"outputs\\":[{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"\\",\\"type\\":\\"uint256[]\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"certificateStorage\\",\\"outputs\\":[{\\"internalType\\":\\"int256\\",\\"name\\":\\"topic\\",\\"type\\":\\"int256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"issuer\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"validityData\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"data\\",\\"type\\":\\"bytes\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"claimedBalanceOf\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"name\\":\\"claimedBalances\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_initialSupply\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"string\\",\\"name\\":\\"_uri\\",\\"type\\":\\"string\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"creator\\",\\"type\\":\\"address\\"}],\\"name\\":\\"create\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"creators\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getCertificate\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"issuer\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"int256\\",\\"name\\":\\"topic\\",\\"type\\":\\"int256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"validityData\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"data\\",\\"type\\":\\"bytes\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"initialize\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_operator\\",\\"type\\":\\"address\\"}],\\"name\\":\\"isApprovedForAll\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_validityData\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"int256\\",\\"name\\":\\"_topic\\",\\"type\\":\\"int256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"issue\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_quantity\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"mint\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"nonce\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_from\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_ids\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_values\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bytes32[]\\",\\"name\\":\\"_claimData\\",\\"type\\":\\"bytes32[]\\"}],\\"name\\":\\"safeBatchTransferAndClaimFrom\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_from\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_ids\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"uint256[]\\",\\"name\\":\\"_values\\",\\"type\\":\\"uint256[]\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"safeBatchTransferFrom\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_from\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_claimData\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"safeTransferAndClaimFrom\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_from\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"safeTransferFrom\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_operator\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"_approved\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"setApprovalForAll\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"string\\",\\"name\\":\\"_uri\\",\\"type\\":\\"string\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"setURI\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"bytes4\\",\\"name\\":\\"_interfaceId\\",\\"type\\":\\"bytes4\\"}],\\"name\\":\\"supportsInterface\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"totalSupply\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"methods\\":{\\"balanceOf(address,uint256)\\":{\\"params\\":{\\"_id\\":\\"ID of the Token\\",\\"_owner\\":\\"The address of the token holder\\"},\\"return\\":\\"The _owner\'s balance of the Token type requested\\"},\\"balanceOfBatch(address[],uint256[])\\":{\\"params\\":{\\"_ids\\":\\"ID of the Tokens\\",\\"_owners\\":\\"The addresses of the token holders\\"},\\"return\\":\\"The _owner\'s balance of the Token types requested (i.e. balance for each (owner, id) pair)\\"},\\"isApprovedForAll(address,address)\\":{\\"params\\":{\\"_operator\\":\\"Address of authorized operator\\",\\"_owner\\":\\"The owner of the Tokens\\"},\\"return\\":\\"True if the operator is approved, false if not\\"},\\"safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)\\":{\\"details\\":\\"Caller must be approved to manage the tokens being transferred out of the `_from` account (see \\\\\\"Approval\\\\\\" section of the standard). MUST revert if `_to` is the zero address. MUST revert if length of `_ids` is not the same as length of `_values`. MUST revert if any of the balance(s) of the holder(s) for token(s) in `_ids` is lower than the respective amount(s) in `_values` sent to the recipient. MUST revert on any other error. MUST emit `TransferSingle` or `TransferBatch` event(s) such that all the balance changes are reflected (see \\\\\\"Safe Transfer Rules\\\\\\" section of the standard). Balance changes and events MUST follow the ordering of the arrays (_ids[0]/_values[0] before _ids[1]/_values[1], etc). After the above conditions for the transfer(s) in the batch are met, this function MUST check if `_to` is a smart contract (e.g. code size > 0). If so, it MUST call the relevant `ERC1155TokenReceiver` hook(s) on `_to` and act appropriately (see \\\\\\"Safe Transfer Rules\\\\\\" section of the standard).\\",\\"params\\":{\\"_data\\":\\"Additional data with no specified format, MUST be sent unaltered in call to the `ERC1155TokenReceiver` hook(s) on `_to`\\",\\"_from\\":\\"Source address\\",\\"_ids\\":\\"IDs of each token type (order and length must match _values array)\\",\\"_to\\":\\"Target address\\",\\"_values\\":\\"Transfer amounts per token type (order and length must match _ids array)\\"}},\\"safeTransferFrom(address,address,uint256,uint256,bytes)\\":{\\"details\\":\\"Caller must be approved to manage the tokens being transferred out of the `_from` account (see \\\\\\"Approval\\\\\\" section of the standard). MUST revert if `_to` is the zero address. MUST revert if balance of holder for token `_id` is lower than the `_value` sent. MUST revert on any other error. MUST emit the `TransferSingle` event to reflect the balance change (see \\\\\\"Safe Transfer Rules\\\\\\" section of the standard). After the above conditions are met, this function MUST check if `_to` is a smart contract (e.g. code size > 0). If so, it MUST call `onERC1155Received` on `_to` and act appropriately (see \\\\\\"Safe Transfer Rules\\\\\\" section of the standard).\\",\\"params\\":{\\"_data\\":\\"Additional data with no specified format, MUST be sent unaltered in call to `onERC1155Received` on `_to`\\",\\"_from\\":\\"Source address\\",\\"_id\\":\\"ID of the token type\\",\\"_to\\":\\"Target address\\",\\"_value\\":\\"Transfer amount\\"}},\\"setApprovalForAll(address,bool)\\":{\\"details\\":\\"MUST emit the ApprovalForAll event on success.\\",\\"params\\":{\\"_approved\\":\\"True if the operator is approved, false to revoke approval\\",\\"_operator\\":\\"Address to add to the set of authorized operators\\"}},\\"totalSupply()\\":{\\"details\\":\\"Gets the total amount of certificates stored by the contract.\\",\\"return\\":\\"uint256 representing the total amount of certificates\\"}}},\\"userdoc\\":{\\"methods\\":{\\"balanceOf(address,uint256)\\":{\\"notice\\":\\"Get the balance of an account\'s Tokens.\\"},\\"balanceOfBatch(address[],uint256[])\\":{\\"notice\\":\\"Get the balance of multiple account/token pairs\\"},\\"isApprovedForAll(address,address)\\":{\\"notice\\":\\"Queries the approval status of an operator for a given owner.\\"},\\"safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)\\":{\\"notice\\":\\"Transfers `_values` amount(s) of `_ids` from the `_from` address to the `_to` address specified (with safety call).\\"},\\"safeTransferFrom(address,address,uint256,uint256,bytes)\\":{\\"notice\\":\\"Transfers `_value` amount of an `_id` from the `_from` address to the `_to` address specified (with safety call).\\"},\\"setApprovalForAll(address,bool)\\":{\\"notice\\":\\"Enable or disable approval for a third party (\\\\\\"operator\\\\\\") to manage all of the caller\'s tokens.\\"}}}},\\"settings\\":{\\"compilationTarget\\":{\\"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol\\":\\"Registry\\"},\\"evmVersion\\":\\"istanbul\\",\\"libraries\\":{},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":200},\\"remappings\\":[]},\\"sources\\":{\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/Address.sol\\":{\\"keccak256\\":\\"0x2136d428880deb0ae622e0528276ed5ca37059c42a94ade0009407f35b8d9bf1\\",\\"urls\\":[\\"bzz-raw://eb48aef8b25b83a14410a233c3a4e8f649fe7e8d0d45b2ca72b02612cc1c28f7\\",\\"dweb:/ipfs/QmeHVhz1rYowzSdnWWE4K5zvGRK83W7V27EdpGUMGaTM3Y\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/Common.sol\\":{\\"keccak256\\":\\"0x744e2b28229f68105017da51885b7736da2a0491dd9e0fb261cafb69a152858c\\",\\"urls\\":[\\"bzz-raw://cbb52d5ce58d2e35a9aa7e4125a21ec6f411c82f074693e15e5436de92f5d91e\\",\\"dweb:/ipfs/QmXnkuxUkA3tcZ1arrZ1o6qfBc4XffoiaZDSabc9KVbh2v\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/ERC1155.sol\\":{\\"keccak256\\":\\"0x3860964bac2c71864249fa114562ef2fd4a8073580ab1806475b927916f03aa7\\",\\"urls\\":[\\"bzz-raw://e8a3ee8e7efbbe6bac3f4069da3bc44c7636d190b1d06c940ec5d15ad2c5af4d\\",\\"dweb:/ipfs/QmQzwkKE32ycbz3UA2HjQD5bAuBLMAvaBG4bTi2DqNnqu4\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/ERC1155Mintable.sol\\":{\\"keccak256\\":\\"0x277d6d819437feca5166979898759c404426bd38a8c63e4ba5324b7e5bfe4adf\\",\\"urls\\":[\\"bzz-raw://e023e51cd03af87e30dcb4c3f4575445e94685183769adbd6375ba98e633b64d\\",\\"dweb:/ipfs/QmQqbtBy3ji1ZaD25QAZPjdyE3frvQgVbML8CJBRFx4ixn\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/IERC1155.sol\\":{\\"keccak256\\":\\"0x58c938791850aba9e61435cea2c732c9cafc07257f22af209c4228069f63c9a2\\",\\"urls\\":[\\"bzz-raw://458d9be96abe50ee9eef695759ebac9926eec5053d5c45f2a2cd1d86598e10da\\",\\"dweb:/ipfs/QmTn7Y4bX1EtEaniA9PBkkiTniJPSjAtaMRZrYpAwSnCkR\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/IERC1155TokenReceiver.sol\\":{\\"keccak256\\":\\"0x4ae92d7c6386c8d7226ea7b1c553a56a695f8bdd199040e643d817a46f13f585\\",\\"urls\\":[\\"bzz-raw://8ecea4a2905eace402859d586cd3ef41d2e539bf7f693007b3a474c64e4cc59d\\",\\"dweb:/ipfs/QmXF5Mk6uB1JgvimgF7h6qfpESNt1XpAr3AHxKMz6Mev2H\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1888/IERC1888.sol\\":{\\"keccak256\\":\\"0xa2d9a27e5dff58f75ea11f1fe92ea0e66433d3788cb7ee494edd5187830a9248\\",\\"urls\\":[\\"bzz-raw://2dde9f94f50aa28eae8ac7320f79006dacf9009b978cf1a210a39910d7af1f5a\\",\\"dweb:/ipfs/QmYRRcrPNYgHgFg35jh8LeUVcGyjmd4S969H8vmngqqTM9\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol\\":{\\"keccak256\\":\\"0x402f49a5ee6ab93eea6174bec41ecbeba8eabbd35cd36b5286df3ba19bb84b93\\",\\"urls\\":[\\"bzz-raw://1ed03af70127597981d11b96f881ead7d4a4388a644bbda42b206971ef0b1bf9\\",\\"dweb:/ipfs/QmQaWoHQpGJK3WApieKmw1nQGe77J3UDZRB8HBsovXQZiG\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/introspection/ERC165.sol\\":{\\"keccak256\\":\\"0x77dba70b279e47f7f6941b433a26ba51b8484b557d250d3a78075ecea5a9b01d\\",\\"urls\\":[\\"bzz-raw://946383a175d8b051ab44a6a6001b09ad09403aae6af0280d9532f1fde557ba7f\\",\\"dweb:/ipfs/QmeTQrn4DJWnZyf7v3FRGfP7CLzESNNtFAsDDhakWH2zfp\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/introspection/IERC165.sol\\":{\\"keccak256\\":\\"0xe0ed10f53955c35eecb02724538650a155aa940be3f0a54cd3bde6c6b0c6e48c\\",\\"urls\\":[\\"bzz-raw://7dcfda88e3225987245908c3296f3559752647036804325ebfaa9fd1545161c3\\",\\"dweb:/ipfs/QmXxx5rHfLL57zdgyyyG9MMv4XGN7bpVSc2MuDcaCgto6u\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/math/SafeMath.sol\\":{\\"keccak256\\":\\"0x640b6dee7a4b830bdfd52b5031a07fc2b12209f5b2e29e5d364a7d37f69d8076\\",\\"urls\\":[\\"bzz-raw://31113152e1ddb78fe7a4197f247591ca894e93f916867beb708d8e747b6cc74f\\",\\"dweb:/ipfs/QmbZaJyXdpsYGykVhHH9qpVGQg9DGCxE2QufbCUy3daTgq\\"]},\\"@openzeppelin/upgrades/contracts/Initializable.sol\\":{\\"keccak256\\":\\"0x9bfec92e36234ecc99b5d37230acb6cd1f99560233753162204104a4897e8721\\",\\"urls\\":[\\"bzz-raw://5cf7c208583d4d046d75bd99f5507412ab01cce9dd9f802ce9768a416d93ea2f\\",\\"dweb:/ipfs/QmcQS1BBMPpVEkXP3qzwSjxHNrqDek8YeR7xbVWDC9ApC7\\"]}},\\"version\\":1}","bytecode":"0x608060405234801561001057600080fd5b50612f75806100206000396000f3fe608060405234801561001057600080fd5b50600436106101415760003560e01c80638129fc1c116100b8578063c48238b01161007c578063c48238b01461028c578063cd53d08e1461029f578063cfc3b965146102bf578063d6878ffb146102d2578063e985e9c5146102f5578063f242432a1461030857610141565b80638129fc1c14610243578063836a10401461024b578063a22cb4651461025e578063a2d4603914610271578063affed0e01461028457610141565b8063318a44a71161010a578063318a44a7146101bf57806339f66ec5146101d25780633ebbaaa5146101e75780634e1273f4146101fa57806351640fee1461020d57806367db3b8f1461023057610141565b8062fdd58e1461014657806301ffc9a71461016f5780630d058fe31461018f57806318160ddd146101a25780632eb2c2d6146101aa575b600080fd5b610159610154366004612208565b61031b565b6040516101669190612d88565b60405180910390f35b61018261017d3660046122c4565b610345565b6040516101669190612c5c565b61015961019d3660046123f2565b610379565b61015961044a565b6101bd6101b8366004611f77565b610451565b005b6101bd6101cd366004611e81565b61065b565b6101da610a1b565b6040516101669190612c26565b6101596101f5366004612208565b610a73565b6101da610208366004612238565b610a9a565b61022061021b366004612354565b610b74565b6040516101669493929190612b93565b6101bd61023e366004612300565b610d26565b6101bd610d8b565b6101bd6102593660046123af565b610e1e565b6101bd61026c36600461212c565b610f13565b61015961027f36600461215c565b610f82565b610159611216565b61015961029a366004612390565b61121c565b6102b26102ad366004612354565b611239565b6040516101669190612ade565b6101bd6102cd366004612031565b611254565b6102e56102e0366004612354565b61148f565b6040516101669493929190612c6a565b610182610303366004611e47565b6115d5565b6101bd6103163660046120d5565b611603565b60008181526066602090815260408083206001600160a01b03861684529091529020545b92915050565b60006001600160e01b031982166303a24d0760e21b141561036857506001610374565b610371826117be565b90505b919050565b6069805460010190819055600081815260686020908152604080832080546001600160a01b0319166001600160a01b038716908117909155606683528184208185529092528083208890555190919082907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62906103f99086908b90612dc4565b60405180910390a4821561044257807f6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b8585604051610439929190612c85565b60405180910390a25b949350505050565b606c545b90565b6001600160a01b0384166104805760405162461bcd60e51b815260040161047790612ce8565b60405180910390fd5b81518351146104a15760405162461bcd60e51b815260040161047790612d58565b6001600160a01b0385163314806104e057506001600160a01b038516600090815260676020908152604080832033845290915290205460ff1615156001145b6104fc5760405162461bcd60e51b815260040161047790612d08565b60005b83518110156105d757600084828151811061051657fe5b60200260200101519050600084838151811061052e57fe5b60209081029190910181015160008481526066835260408082206001600160a01b038d168352909352919091205490915061056f908263ffffffff61180416565b60008381526066602090815260408083206001600160a01b038d811685529252808320939093558916815220546105a790829061184d565b60009283526066602090815260408085206001600160a01b038b16865290915290922091909155506001016104ff565b50836001600160a01b0316856001600160a01b0316336001600160a01b03167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8686604051610627929190612c37565b60405180910390a4610641846001600160a01b0316611872565b1561065457610654338686868686611878565b5050505050565b86806106795760405162461bcd60e51b815260040161047790612cf8565b858114801561068757508181145b6106a35760405162461bcd60e51b815260040161047790612d48565b6060816040519080825280602002602001820160405280156106cf578160200160208202803883390190505b50905060005b82811015610891576106e5611bbc565b606a60008d8d858181106106f557fe5b602090810292909201358352508181019290925260409081016000208151608081018352815481526001808301546001600160a01b0316828601526002808401805486516101009482161594909402600019011691909104601f8101879004870283018701865280835292959394860193919290918301828280156107bb5780601f10610790576101008083540402835291602001916107bb565b820191906000526020600020905b81548152906001019060200180831161079e57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815293820193929183018282801561084f5780601f106108245761010080835404028352916020019161084f565b820191906000526020600020905b81548152906001019060200180831161083257829003601f168201915b505050505081525050905061086c8160200151826040015161192f565b806000015183838151811061087d57fe5b6020908102919091010152506001016106d5565b508a6001600160a01b03168c6001600160a01b03161461095f5761095f8c8c8c8c80806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050508b8b8080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525050604080516020601f8f018190048102820181019092528d815292508d91508c908190840183828082843760009201919091525061045192505050565b60005b828110156109a1576109998c8c8c8481811061097a57fe5b905060200201358b8b8581811061098d57fe5b905060200201356119e3565b600101610962565b50806040516109b09190612ac6565b60405180910390208b6001600160a01b03168d6001600160a01b03167fd9ca618baa06a7b97325d6c8deb9c86eef489430de512706230a53c431226ab58d8d8d8d8b8b604051610a0596959493929190612bde565b60405180910390a4505050505050505050505050565b6060606c805480602002602001604051908101604052809291908181526020018280548015610a6957602002820191906000526020600020905b815481526020019060010190808311610a55575b5050505050905090565b6000908152606b602090815260408083206001600160a01b03949094168352929052205490565b6060838214610aa857600080fd5b604080518581526020808702820101909152606090858015610ad4578160200160208202803883390190505b50905060005b85811015610b6a5760666000868684818110610af257fe5b9050602002013581526020019081526020016000206000888884818110610b1557fe5b9050602002016020610b2a9190810190611e29565b6001600160a01b03166001600160a01b0316815260200190815260200160002054828281518110610b5757fe5b6020908102919091010152600101610ada565b5095945050505050565b600080606080610b8261044a565b851115610ba15760405162461bcd60e51b815260040161047790612d28565b610ba9611bbc565b6000868152606a60209081526040918290208251608081018452815481526001808301546001600160a01b0316828501526002808401805487516101009482161594909402600019011691909104601f81018690048602830186018752808352929593949386019391929091830182828015610c665780601f10610c3b57610100808354040283529160200191610c66565b820191906000526020600020905b815481529060010190602001808311610c4957829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152938201939291830182828015610cfa5780601f10610ccf57610100808354040283529160200191610cfa565b820191906000526020600020905b815481529060010190602001808311610cdd57829003601f168201915b505050919092525050506020810151815160408301516060909301519199909850919650945092505050565b60008181526068602052604090205481906001600160a01b03163314610d4b57600080fd5b817f6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b8585604051610d7d929190612c85565b60405180910390a250505050565b600054610100900460ff1680610da45750610da4611a8c565b80610db2575060005460ff16155b610dce5760405162461bcd60e51b815260040161047790612d38565b600054610100900460ff16158015610df9576000805460ff1961ff0019909116610100171660011790555b610e096301ffc9a760e01b611a92565b8015610e1b576000805461ff00191690555b50565b60008381526068602052604090205483906001600160a01b03163314610e4357600080fd5b60008481526066602090815260408083206001600160a01b0387168452909152902054610e7790839063ffffffff61184d16565b60008581526066602090815260408083206001600160a01b038816808552925280832093909355915133907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f6290610ed19089908890612dc4565b60405180910390a4610eeb836001600160a01b0316611872565b15610f0d57610f0d333385878660405180602001604052806000815250611ae1565b50505050565b3360008181526067602090815260408083206001600160a01b038716808552925291829020805460ff191685151517905590519091907f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3190610f76908590612c5c565b60405180910390a35050565b6000610fc43388888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061192f92505050565b604051630d058fe360e01b81523090630d058fe390610fe99087903390600401612d96565b602060405180830381600087803b15801561100357600080fd5b505af1158015611017573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061103b9190810190612372565b90508315611086576110863389838787878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061160392505050565b6040518060800160405280868152602001336001600160a01b0316815260200188888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8701819004810282018101909252858152918101919086908690819084018382808284376000920182905250939094525050838152606a602090815260409182902084518155848201516001820180546001600160a01b0319166001600160a01b0390921691909117905591840151805192935061116e9260028501929190910190611bed565b506060820151805161118a916003840191602090910190611bed565b5050606c80546000848152606d60205260408082208390556001830184559290527f2b4a51ab505fc96a0952efda2ba61bcd3078d4c02c39a186ec16f21883fbe016018390555186915033907f4cc4834ec6b1f97a580ef30c8c22f4a2d497d83ff422e61f461f4e2dc06c94a090611203908590612d88565b60405180910390a3979650505050505050565b60695481565b606b60209081526000928352604080842090915290825290205481565b6068602052600090815260409020546001600160a01b031681565b61125c611bbc565b6000868152606a60209081526040918290208251608081018452815481526001808301546001600160a01b0316828501526002808401805487516101009482161594909402600019011691909104601f810186900486028301860187528083529295939493860193919290918301828280156113195780601f106112ee57610100808354040283529160200191611319565b820191906000526020600020905b8154815290600101906020018083116112fc57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156113ad5780601f10611382576101008083540402835291602001916113ad565b820191906000526020600020905b81548152906001019060200180831161139057829003601f168201915b50505050508152505090506113ca8160200151826040015161192f565b866001600160a01b0316886001600160a01b031614611426576114268888888888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061160392505050565b6114318787876119e3565b8060000151876001600160a01b0316896001600160a01b03167fbdb82d389d6715e98ded030a7baaa18603340d0edcabc59c036ee23d33e630b189898760405161147d93929190612ddf565b60405180910390a45050505050505050565b606a6020908152600091825260409182902080546001808301546002808501805488516101009582161595909502600019011691909104601f810187900487028401870190975286835292956001600160a01b039091169491929183018282801561153b5780601f106115105761010080835404028352916020019161153b565b820191906000526020600020905b81548152906001019060200180831161151e57829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156115cb5780601f106115a0576101008083540402835291602001916115cb565b820191906000526020600020905b8154815290600101906020018083116115ae57829003601f168201915b5050505050905084565b6001600160a01b03918216600090815260676020908152604080832093909416825291909152205460ff1690565b6001600160a01b0384166116295760405162461bcd60e51b815260040161047790612d68565b6001600160a01b03851633148061166857506001600160a01b038516600090815260676020908152604080832033845290915290205460ff1615156001145b6116845760405162461bcd60e51b815260040161047790612d08565b60008381526066602090815260408083206001600160a01b03891684529091529020546116c35760405162461bcd60e51b815260040161047790612cd8565b60008381526066602090815260408083206001600160a01b03891684529091529020546116f6908363ffffffff61180416565b60008481526066602090815260408083206001600160a01b038a8116855292528083209390935586168152205461172e90839061184d565b60008481526066602090815260408083206001600160a01b03808a168086529190935292819020939093559151909187169033907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62906117919088908890612dc4565b60405180910390a46117ab846001600160a01b0316611872565b1561065457610654338686868686611ae1565b60006001600160e01b031982166301ffc9a760e01b14806117ef57506001600160e01b03198216636cdb3d1360e11b145b156117fc57506001610374565b506000919050565b600061184683836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611b90565b9392505050565b6000828201838110156118465760405162461bcd60e51b815260040161047790612cb8565b3b151590565b60405163bc197c8160e01b808252906001600160a01b0386169063bc197c81906118ae908a908a90899089908990600401612aec565b602060405180830381600087803b1580156118c857600080fd5b505af11580156118dc573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061190091908101906122e2565b6001600160e01b031916146119275760405162461bcd60e51b815260040161047790612d18565b505050505050565b611941826001600160a01b0316611872565b156119df5760006060836001600160a01b0316836040516119629190612ad2565b600060405180830381855afa9150503d806000811461199d576040519150601f19603f3d011682016040523d82523d6000602084013e6119a2565b606091505b50915091508180156119c35750808060200190516119c391908101906122a6565b610f0d5760405162461bcd60e51b815260040161047790612cc8565b5050565b60008281526066602090815260408083206001600160a01b0387168452909152902054611a16908263ffffffff61180416565b60008381526066602090815260408083206001600160a01b03881680855290835281842094909455858352606b82528083209383529290522054611a60908263ffffffff61184d16565b6000928352606b602090815260408085206001600160a01b039096168552949052929091209190915550565b303b1590565b6001600160e01b03198082161415611abc5760405162461bcd60e51b815260040161047790612ca8565b6001600160e01b0319166000908152603360205260409020805460ff19166001179055565b60405163f23a6e6160e01b808252906001600160a01b0386169063f23a6e6190611b17908a908a90899089908990600401612b4c565b602060405180830381600087803b158015611b3157600080fd5b505af1158015611b45573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611b6991908101906122e2565b6001600160e01b031916146119275760405162461bcd60e51b815260040161047790612d78565b60008184841115611bb45760405162461bcd60e51b81526004016104779190612c97565b505050900390565b60405180608001604052806000815260200160006001600160a01b0316815260200160608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611c2e57805160ff1916838001178555611c5b565b82800160010185558215611c5b579182015b82811115611c5b578251825591602001919060010190611c40565b50611c67929150611c6b565b5090565b61044e91905b80821115611c675760008155600101611c71565b803561033f81612f03565b60008083601f840112611ca257600080fd5b5081356001600160401b03811115611cb957600080fd5b602083019150836020820283011115611cd157600080fd5b9250929050565b600082601f830112611ce957600080fd5b8135611cfc611cf782612e2d565b612e07565b91508181835260208401935060208101905083856020840282011115611d2157600080fd5b60005b83811015611d4d5781611d378882611d6d565b8452506020928301929190910190600101611d24565b5050505092915050565b803561033f81612f17565b805161033f81612f17565b803561033f81612f20565b803561033f81612f29565b805161033f81612f29565b60008083601f840112611da057600080fd5b5081356001600160401b03811115611db757600080fd5b602083019150836001820283011115611cd157600080fd5b600082601f830112611de057600080fd5b8135611dee611cf782612e4d565b91508082526020830160208301858383011115611e0a57600080fd5b611e15838284612ec1565b50505092915050565b805161033f81612f20565b600060208284031215611e3b57600080fd5b60006104428484611c85565b60008060408385031215611e5a57600080fd5b6000611e668585611c85565b9250506020611e7785828601611c85565b9150509250929050565b60008060008060008060008060008060c08b8d031215611ea057600080fd5b6000611eac8d8d611c85565b9a50506020611ebd8d828e01611c85565b99505060408b01356001600160401b03811115611ed957600080fd5b611ee58d828e01611c90565b985098505060608b01356001600160401b03811115611f0357600080fd5b611f0f8d828e01611c90565b965096505060808b01356001600160401b03811115611f2d57600080fd5b611f398d828e01611d8e565b945094505060a08b01356001600160401b03811115611f5757600080fd5b611f638d828e01611c90565b92509250509295989b9194979a5092959850565b600080600080600060a08688031215611f8f57600080fd5b6000611f9b8888611c85565b9550506020611fac88828901611c85565b94505060408601356001600160401b03811115611fc857600080fd5b611fd488828901611cd8565b93505060608601356001600160401b03811115611ff057600080fd5b611ffc88828901611cd8565b92505060808601356001600160401b0381111561201857600080fd5b61202488828901611dcf565b9150509295509295909350565b600080600080600080600060c0888a03121561204c57600080fd5b60006120588a8a611c85565b97505060206120698a828b01611c85565b965050604061207a8a828b01611d6d565b955050606061208b8a828b01611d6d565b94505060808801356001600160401b038111156120a757600080fd5b6120b38a828b01611d8e565b935093505060a06120c68a828b01611d6d565b91505092959891949750929550565b600080600080600060a086880312156120ed57600080fd5b60006120f98888611c85565b955050602061210a88828901611c85565b945050604061211b88828901611d6d565b9350506060611ffc88828901611d6d565b6000806040838503121561213f57600080fd5b600061214b8585611c85565b9250506020611e7785828601611d57565b600080600080600080600060a0888a03121561217757600080fd5b60006121838a8a611c85565b97505060208801356001600160401b0381111561219f57600080fd5b6121ab8a828b01611d8e565b965096505060406121be8a828b01611d6d565b94505060606121cf8a828b01611d6d565b93505060808801356001600160401b038111156121eb57600080fd5b6121f78a828b01611d8e565b925092505092959891949750929550565b6000806040838503121561221b57600080fd5b60006122278585611c85565b9250506020611e7785828601611d6d565b6000806000806040858703121561224e57600080fd5b84356001600160401b0381111561226457600080fd5b61227087828801611c90565b945094505060208501356001600160401b0381111561228e57600080fd5b61229a87828801611c90565b95989497509550505050565b6000602082840312156122b857600080fd5b60006104428484611d62565b6000602082840312156122d657600080fd5b60006104428484611d78565b6000602082840312156122f457600080fd5b60006104428484611d83565b60008060006040848603121561231557600080fd5b83356001600160401b0381111561232b57600080fd5b61233786828701611d8e565b9350935050602061234a86828701611d6d565b9150509250925092565b60006020828403121561236657600080fd5b60006104428484611d6d565b60006020828403121561238457600080fd5b60006104428484611e1e565b600080604083850312156123a357600080fd5b6000611e668585611d6d565b6000806000606084860312156123c457600080fd5b60006123d08686611d6d565b93505060206123e186828701611c85565b925050604061234a86828701611d6d565b6000806000806060858703121561240857600080fd5b60006124148787611d6d565b94505060208501356001600160401b0381111561243057600080fd5b61243c87828801611d8e565b9350935050604061244f87828801611c85565b91505092959194509250565b60006124678383612570565b505060200190565b61247881612eb0565b82525050565b61247881612e87565b60006124938385612e7e565b93506001600160fb1b038311156124a957600080fd5b6020830292506124ba838584612ec1565b50500190565b60006124cb82612e7a565b6124d58185610374565b93506124e083612e74565b8060005b8381101561250e5781516124f8888261245b565b975061250383612e74565b9250506001016124e4565b509495945050505050565b600061252482612e7a565b61252e8185612e7e565b935061253983612e74565b8060005b8381101561250e578151612551888261245b565b975061255c83612e74565b92505060010161253d565b61247881612e92565b6124788161044e565b600061258482612e7a565b61258e8185612e7e565b935061259e818560208601612ecd565b6125a781612ef9565b9093019392505050565b60006125bc82612e7a565b6125c68185610374565b93506125d6818560208601612ecd565b9290920192915050565b60006125ec8385612e7e565b93506125f9838584612ec1565b6125a783612ef9565b600061260f601c83612e7e565b7f4552433136353a20696e76616c696420696e7465726661636520696400000000815260200192915050565b6000612648601b83612e7e565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000815260200192915050565b6000612681600b83612e7e565b6a436572746966696361746560a81b815260200192915050565b60006126a8604883612e7e565b7f5f76616c696461746528293a20526571756573742f636572746966696361746581527f20696e76616c69642c20706c6561736520636865636b207769746820796f75726020820152671034b9b9bab2b91760c11b604082015260600192915050565b6000612718603783612e7e565b7f736166655472616e7366657246726f6d3a205f66726f6d2062616c616e63652081527f68617320746f20626520686967686572207468616e2030000000000000000000602082015260400192915050565b6000612777602583612e7e565b7f64657374696e6174696f6e2061646472657373206d757374206265206e6f6e2d8152643d32b9379760d91b602082015260400192915050565b60006127be604a83612e7e565b7f7361666542617463685472616e73666572416e64436c61696d46726f6d3a206181527f74206c65617374206f6e652063657274696669636174652068617320746f20626020820152693290383932b9b2b73a1760b11b604082015260600192915050565b6000612830602f83612e7e565b7f4e656564206f70657261746f7220617070726f76616c20666f7220337264207081526e30b93a3c903a3930b739b332b9399760891b602082015260400192915050565b6000612881603e83612e7e565b7f636f6e74726163742072657475726e656420616e20756e6b6e6f776e2076616c81527f75652066726f6d206f6e45524331313535426174636852656365697665640000602082015260400192915050565b60006128e0602183612e7e565b7f67657443657274696669636174653a205f6964206f7574206f6620626f756e648152607360f81b602082015260400192915050565b6000612923602e83612e7e565b7f436f6e747261637420696e7374616e63652068617320616c726561647920626581526d195b881a5b9a5d1a585b1a5e995960921b602082015260400192915050565b6000612973604583612e7e565b7f7361666542617463685472616e73666572416e64436c61696d46726f6d3a206e81527f6f7420616c6c2061727261797320617265206f66207468652073616d65206c656020820152643733ba341760d91b604082015260600192915050565b60006129e0602983612e7e565b7f5f69647320616e64205f76616c756573206172726179206c656e676874206d7581526839ba1036b0ba31b41760b91b602082015260400192915050565b6000612a2b602783612e7e565b7f736166655472616e7366657246726f6d3a205f746f206d757374206265206e6f8152663716bd32b9379760c91b602082015260400192915050565b6000612a74603983612e7e565b7f636f6e74726163742072657475726e656420616e20756e6b6e6f776e2076616c81527f75652066726f6d206f6e45524331313535526563656976656400000000000000602082015260400192915050565b600061184682846124c0565b600061184682846125b1565b6020810161033f828461247e565b60a08101612afa828861247e565b612b07602083018761247e565b8181036040830152612b198186612519565b90508181036060830152612b2d8185612519565b90508181036080830152612b418184612579565b979650505050505050565b60a08101612b5a828861247e565b612b67602083018761247e565b612b746040830186612570565b612b816060830185612570565b8181036080830152612b418184612579565b60808101612ba1828761247e565b612bae6020830186612570565b8181036040830152612bc08185612579565b90508181036060830152612bd48184612579565b9695505050505050565b60608082528101612bf081888a612487565b90508181036020830152612c05818688612487565b90508181036040830152612c1a818486612487565b98975050505050505050565b602080825281016118468184612519565b60408082528101612c488185612519565b905081810360208301526104428184612519565b6020810161033f8284612567565b60808101612c788287612570565b612bae602083018661247e565b602080825281016104428184866125e0565b602080825281016118468184612579565b6020808252810161033f81612602565b6020808252810161033f8161263b565b6020808252810161033f8161269b565b6020808252810161033f8161270b565b6020808252810161033f8161276a565b6020808252810161033f816127b1565b6020808252810161033f81612823565b6020808252810161033f81612874565b6020808252810161033f816128d3565b6020808252810161033f81612916565b6020808252810161033f81612966565b6020808252810161033f816129d3565b6020808252810161033f81612a1e565b6020808252810161033f81612a67565b6020810161033f8284612570565b60608101612da48285612570565b8181036020830152612db581612674565b9050611846604083018461246f565b60408101612dd28285612570565b6118466020830184612570565b60608101612ded8286612570565b612dfa6020830185612570565b6104426040830184612570565b6040518181016001600160401b0381118282101715612e2557600080fd5b604052919050565b60006001600160401b03821115612e4357600080fd5b5060209081020190565b60006001600160401b03821115612e6357600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b600061033f82612ea4565b151590565b6001600160e01b03191690565b6001600160a01b031690565b600061033f82600061033f82612e87565b82818337506000910152565b60005b83811015612ee8578181015183820152602001612ed0565b83811115610f0d5750506000910152565b601f01601f191690565b612f0c81612e87565b8114610e1b57600080fd5b612f0c81612e92565b612f0c8161044e565b612f0c81612e9756fea365627a7a72315820d8f4755f30e65ad6247e598910ea832cdbc260462da7f54f7f4a0946173a0ee06c6578706572696d656e74616cf564736f6c63430005100040","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106101415760003560e01c80638129fc1c116100b8578063c48238b01161007c578063c48238b01461028c578063cd53d08e1461029f578063cfc3b965146102bf578063d6878ffb146102d2578063e985e9c5146102f5578063f242432a1461030857610141565b80638129fc1c14610243578063836a10401461024b578063a22cb4651461025e578063a2d4603914610271578063affed0e01461028457610141565b8063318a44a71161010a578063318a44a7146101bf57806339f66ec5146101d25780633ebbaaa5146101e75780634e1273f4146101fa57806351640fee1461020d57806367db3b8f1461023057610141565b8062fdd58e1461014657806301ffc9a71461016f5780630d058fe31461018f57806318160ddd146101a25780632eb2c2d6146101aa575b600080fd5b610159610154366004612208565b61031b565b6040516101669190612d88565b60405180910390f35b61018261017d3660046122c4565b610345565b6040516101669190612c5c565b61015961019d3660046123f2565b610379565b61015961044a565b6101bd6101b8366004611f77565b610451565b005b6101bd6101cd366004611e81565b61065b565b6101da610a1b565b6040516101669190612c26565b6101596101f5366004612208565b610a73565b6101da610208366004612238565b610a9a565b61022061021b366004612354565b610b74565b6040516101669493929190612b93565b6101bd61023e366004612300565b610d26565b6101bd610d8b565b6101bd6102593660046123af565b610e1e565b6101bd61026c36600461212c565b610f13565b61015961027f36600461215c565b610f82565b610159611216565b61015961029a366004612390565b61121c565b6102b26102ad366004612354565b611239565b6040516101669190612ade565b6101bd6102cd366004612031565b611254565b6102e56102e0366004612354565b61148f565b6040516101669493929190612c6a565b610182610303366004611e47565b6115d5565b6101bd6103163660046120d5565b611603565b60008181526066602090815260408083206001600160a01b03861684529091529020545b92915050565b60006001600160e01b031982166303a24d0760e21b141561036857506001610374565b610371826117be565b90505b919050565b6069805460010190819055600081815260686020908152604080832080546001600160a01b0319166001600160a01b038716908117909155606683528184208185529092528083208890555190919082907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62906103f99086908b90612dc4565b60405180910390a4821561044257807f6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b8585604051610439929190612c85565b60405180910390a25b949350505050565b606c545b90565b6001600160a01b0384166104805760405162461bcd60e51b815260040161047790612ce8565b60405180910390fd5b81518351146104a15760405162461bcd60e51b815260040161047790612d58565b6001600160a01b0385163314806104e057506001600160a01b038516600090815260676020908152604080832033845290915290205460ff1615156001145b6104fc5760405162461bcd60e51b815260040161047790612d08565b60005b83518110156105d757600084828151811061051657fe5b60200260200101519050600084838151811061052e57fe5b60209081029190910181015160008481526066835260408082206001600160a01b038d168352909352919091205490915061056f908263ffffffff61180416565b60008381526066602090815260408083206001600160a01b038d811685529252808320939093558916815220546105a790829061184d565b60009283526066602090815260408085206001600160a01b038b16865290915290922091909155506001016104ff565b50836001600160a01b0316856001600160a01b0316336001600160a01b03167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8686604051610627929190612c37565b60405180910390a4610641846001600160a01b0316611872565b1561065457610654338686868686611878565b5050505050565b86806106795760405162461bcd60e51b815260040161047790612cf8565b858114801561068757508181145b6106a35760405162461bcd60e51b815260040161047790612d48565b6060816040519080825280602002602001820160405280156106cf578160200160208202803883390190505b50905060005b82811015610891576106e5611bbc565b606a60008d8d858181106106f557fe5b602090810292909201358352508181019290925260409081016000208151608081018352815481526001808301546001600160a01b0316828601526002808401805486516101009482161594909402600019011691909104601f8101879004870283018701865280835292959394860193919290918301828280156107bb5780601f10610790576101008083540402835291602001916107bb565b820191906000526020600020905b81548152906001019060200180831161079e57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815293820193929183018282801561084f5780601f106108245761010080835404028352916020019161084f565b820191906000526020600020905b81548152906001019060200180831161083257829003601f168201915b505050505081525050905061086c8160200151826040015161192f565b806000015183838151811061087d57fe5b6020908102919091010152506001016106d5565b508a6001600160a01b03168c6001600160a01b03161461095f5761095f8c8c8c8c80806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050508b8b8080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525050604080516020601f8f018190048102820181019092528d815292508d91508c908190840183828082843760009201919091525061045192505050565b60005b828110156109a1576109998c8c8c8481811061097a57fe5b905060200201358b8b8581811061098d57fe5b905060200201356119e3565b600101610962565b50806040516109b09190612ac6565b60405180910390208b6001600160a01b03168d6001600160a01b03167fd9ca618baa06a7b97325d6c8deb9c86eef489430de512706230a53c431226ab58d8d8d8d8b8b604051610a0596959493929190612bde565b60405180910390a4505050505050505050505050565b6060606c805480602002602001604051908101604052809291908181526020018280548015610a6957602002820191906000526020600020905b815481526020019060010190808311610a55575b5050505050905090565b6000908152606b602090815260408083206001600160a01b03949094168352929052205490565b6060838214610aa857600080fd5b604080518581526020808702820101909152606090858015610ad4578160200160208202803883390190505b50905060005b85811015610b6a5760666000868684818110610af257fe5b9050602002013581526020019081526020016000206000888884818110610b1557fe5b9050602002016020610b2a9190810190611e29565b6001600160a01b03166001600160a01b0316815260200190815260200160002054828281518110610b5757fe5b6020908102919091010152600101610ada565b5095945050505050565b600080606080610b8261044a565b851115610ba15760405162461bcd60e51b815260040161047790612d28565b610ba9611bbc565b6000868152606a60209081526040918290208251608081018452815481526001808301546001600160a01b0316828501526002808401805487516101009482161594909402600019011691909104601f81018690048602830186018752808352929593949386019391929091830182828015610c665780601f10610c3b57610100808354040283529160200191610c66565b820191906000526020600020905b815481529060010190602001808311610c4957829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152938201939291830182828015610cfa5780601f10610ccf57610100808354040283529160200191610cfa565b820191906000526020600020905b815481529060010190602001808311610cdd57829003601f168201915b505050919092525050506020810151815160408301516060909301519199909850919650945092505050565b60008181526068602052604090205481906001600160a01b03163314610d4b57600080fd5b817f6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b8585604051610d7d929190612c85565b60405180910390a250505050565b600054610100900460ff1680610da45750610da4611a8c565b80610db2575060005460ff16155b610dce5760405162461bcd60e51b815260040161047790612d38565b600054610100900460ff16158015610df9576000805460ff1961ff0019909116610100171660011790555b610e096301ffc9a760e01b611a92565b8015610e1b576000805461ff00191690555b50565b60008381526068602052604090205483906001600160a01b03163314610e4357600080fd5b60008481526066602090815260408083206001600160a01b0387168452909152902054610e7790839063ffffffff61184d16565b60008581526066602090815260408083206001600160a01b038816808552925280832093909355915133907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f6290610ed19089908890612dc4565b60405180910390a4610eeb836001600160a01b0316611872565b15610f0d57610f0d333385878660405180602001604052806000815250611ae1565b50505050565b3360008181526067602090815260408083206001600160a01b038716808552925291829020805460ff191685151517905590519091907f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3190610f76908590612c5c565b60405180910390a35050565b6000610fc43388888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061192f92505050565b604051630d058fe360e01b81523090630d058fe390610fe99087903390600401612d96565b602060405180830381600087803b15801561100357600080fd5b505af1158015611017573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061103b9190810190612372565b90508315611086576110863389838787878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061160392505050565b6040518060800160405280868152602001336001600160a01b0316815260200188888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8701819004810282018101909252858152918101919086908690819084018382808284376000920182905250939094525050838152606a602090815260409182902084518155848201516001820180546001600160a01b0319166001600160a01b0390921691909117905591840151805192935061116e9260028501929190910190611bed565b506060820151805161118a916003840191602090910190611bed565b5050606c80546000848152606d60205260408082208390556001830184559290527f2b4a51ab505fc96a0952efda2ba61bcd3078d4c02c39a186ec16f21883fbe016018390555186915033907f4cc4834ec6b1f97a580ef30c8c22f4a2d497d83ff422e61f461f4e2dc06c94a090611203908590612d88565b60405180910390a3979650505050505050565b60695481565b606b60209081526000928352604080842090915290825290205481565b6068602052600090815260409020546001600160a01b031681565b61125c611bbc565b6000868152606a60209081526040918290208251608081018452815481526001808301546001600160a01b0316828501526002808401805487516101009482161594909402600019011691909104601f810186900486028301860187528083529295939493860193919290918301828280156113195780601f106112ee57610100808354040283529160200191611319565b820191906000526020600020905b8154815290600101906020018083116112fc57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156113ad5780601f10611382576101008083540402835291602001916113ad565b820191906000526020600020905b81548152906001019060200180831161139057829003601f168201915b50505050508152505090506113ca8160200151826040015161192f565b866001600160a01b0316886001600160a01b031614611426576114268888888888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061160392505050565b6114318787876119e3565b8060000151876001600160a01b0316896001600160a01b03167fbdb82d389d6715e98ded030a7baaa18603340d0edcabc59c036ee23d33e630b189898760405161147d93929190612ddf565b60405180910390a45050505050505050565b606a6020908152600091825260409182902080546001808301546002808501805488516101009582161595909502600019011691909104601f810187900487028401870190975286835292956001600160a01b039091169491929183018282801561153b5780601f106115105761010080835404028352916020019161153b565b820191906000526020600020905b81548152906001019060200180831161151e57829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156115cb5780601f106115a0576101008083540402835291602001916115cb565b820191906000526020600020905b8154815290600101906020018083116115ae57829003601f168201915b5050505050905084565b6001600160a01b03918216600090815260676020908152604080832093909416825291909152205460ff1690565b6001600160a01b0384166116295760405162461bcd60e51b815260040161047790612d68565b6001600160a01b03851633148061166857506001600160a01b038516600090815260676020908152604080832033845290915290205460ff1615156001145b6116845760405162461bcd60e51b815260040161047790612d08565b60008381526066602090815260408083206001600160a01b03891684529091529020546116c35760405162461bcd60e51b815260040161047790612cd8565b60008381526066602090815260408083206001600160a01b03891684529091529020546116f6908363ffffffff61180416565b60008481526066602090815260408083206001600160a01b038a8116855292528083209390935586168152205461172e90839061184d565b60008481526066602090815260408083206001600160a01b03808a168086529190935292819020939093559151909187169033907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62906117919088908890612dc4565b60405180910390a46117ab846001600160a01b0316611872565b1561065457610654338686868686611ae1565b60006001600160e01b031982166301ffc9a760e01b14806117ef57506001600160e01b03198216636cdb3d1360e11b145b156117fc57506001610374565b506000919050565b600061184683836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611b90565b9392505050565b6000828201838110156118465760405162461bcd60e51b815260040161047790612cb8565b3b151590565b60405163bc197c8160e01b808252906001600160a01b0386169063bc197c81906118ae908a908a90899089908990600401612aec565b602060405180830381600087803b1580156118c857600080fd5b505af11580156118dc573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061190091908101906122e2565b6001600160e01b031916146119275760405162461bcd60e51b815260040161047790612d18565b505050505050565b611941826001600160a01b0316611872565b156119df5760006060836001600160a01b0316836040516119629190612ad2565b600060405180830381855afa9150503d806000811461199d576040519150601f19603f3d011682016040523d82523d6000602084013e6119a2565b606091505b50915091508180156119c35750808060200190516119c391908101906122a6565b610f0d5760405162461bcd60e51b815260040161047790612cc8565b5050565b60008281526066602090815260408083206001600160a01b0387168452909152902054611a16908263ffffffff61180416565b60008381526066602090815260408083206001600160a01b03881680855290835281842094909455858352606b82528083209383529290522054611a60908263ffffffff61184d16565b6000928352606b602090815260408085206001600160a01b039096168552949052929091209190915550565b303b1590565b6001600160e01b03198082161415611abc5760405162461bcd60e51b815260040161047790612ca8565b6001600160e01b0319166000908152603360205260409020805460ff19166001179055565b60405163f23a6e6160e01b808252906001600160a01b0386169063f23a6e6190611b17908a908a90899089908990600401612b4c565b602060405180830381600087803b158015611b3157600080fd5b505af1158015611b45573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611b6991908101906122e2565b6001600160e01b031916146119275760405162461bcd60e51b815260040161047790612d78565b60008184841115611bb45760405162461bcd60e51b81526004016104779190612c97565b505050900390565b60405180608001604052806000815260200160006001600160a01b0316815260200160608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611c2e57805160ff1916838001178555611c5b565b82800160010185558215611c5b579182015b82811115611c5b578251825591602001919060010190611c40565b50611c67929150611c6b565b5090565b61044e91905b80821115611c675760008155600101611c71565b803561033f81612f03565b60008083601f840112611ca257600080fd5b5081356001600160401b03811115611cb957600080fd5b602083019150836020820283011115611cd157600080fd5b9250929050565b600082601f830112611ce957600080fd5b8135611cfc611cf782612e2d565b612e07565b91508181835260208401935060208101905083856020840282011115611d2157600080fd5b60005b83811015611d4d5781611d378882611d6d565b8452506020928301929190910190600101611d24565b5050505092915050565b803561033f81612f17565b805161033f81612f17565b803561033f81612f20565b803561033f81612f29565b805161033f81612f29565b60008083601f840112611da057600080fd5b5081356001600160401b03811115611db757600080fd5b602083019150836001820283011115611cd157600080fd5b600082601f830112611de057600080fd5b8135611dee611cf782612e4d565b91508082526020830160208301858383011115611e0a57600080fd5b611e15838284612ec1565b50505092915050565b805161033f81612f20565b600060208284031215611e3b57600080fd5b60006104428484611c85565b60008060408385031215611e5a57600080fd5b6000611e668585611c85565b9250506020611e7785828601611c85565b9150509250929050565b60008060008060008060008060008060c08b8d031215611ea057600080fd5b6000611eac8d8d611c85565b9a50506020611ebd8d828e01611c85565b99505060408b01356001600160401b03811115611ed957600080fd5b611ee58d828e01611c90565b985098505060608b01356001600160401b03811115611f0357600080fd5b611f0f8d828e01611c90565b965096505060808b01356001600160401b03811115611f2d57600080fd5b611f398d828e01611d8e565b945094505060a08b01356001600160401b03811115611f5757600080fd5b611f638d828e01611c90565b92509250509295989b9194979a5092959850565b600080600080600060a08688031215611f8f57600080fd5b6000611f9b8888611c85565b9550506020611fac88828901611c85565b94505060408601356001600160401b03811115611fc857600080fd5b611fd488828901611cd8565b93505060608601356001600160401b03811115611ff057600080fd5b611ffc88828901611cd8565b92505060808601356001600160401b0381111561201857600080fd5b61202488828901611dcf565b9150509295509295909350565b600080600080600080600060c0888a03121561204c57600080fd5b60006120588a8a611c85565b97505060206120698a828b01611c85565b965050604061207a8a828b01611d6d565b955050606061208b8a828b01611d6d565b94505060808801356001600160401b038111156120a757600080fd5b6120b38a828b01611d8e565b935093505060a06120c68a828b01611d6d565b91505092959891949750929550565b600080600080600060a086880312156120ed57600080fd5b60006120f98888611c85565b955050602061210a88828901611c85565b945050604061211b88828901611d6d565b9350506060611ffc88828901611d6d565b6000806040838503121561213f57600080fd5b600061214b8585611c85565b9250506020611e7785828601611d57565b600080600080600080600060a0888a03121561217757600080fd5b60006121838a8a611c85565b97505060208801356001600160401b0381111561219f57600080fd5b6121ab8a828b01611d8e565b965096505060406121be8a828b01611d6d565b94505060606121cf8a828b01611d6d565b93505060808801356001600160401b038111156121eb57600080fd5b6121f78a828b01611d8e565b925092505092959891949750929550565b6000806040838503121561221b57600080fd5b60006122278585611c85565b9250506020611e7785828601611d6d565b6000806000806040858703121561224e57600080fd5b84356001600160401b0381111561226457600080fd5b61227087828801611c90565b945094505060208501356001600160401b0381111561228e57600080fd5b61229a87828801611c90565b95989497509550505050565b6000602082840312156122b857600080fd5b60006104428484611d62565b6000602082840312156122d657600080fd5b60006104428484611d78565b6000602082840312156122f457600080fd5b60006104428484611d83565b60008060006040848603121561231557600080fd5b83356001600160401b0381111561232b57600080fd5b61233786828701611d8e565b9350935050602061234a86828701611d6d565b9150509250925092565b60006020828403121561236657600080fd5b60006104428484611d6d565b60006020828403121561238457600080fd5b60006104428484611e1e565b600080604083850312156123a357600080fd5b6000611e668585611d6d565b6000806000606084860312156123c457600080fd5b60006123d08686611d6d565b93505060206123e186828701611c85565b925050604061234a86828701611d6d565b6000806000806060858703121561240857600080fd5b60006124148787611d6d565b94505060208501356001600160401b0381111561243057600080fd5b61243c87828801611d8e565b9350935050604061244f87828801611c85565b91505092959194509250565b60006124678383612570565b505060200190565b61247881612eb0565b82525050565b61247881612e87565b60006124938385612e7e565b93506001600160fb1b038311156124a957600080fd5b6020830292506124ba838584612ec1565b50500190565b60006124cb82612e7a565b6124d58185610374565b93506124e083612e74565b8060005b8381101561250e5781516124f8888261245b565b975061250383612e74565b9250506001016124e4565b509495945050505050565b600061252482612e7a565b61252e8185612e7e565b935061253983612e74565b8060005b8381101561250e578151612551888261245b565b975061255c83612e74565b92505060010161253d565b61247881612e92565b6124788161044e565b600061258482612e7a565b61258e8185612e7e565b935061259e818560208601612ecd565b6125a781612ef9565b9093019392505050565b60006125bc82612e7a565b6125c68185610374565b93506125d6818560208601612ecd565b9290920192915050565b60006125ec8385612e7e565b93506125f9838584612ec1565b6125a783612ef9565b600061260f601c83612e7e565b7f4552433136353a20696e76616c696420696e7465726661636520696400000000815260200192915050565b6000612648601b83612e7e565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000815260200192915050565b6000612681600b83612e7e565b6a436572746966696361746560a81b815260200192915050565b60006126a8604883612e7e565b7f5f76616c696461746528293a20526571756573742f636572746966696361746581527f20696e76616c69642c20706c6561736520636865636b207769746820796f75726020820152671034b9b9bab2b91760c11b604082015260600192915050565b6000612718603783612e7e565b7f736166655472616e7366657246726f6d3a205f66726f6d2062616c616e63652081527f68617320746f20626520686967686572207468616e2030000000000000000000602082015260400192915050565b6000612777602583612e7e565b7f64657374696e6174696f6e2061646472657373206d757374206265206e6f6e2d8152643d32b9379760d91b602082015260400192915050565b60006127be604a83612e7e565b7f7361666542617463685472616e73666572416e64436c61696d46726f6d3a206181527f74206c65617374206f6e652063657274696669636174652068617320746f20626020820152693290383932b9b2b73a1760b11b604082015260600192915050565b6000612830602f83612e7e565b7f4e656564206f70657261746f7220617070726f76616c20666f7220337264207081526e30b93a3c903a3930b739b332b9399760891b602082015260400192915050565b6000612881603e83612e7e565b7f636f6e74726163742072657475726e656420616e20756e6b6e6f776e2076616c81527f75652066726f6d206f6e45524331313535426174636852656365697665640000602082015260400192915050565b60006128e0602183612e7e565b7f67657443657274696669636174653a205f6964206f7574206f6620626f756e648152607360f81b602082015260400192915050565b6000612923602e83612e7e565b7f436f6e747261637420696e7374616e63652068617320616c726561647920626581526d195b881a5b9a5d1a585b1a5e995960921b602082015260400192915050565b6000612973604583612e7e565b7f7361666542617463685472616e73666572416e64436c61696d46726f6d3a206e81527f6f7420616c6c2061727261797320617265206f66207468652073616d65206c656020820152643733ba341760d91b604082015260600192915050565b60006129e0602983612e7e565b7f5f69647320616e64205f76616c756573206172726179206c656e676874206d7581526839ba1036b0ba31b41760b91b602082015260400192915050565b6000612a2b602783612e7e565b7f736166655472616e7366657246726f6d3a205f746f206d757374206265206e6f8152663716bd32b9379760c91b602082015260400192915050565b6000612a74603983612e7e565b7f636f6e74726163742072657475726e656420616e20756e6b6e6f776e2076616c81527f75652066726f6d206f6e45524331313535526563656976656400000000000000602082015260400192915050565b600061184682846124c0565b600061184682846125b1565b6020810161033f828461247e565b60a08101612afa828861247e565b612b07602083018761247e565b8181036040830152612b198186612519565b90508181036060830152612b2d8185612519565b90508181036080830152612b418184612579565b979650505050505050565b60a08101612b5a828861247e565b612b67602083018761247e565b612b746040830186612570565b612b816060830185612570565b8181036080830152612b418184612579565b60808101612ba1828761247e565b612bae6020830186612570565b8181036040830152612bc08185612579565b90508181036060830152612bd48184612579565b9695505050505050565b60608082528101612bf081888a612487565b90508181036020830152612c05818688612487565b90508181036040830152612c1a818486612487565b98975050505050505050565b602080825281016118468184612519565b60408082528101612c488185612519565b905081810360208301526104428184612519565b6020810161033f8284612567565b60808101612c788287612570565b612bae602083018661247e565b602080825281016104428184866125e0565b602080825281016118468184612579565b6020808252810161033f81612602565b6020808252810161033f8161263b565b6020808252810161033f8161269b565b6020808252810161033f8161270b565b6020808252810161033f8161276a565b6020808252810161033f816127b1565b6020808252810161033f81612823565b6020808252810161033f81612874565b6020808252810161033f816128d3565b6020808252810161033f81612916565b6020808252810161033f81612966565b6020808252810161033f816129d3565b6020808252810161033f81612a1e565b6020808252810161033f81612a67565b6020810161033f8284612570565b60608101612da48285612570565b8181036020830152612db581612674565b9050611846604083018461246f565b60408101612dd28285612570565b6118466020830184612570565b60608101612ded8286612570565b612dfa6020830185612570565b6104426040830184612570565b6040518181016001600160401b0381118282101715612e2557600080fd5b604052919050565b60006001600160401b03821115612e4357600080fd5b5060209081020190565b60006001600160401b03821115612e6357600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b600061033f82612ea4565b151590565b6001600160e01b03191690565b6001600160a01b031690565b600061033f82600061033f82612e87565b82818337506000910152565b60005b83811015612ee8578181015183820152602001612ed0565b83811115610f0d5750506000910152565b601f01601f191690565b612f0c81612e87565b8114610e1b57600080fd5b612f0c81612e92565b612f0c8161044e565b612f0c81612e9756fea365627a7a72315820d8f4755f30e65ad6247e598910ea832cdbc260462da7f54f7f4a0946173a0ee06c6578706572696d656e74616cf564736f6c63430005100040","sourceMap":"133:3917:8:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;133:3917:8;;;;;;;","deployedSourceMap":"133:3917:8:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;133:3917:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7648:369:2;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;513:259:3;;;;;;;;;:::i;:::-;;;;;;;;847:494;;;;;;;;;:::i;3843:100:8:-;;;:::i;5644:1760:2:-;;;;;;;;;:::i;:::-;;1622:1003:8;;;;;;;;;:::i;3946:102::-;;;:::i;:::-;;;;;;;;2996:130;;;;;;;;;:::i;8316:394:2:-;;;;;;;;;:::i;2628:365:8:-;;;;;;;;;:::i;:::-;;;;;;;;;;;1959:113:3;;;;;;;;;:::i;624:234:10:-;;;:::i;1391:562:3:-;;;;;;;;;:::i;9064:202:2:-;;;;;;;;;:::i;551:599:8:-;;;;;;;;;:::i;382:20:3:-;;;:::i;243:70:8:-;;;;;;;;;:::i;267:44:3:-;;;;;;;;;:::i;:::-;;;;;;;;1153:466:8;;;;;;;;;:::i;183:57::-;;;;;;;;;:::i;:::-;;;;;;;;;;;9545:149:2;;;;;;;;;:::i;2973:1041::-;;;;;;;;;:::i;7648:369::-;7719:7;7989:13;;;:8;:13;;;;;;;;-1:-1:-1;;;;;7989:21:2;;;;;;;;;;7648:369;;;;;:::o;513:259:3:-;594:4;-1:-1:-1;;;;;;614:39:3;;-1:-1:-1;;;614:39:3;610:156;;;-1:-1:-1;676:4:3;669:11;;610:156;718:37;742:12;718:23;:37::i;:::-;711:44;;610:156;513:259;;;:::o;847:494::-;975:5;973:7;;;;;;;;-1:-1:-1;990:13:3;;;:8;:13;;;;;;;;:23;;-1:-1:-1;;;;;;990:23:3;-1:-1:-1;;;;;990:23:3;;;;;;;;1023:8;:13;;;;;:22;;;;;;;;;:39;;;1197:67;990:23;;-1:-1:-1;990:23:3;;1197:67;;;;973:7;;1023:39;;1197:67;;;;;;;;;;1279:22;;1275:59;;1330:3;1320:14;1324:4;;1320:14;;;;;;;;;;;;;;;;1275:59;847:494;;;;;;:::o;3843:100:8:-;3913:16;:23;3843:100;;:::o;5644:1760:2:-;-1:-1:-1;;;;;5830:19:2;;5822:69;;;;-1:-1:-1;;;5822:69:2;;;;;;;;;;;;;;;;;5924:7;:14;5909:4;:11;:29;5901:83;;;;-1:-1:-1;;;5901:83:2;;;;;;;;;-1:-1:-1;;;;;6002:19:2;;6011:10;6002:19;;:66;;-1:-1:-1;;;;;;6025:23:2;;;;;;:16;:23;;;;;;;;6049:10;6025:35;;;;;;;;;;:43;;:35;:43;6002:66;5994:126;;;;-1:-1:-1;;;5994:126:2;;;;;;;;;6136:9;6131:380;6155:4;:11;6151:1;:15;6131:380;;;6187:10;6200:4;6205:1;6200:7;;;;;;;;;;;;;;6187:20;;6221:13;6237:7;6245:1;6237:10;;;;;;;;;;;;;;;;;;;6406:12;;;;:8;:12;;;;;;-1:-1:-1;;;;;6406:19:2;;;;;;;;;;;;6237:10;;-1:-1:-1;6406:30:2;;6237:10;6406:30;:23;:30;:::i;:::-;6384:12;;;;:8;:12;;;;;;;;-1:-1:-1;;;;;6384:19:2;;;;;;;;;;:52;;;;6482:17;;;;;;6472:28;;:5;;:9;:28::i;:::-;6450:12;;;;:8;:12;;;;;;;;-1:-1:-1;;;;;6450:17:2;;;;;;;;;;:50;;;;-1:-1:-1;6168:3:2;;6131:380;;;;7094:3;-1:-1:-1;;;;;7061:52:2;7087:5;-1:-1:-1;;;;;7061:52:2;7075:10;-1:-1:-1;;;;;7061:52:2;;7099:4;7105:7;7061:52;;;;;;;;;;;;;;;;7274:16;:3;-1:-1:-1;;;;;7274:14:2;;:16::i;:::-;7270:128;;;7306:81;7342:10;7354:5;7361:3;7366:4;7372:7;7381:5;7306:35;:81::i;:::-;5644:1760;;;;;:::o;1622:1003:8:-;1845:4;1869:18;1861:105;;;;-1:-1:-1;;;1861:105:8;;;;;;;;;1982:32;;;:71;;;;-1:-1:-1;2018:35:8;;;1982:71;1970:163;;;;-1:-1:-1;;;1970:163:8;;;;;;;;;2138:22;2176:14;2163:28;;;;;;;;;;;;;;;;;;;;;;29:2:-1;21:6;17:15;117:4;105:10;97:6;88:34;136:17;;-1:-1;2163:28:8;-1:-1:-1;2138:53:8;-1:-1:-1;2201:9:8;2196:182;2220:14;2216:1;:18;2196:182;;;2246:23;;:::i;:::-;2272:18;:27;2291:4;;2296:1;2291:7;;;;;;;;;;;;;;;;2272:27;;-1:-1:-1;2272:27:8;;;;;;;;;;;-1:-1:-1;2272:27:8;2246:53;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2246:53:8;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;2246:53:8;;;;;;;;;;;;;;;;;;;;;;;;;2272:27;;2246:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;2246:53:8;;;-1:-1:-1;;2246:53:8;;;;;;;;;;;;;;;;-1:-1:-1;;2246:53:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2304:42;2314:4;:11;;;2328:4;:17;;;2304:9;:42::i;:::-;2363:4;:10;;;2351:6;2358:1;2351:9;;;;;;;;;;;;;;;;;:22;-1:-1:-1;2236:3:8;;2196:182;;;;2395:3;-1:-1:-1;;;;;2386:12:8;:5;-1:-1:-1;;;;;2386:12:8;;2382:83;;2405:55;2427:5;2434:3;2439:4;;2405:55;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;2405:55:8;;;;;;2445:7;;2405:55;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;;2405:55:8;;;;137:4:-1;2405:55:8;;;;;;;;;;;;;;;;;;-1:-1:-1;2454:5:8;;-1:-1:-1;2454:5:8;;;;2405:55;;2454:5;;;;2405:55;1:33:-1;99:1;81:16;;74:27;;;;-1:-1;2405:21:8;;-1:-1:-1;;;2405:55:8:i;:::-;2474:9;2469:86;2493:14;2489:1;:18;2469:86;;;2519:31;2525:3;2530:4;;2535:1;2530:7;;;;;;;;;;;;;2539;;2547:1;2539:10;;;;;;;;;;;;;2519:5;:31::i;:::-;2509:3;;2469:86;;;;2587:6;2564:57;;;;;;;;;;;;;;;2582:3;-1:-1:-1;;;;;2564:57:8;2575:5;-1:-1:-1;;;;;2564:57:8;;2595:4;;2601:7;;2610:10;;2564:57;;;;;;;;;;;;;;;;;;;;1622:1003;;;;;;;;;;;;:::o;3946:102::-;3996:16;4025;4018:23;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3946:102;:::o;2996:130::-;3074:7;3094:20;;;:15;:20;;;;;;;;-1:-1:-1;;;;;3094:28:8;;;;;;;;;;;;2996:130::o;8316:394:2:-;8416:16;8453:29;;;8445:38;;;;;;8523:29;;;;;;;;;;;;;;;;8494:26;;8537:7;8523:29;;;;;;;29:2:-1;21:6;17:15;117:4;105:10;97:6;88:34;136:17;;-1:-1;8523:29:2;-1:-1:-1;8494:58:2;-1:-1:-1;8568:9:2;8563:114;8583:18;;;8563:114;;;8637:8;:17;8646:4;;8651:1;8646:7;;;;;;;;;;;;;8637:17;;;;;;;;;;;:29;8655:7;;8663:1;8655:10;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;8637:29:2;-1:-1:-1;;;;;8637:29:2;;;;;;;;;;;;;8622:9;8632:1;8622:12;;;;;;;;;;;;;;;;;:44;8603:3;;8563:114;;;-1:-1:-1;8694:9:2;8316:394;-1:-1:-1;;;;;8316:394:2:o;2628:365:8:-;2688:14;2704:12;2718:25;2745:17;2783:13;:11;:13::i;:::-;2776:3;:20;;2768:66;;;;-1:-1:-1;;;2768:66:8;;;;;;;;;2839:30;;:::i;:::-;2872:23;;;;:18;:23;;;;;;;;;2839:56;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2839:56:8;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;2839:56:8;;;;;;;;;;;;;;;;;;;;;;;;;2872:23;;2839:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;2839:56:8;;;-1:-1:-1;;2839:56:8;;;;;;;;;;;;;;;;-1:-1:-1;;2839:56:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;2839:56:8;;;;-1:-1:-1;;;2907:18:8;;;;2927:17;;2946:24;;;;2972:16;;;;;2907:18;;2927:17;;-1:-1:-1;2946:24:8;;-1:-1:-1;2972:16:8;-1:-1:-1;2628:365:8;-1:-1:-1;;;2628:365:8:o;1959:113:3:-;461:13;;;;:8;:13;;;;;;2031:3;;-1:-1:-1;;;;;461:13:3;478:10;461:27;453:36;;;;;;2061:3;2051:14;2055:4;;2051:14;;;;;;;;;;;;;;;;1959:113;;;;:::o;624:234:10:-;1024:12:14;;;;;;;;:31;;;1040:15;:13;:15::i;:::-;1024:47;;;-1:-1:-1;1060:11:14;;;;1059:12;1024:47;1016:106;;;;-1:-1:-1;;;1016:106:14;;;;;;;;;1129:19;1152:12;;;;;;1151:13;1170:80;;;;1198:12;:19;;-1:-1:-1;;;;1198:19:14;;;;;1225:18;1213:4;1225:18;;;1170:80;811:40:10;-1:-1:-1;;;811:18:10;:40::i;:::-;1268:14:14;1264:55;;;1307:5;1292:20;;-1:-1:-1;;1292:20:14;;;1264:55;624:234:10;:::o;1391:562:3:-;461:13;;;;:8;:13;;;;;;1471:3;;-1:-1:-1;;;;;461:13:3;478:10;461:27;453:36;;;;;;1563:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;1563:18:3;;;;;;;;;;1549:33;;:9;;:33;:13;:33;:::i;:::-;1528:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;1528:18:3;;;;;;;;;;:54;;;;1749:61;;1764:10;;1749:61;;;;1537:3;;1800:9;;1749:61;;;;;;;;;;1825:16;:3;-1:-1:-1;;;;;1825:14:3;;:16::i;:::-;1821:126;;;1857:79;1888:10;1900;1912:3;1917;1922:9;1857:79;;;;;;;;;;;;:30;:79::i;:::-;1391:562;;;;:::o;9064:202:2:-;9162:10;9145:28;;;;:16;:28;;;;;;;;-1:-1:-1;;;;;9145:39:2;;;;;;;;;;;:51;;-1:-1:-1;;9145:51:2;;;;;;;9211:48;;9145:39;;9162:10;9211:48;;;;9145:51;;9211:48;;;;;;;;;;9064:202;;:::o;551:599:8:-;680:11;697:36;707:10;719:13;;697:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;697:9:8;;-1:-1:-1;;;697:36:8:i;:::-;744:46;;-1:-1:-1;;;744:46:8;;:4;;:11;;:46;;756:6;;779:10;;744:46;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;744:46:8;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;744:46:8;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;744:46:8;;;;;;;;;738:52;-1:-1:-1;799:10:8;;795:79;;816:53;833:10;845:3;850;855:6;863:5;;816:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;816:16:8;;-1:-1:-1;;;816:53:8:i;:::-;904:106;;;;;;;;928:6;904:106;;;;947:10;-1:-1:-1;;;;;904:106:8;;;;;976:13;;904:106;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;;;904:106:8;;;-1:-1:-1;904:106:8;;;;137:4:-1;904:106:8;;;;;;;;;;;;;;;;;;;;;;1000:5;;;;;;904:106;;1000:5;;;;904:106;1:33:-1;99:1;81:16;;74:27;;;-1:-1;904:106:8;;;;-1:-1:-1;;878:23:8;;;:18;:23;;;;;;;;;:132;;;;;;;;;;;;;-1:-1:-1;;;;;;878:132:8;-1:-1:-1;;;;;878:132:8;;;;;;;;;;;;;;;:23;;-1:-1:-1;878:132:8;;;;;;;;;;;;:::i;:::-;-1:-1:-1;878:132:8;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;1044:16:8;:23;;1015:26;;;;:21;:26;;;;;;:52;;;39:1:-1;23:18;;45:23;;1071:26:8;;;;;;;;1107:39;1134:6;;-1:-1:-1;1122:10:8;;1107:39;;;;1037:3;;1107:39;;;;;;;;;;551:599;;;;;;;;;:::o;382:20:3:-;;;;:::o;243:70:8:-;;;;;;;;;;;;;;;;;;;;;;;;:::o;267:44:3:-;;;;;;;;;;;;-1:-1:-1;;;;;267:44:3;;:::o;1153:466:8:-;1314:23;;:::i;:::-;1340;;;;:18;:23;;;;;;;;;1314:49;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1314:49:8;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1314:49:8;;;;;;;;;;;;;;;;;;;;;;;;;1340:23;;1314:49;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;1314:49:8;;;-1:-1:-1;;1314:49:8;;;;;;;;;;;;;;;;-1:-1:-1;;1314:49:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1368:42;1378:4;:11;;;1392:4;:17;;;1368:9;:42::i;:::-;1428:3;-1:-1:-1;;;;;1419:12:8;:5;-1:-1:-1;;;;;1419:12:8;;1415:76;;1438:48;1455:5;1462:3;1467;1472:6;1480:5;;1438:48;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;1438:16:8;;-1:-1:-1;;;1438:48:8:i;:::-;1495:23;1501:3;1506;1511:6;1495:5;:23::i;:::-;1552:4;:10;;;1547:3;-1:-1:-1;;;;;1528:60:8;1540:5;-1:-1:-1;;;;;1528:60:8;;1564:3;1569:6;1577:10;1528:60;;;;;;;;;;;;;;;;;1153:466;;;;;;;;:::o;183:57::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;183:57:8;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;183:57:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;183:57:8;;;;;;;;;;;;;;;;-1:-1:-1;;183:57:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;183:57:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;9545:149:2:-;-1:-1:-1;;;;;9652:24:2;;;9629:4;9652:24;;;:16;:24;;;;;;;;:35;;;;;;;;;;;;;;;9545:149::o;2973:1041::-;-1:-1:-1;;;;;3102:19:2;;3094:71;;;;-1:-1:-1;;;3094:71:2;;;;;;;;;-1:-1:-1;;;;;3183:19:2;;3192:10;3183:19;;:66;;-1:-1:-1;;;;;;3206:23:2;;;;;;:16;:23;;;;;;;;3230:10;3206:35;;;;;;;;;;:43;;:35;:43;3183:66;3175:126;;;;-1:-1:-1;;;3175:126:2;;;;;;;;;3342:1;3319:13;;;:8;:13;;;;;;;;-1:-1:-1;;;;;3319:20:2;;;;;;;;;;3311:92;;;;-1:-1:-1;;;3311:92:2;;;;;;;;;3551:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;3551:20:2;;;;;;;;;;:32;;3576:6;3551:32;:24;:32;:::i;:::-;3528:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;3528:20:2;;;;;;;;;;:55;;;;3625:18;;;;;;3614:30;;:6;;:10;:30::i;:::-;3593:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;3593:18:2;;;;;;;;;;;;;;:51;;;;3687;;3593:18;;3687:51;;;3702:10;;3687:51;;;;3602:3;;3731:6;;3687:51;;;;;;;;;;3891:16;:3;-1:-1:-1;;;;;3891:14:2;;:16::i;:::-;3887:121;;;3923:74;3954:10;3966:5;3973:3;3978;3983:6;3991:5;3923:30;:74::i;1460:273::-;1541:4;-1:-1:-1;;;;;;1562:42:2;;-1:-1:-1;;;1562:42:2;;:102;;-1:-1:-1;;;;;;;1621:43:2;;-1:-1:-1;;;1621:43:2;1562:102;1558:145;;;-1:-1:-1;1687:4:2;1680:11;;1558:145;-1:-1:-1;1721:5:2;1460:273;;;:::o;1274:134:12:-;1332:7;1358:43;1362:1;1365;1358:43;;;;;;;;;;;;;;;;;:3;:43::i;:::-;1351:50;1274:134;-1:-1:-1;;;1274:134:12:o;834:176::-;892:7;923:5;;;946:6;;;;938:46;;;;-1:-1:-1;;;938:46:12;;;;;;;;465:624:0;1036:20;1074:8;;;465:624::o;10935:1181:2:-;11928:88;;-1:-1:-1;;;11928:88:2;;;12020:22;-1:-1:-1;;;;;11928:48:2;;;311:10:1;;11928:88:2;;11977:9;;11988:5;;11995:4;;12001:7;;12010:5;;11928:88;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;11928:88:2;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;11928:88:2;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;11928:88:2;;;;;;;;;-1:-1:-1;;;;;;11928:114:2;;11920:189;;;;-1:-1:-1;;;11920:189:2;;;;;;;;;10935:1181;;;;;;:::o;3336:345:8:-;3424:22;:9;-1:-1:-1;;;;;3424:20:8;;:22::i;:::-;3420:258;;;3454:12;3468:19;3491:9;-1:-1:-1;;;;;3491:20:8;3512:13;3491:35;;;;;;;;;;;;;;;;;;;;;;14:1:-1;21;16:31;;;;75:4;69:11;64:16;;144:4;140:9;133:4;115:16;111:27;107:43;104:1;100:51;94:4;87:65;169:16;166:1;159:27;225:16;222:1;215:4;212:1;208:12;193:49;7:242;;16:31;36:4;31:9;;7:242;;3453:73:8;;;;3545:7;:37;;;;;3567:6;3556:26;;;;;;;;;;;;;;3532:135;;;;-1:-1:-1;;;3532:135:8;;;;;;;;3420:258;3336:345;;:::o;3129:204::-;3224:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;3224:20:8;;;;;;;;;;:32;;3249:6;3224:32;:24;:32;:::i;:::-;3201:13;;;;:8;:13;;;;;;;;-1:-1:-1;;;;;3201:20:8;;;;;;;;;;;:55;;;;3290:20;;;:15;:20;;;;;:27;;;;;;;;:39;;3322:6;3290:39;:31;:39;:::i;:::-;3260:20;;;;:15;:20;;;;;;;;-1:-1:-1;;;;;3260:27:8;;;;;;;;;;;;:69;;;;-1:-1:-1;3129:204:8:o;1409:498:14:-;1820:4;1864:17;1895:7;1409:498;:::o;1533:190:10:-;-1:-1:-1;;;;;;1608:25:10;;;;;1600:66;;;;-1:-1:-1;;;1600:66:10;;;;;;;;;-1:-1:-1;;;;;;1676:33:10;;;;;:20;:33;;;;;:40;;-1:-1:-1;;1676:40:10;1712:4;1676:40;;;1533:190::o;9801:1128:2:-;10759:81;;-1:-1:-1;;;10759:81:2;;;10844:16;-1:-1:-1;;;;;10759:43:2;;;164:10:1;;10759:81:2;;10803:9;;10814:5;;10821:3;;10826:6;;10834:5;;10759:81;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;10759:81:2;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;10759:81:2;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;10759:81:2;;;;;;;;;-1:-1:-1;;;;;;10759:101:2;;10751:171;;;;-1:-1:-1;;;10751:171:2;;;;;;;;1732:187:12;1818:7;1853:12;1845:6;;;;1837:29;;;;-1:-1:-1;;;1837:29:12;;;;;;;;;;-1:-1:-1;;;1888:5:12;;;1732:187::o;133:3917:8:-;;;;;;;;;;;;;;;-1:-1:-1;;;;;133:3917:8;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;133:3917:8;;;-1:-1:-1;133:3917:8;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;5:130:-1;72:20;;97:33;72:20;97:33;;160:352;;;290:3;283:4;275:6;271:17;267:27;257:2;;308:1;305;298:12;257:2;-1:-1;328:20;;-1:-1;;;;;357:30;;354:2;;;400:1;397;390:12;354:2;434:4;426:6;422:17;410:29;;485:3;477:4;469:6;465:17;455:8;451:32;448:41;445:2;;;502:1;499;492:12;445:2;250:262;;;;;;1294:707;;1411:3;1404:4;1396:6;1392:17;1388:27;1378:2;;1429:1;1426;1419:12;1378:2;1466:6;1453:20;1488:80;1503:64;1560:6;1503:64;;;1488:80;;;1479:89;;1585:5;1610:6;1603:5;1596:21;1640:4;1632:6;1628:17;1618:27;;1662:4;1657:3;1653:14;1646:21;;1715:6;1762:3;1754:4;1746:6;1742:17;1737:3;1733:27;1730:36;1727:2;;;1779:1;1776;1769:12;1727:2;1804:1;1789:206;1814:6;1811:1;1808:13;1789:206;;;1872:3;1894:37;1927:3;1915:10;1894:37;;;1882:50;;-1:-1;1955:4;1946:14;;;;1974;;;;;1836:1;1829:9;1789:206;;;1793:14;1371:630;;;;;;;;2009:124;2073:20;;2098:30;2073:20;2098:30;;2140:128;2215:13;;2233:30;2215:13;2233:30;;2275:130;2342:20;;2367:33;2342:20;2367:33;;2412:128;2478:20;;2503:32;2478:20;2503:32;;2547:132;2624:13;;2642:32;2624:13;2642:32;;2700:336;;;2814:3;2807:4;2799:6;2795:17;2791:27;2781:2;;2832:1;2829;2822:12;2781:2;-1:-1;2852:20;;-1:-1;;;;;2881:30;;2878:2;;;2924:1;2921;2914:12;2878:2;2958:4;2950:6;2946:17;2934:29;;3009:3;3001:4;2993:6;2989:17;2979:8;2975:32;2972:41;2969:2;;;3026:1;3023;3016:12;3045:440;;3146:3;3139:4;3131:6;3127:17;3123:27;3113:2;;3164:1;3161;3154:12;3113:2;3201:6;3188:20;3223:64;3238:48;3279:6;3238:48;;3223:64;3214:73;;3307:6;3300:5;3293:21;3343:4;3335:6;3331:17;3376:4;3369:5;3365:16;3411:3;3402:6;3397:3;3393:16;3390:25;3387:2;;;3428:1;3425;3418:12;3387:2;3438:41;3472:6;3467:3;3462;3438:41;;;3106:379;;;;;;;;4125:134;4203:13;;4221:33;4203:13;4221:33;;4266:241;;4370:2;4358:9;4349:7;4345:23;4341:32;4338:2;;;4386:1;4383;4376:12;4338:2;4421:1;4438:53;4483:7;4463:9;4438:53;;4514:366;;;4635:2;4623:9;4614:7;4610:23;4606:32;4603:2;;;4651:1;4648;4641:12;4603:2;4686:1;4703:53;4748:7;4728:9;4703:53;;;4693:63;;4665:97;4793:2;4811:53;4856:7;4847:6;4836:9;4832:22;4811:53;;;4801:63;;4772:98;4597:283;;;;;;4887:1461;;;;;;;;;;;5200:3;5188:9;5179:7;5175:23;5171:33;5168:2;;;5217:1;5214;5207:12;5168:2;5252:1;5269:53;5314:7;5294:9;5269:53;;;5259:63;;5231:97;5359:2;5377:53;5422:7;5413:6;5402:9;5398:22;5377:53;;;5367:63;;5338:98;5495:2;5484:9;5480:18;5467:32;-1:-1;;;;;5511:6;5508:30;5505:2;;;5551:1;5548;5541:12;5505:2;5579:80;5651:7;5642:6;5631:9;5627:22;5579:80;;;5569:90;;;;5446:219;5724:2;5713:9;5709:18;5696:32;-1:-1;;;;;5740:6;5737:30;5734:2;;;5780:1;5777;5770:12;5734:2;5808:80;5880:7;5871:6;5860:9;5856:22;5808:80;;;5798:90;;;;5675:219;5953:3;5942:9;5938:19;5925:33;-1:-1;;;;;5970:6;5967:30;5964:2;;;6010:1;6007;6000:12;5964:2;6038:64;6094:7;6085:6;6074:9;6070:22;6038:64;;;6028:74;;;;5904:204;6167:3;6156:9;6152:19;6139:33;-1:-1;;;;;6184:6;6181:30;6178:2;;;6224:1;6221;6214:12;6178:2;6252:80;6324:7;6315:6;6304:9;6300:22;6252:80;;;6242:90;;;;6118:220;5162:1186;;;;;;;;;;;;;;6355:1119;;;;;;6586:3;6574:9;6565:7;6561:23;6557:33;6554:2;;;6603:1;6600;6593:12;6554:2;6638:1;6655:53;6700:7;6680:9;6655:53;;;6645:63;;6617:97;6745:2;6763:53;6808:7;6799:6;6788:9;6784:22;6763:53;;;6753:63;;6724:98;6881:2;6870:9;6866:18;6853:32;-1:-1;;;;;6897:6;6894:30;6891:2;;;6937:1;6934;6927:12;6891:2;6957:78;7027:7;7018:6;7007:9;7003:22;6957:78;;;6947:88;;6832:209;7100:2;7089:9;7085:18;7072:32;-1:-1;;;;;7116:6;7113:30;7110:2;;;7156:1;7153;7146:12;7110:2;7176:78;7246:7;7237:6;7226:9;7222:22;7176:78;;;7166:88;;7051:209;7319:3;7308:9;7304:19;7291:33;-1:-1;;;;;7336:6;7333:30;7330:2;;;7376:1;7373;7366:12;7330:2;7396:62;7450:7;7441:6;7430:9;7426:22;7396:62;;;7386:72;;7270:194;6548:926;;;;;;;;;7481:993;;;;;;;;7689:3;7677:9;7668:7;7664:23;7660:33;7657:2;;;7706:1;7703;7696:12;7657:2;7741:1;7758:53;7803:7;7783:9;7758:53;;;7748:63;;7720:97;7848:2;7866:53;7911:7;7902:6;7891:9;7887:22;7866:53;;;7856:63;;7827:98;7956:2;7974:53;8019:7;8010:6;7999:9;7995:22;7974:53;;;7964:63;;7935:98;8064:2;8082:53;8127:7;8118:6;8107:9;8103:22;8082:53;;;8072:63;;8043:98;8200:3;8189:9;8185:19;8172:33;-1:-1;;;;;8217:6;8214:30;8211:2;;;8257:1;8254;8247:12;8211:2;8285:64;8341:7;8332:6;8321:9;8317:22;8285:64;;;8275:74;;;;8151:204;8386:3;8405:53;8450:7;8441:6;8430:9;8426:22;8405:53;;;8395:63;;8365:99;7651:823;;;;;;;;;;;8481:847;;;;;;8662:3;8650:9;8641:7;8637:23;8633:33;8630:2;;;8679:1;8676;8669:12;8630:2;8714:1;8731:53;8776:7;8756:9;8731:53;;;8721:63;;8693:97;8821:2;8839:53;8884:7;8875:6;8864:9;8860:22;8839:53;;;8829:63;;8800:98;8929:2;8947:53;8992:7;8983:6;8972:9;8968:22;8947:53;;;8937:63;;8908:98;9037:2;9055:53;9100:7;9091:6;9080:9;9076:22;9055:53;;9335:360;;;9453:2;9441:9;9432:7;9428:23;9424:32;9421:2;;;9469:1;9466;9459:12;9421:2;9504:1;9521:53;9566:7;9546:9;9521:53;;;9511:63;;9483:97;9611:2;9629:50;9671:7;9662:6;9651:9;9647:22;9629:50;;9702:989;;;;;;;;9911:3;9899:9;9890:7;9886:23;9882:33;9879:2;;;9928:1;9925;9918:12;9879:2;9963:1;9980:53;10025:7;10005:9;9980:53;;;9970:63;;9942:97;10098:2;10087:9;10083:18;10070:32;-1:-1;;;;;10114:6;10111:30;10108:2;;;10154:1;10151;10144:12;10108:2;10182:64;10238:7;10229:6;10218:9;10214:22;10182:64;;;10172:74;;;;10049:203;10283:2;10301:52;10345:7;10336:6;10325:9;10321:22;10301:52;;;10291:62;;10262:97;10390:2;10408:53;10453:7;10444:6;10433:9;10429:22;10408:53;;;10398:63;;10369:98;10526:3;10515:9;10511:19;10498:33;-1:-1;;;;;10543:6;10540:30;10537:2;;;10583:1;10580;10573:12;10537:2;10611:64;10667:7;10658:6;10647:9;10643:22;10611:64;;;10601:74;;;;10477:204;9873:818;;;;;;;;;;;10698:366;;;10819:2;10807:9;10798:7;10794:23;10790:32;10787:2;;;10835:1;10832;10825:12;10787:2;10870:1;10887:53;10932:7;10912:9;10887:53;;;10877:63;;10849:97;10977:2;10995:53;11040:7;11031:6;11020:9;11016:22;10995:53;;11071:678;;;;;11262:2;11250:9;11241:7;11237:23;11233:32;11230:2;;;11278:1;11275;11268:12;11230:2;11313:31;;-1:-1;;;;;11353:30;;11350:2;;;11396:1;11393;11386:12;11350:2;11424:80;11496:7;11487:6;11476:9;11472:22;11424:80;;;11414:90;;;;11292:218;11569:2;11558:9;11554:18;11541:32;-1:-1;;;;;11585:6;11582:30;11579:2;;;11625:1;11622;11615:12;11579:2;11653:80;11725:7;11716:6;11705:9;11701:22;11653:80;;;11224:525;;;;-1:-1;11643:90;-1:-1;;;;11224:525;11756:257;;11868:2;11856:9;11847:7;11843:23;11839:32;11836:2;;;11884:1;11881;11874:12;11836:2;11919:1;11936:61;11989:7;11969:9;11936:61;;12020:239;;12123:2;12111:9;12102:7;12098:23;12094:32;12091:2;;;12139:1;12136;12129:12;12091:2;12174:1;12191:52;12235:7;12215:9;12191:52;;12266:261;;12380:2;12368:9;12359:7;12355:23;12351:32;12348:2;;;12396:1;12393;12386:12;12348:2;12431:1;12448:63;12503:7;12483:9;12448:63;;12534:492;;;;12675:2;12663:9;12654:7;12650:23;12646:32;12643:2;;;12691:1;12688;12681:12;12643:2;12726:31;;-1:-1;;;;;12766:30;;12763:2;;;12809:1;12806;12799:12;12763:2;12837:65;12894:7;12885:6;12874:9;12870:22;12837:65;;;12827:75;;;;12705:203;12939:2;12957:53;13002:7;12993:6;12982:9;12978:22;12957:53;;;12947:63;;12918:98;12637:389;;;;;;13033:241;;13137:2;13125:9;13116:7;13112:23;13108:32;13105:2;;;13153:1;13150;13143:12;13105:2;13188:1;13205:53;13250:7;13230:9;13205:53;;13281:263;;13396:2;13384:9;13375:7;13371:23;13367:32;13364:2;;;13412:1;13409;13402:12;13364:2;13447:1;13464:64;13520:7;13500:9;13464:64;;13551:366;;;13672:2;13660:9;13651:7;13647:23;13643:32;13640:2;;;13688:1;13685;13678:12;13640:2;13723:1;13740:53;13785:7;13765:9;13740:53;;13924:491;;;;14062:2;14050:9;14041:7;14037:23;14033:32;14030:2;;;14078:1;14075;14068:12;14030:2;14113:1;14130:53;14175:7;14155:9;14130:53;;;14120:63;;14092:97;14220:2;14238:53;14283:7;14274:6;14263:9;14259:22;14238:53;;;14228:63;;14199:98;14328:2;14346:53;14391:7;14382:6;14371:9;14367:22;14346:53;;14422:617;;;;;14580:2;14568:9;14559:7;14555:23;14551:32;14548:2;;;14596:1;14593;14586:12;14548:2;14631:1;14648:53;14693:7;14673:9;14648:53;;;14638:63;;14610:97;14766:2;14755:9;14751:18;14738:32;-1:-1;;;;;14782:6;14779:30;14776:2;;;14822:1;14819;14812:12;14776:2;14850:65;14907:7;14898:6;14887:9;14883:22;14850:65;;;14840:75;;;;14717:204;14952:2;14970:53;15015:7;15006:6;14995:9;14991:22;14970:53;;;14960:63;;14931:98;14542:497;;;;;;;;15047:185;;15140:52;15188:3;15180:6;15140:52;;;-1:-1;;15221:4;15212:14;;15133:99;15422:142;15513:45;15552:5;15513:45;;;15508:3;15501:58;15495:69;;;15571:113;15654:24;15672:5;15654:24;;15722:467;;15868:86;15947:6;15942:3;15868:86;;;15861:93;;-1:-1;;;;;15973:6;15970:78;15967:2;;;16061:1;16058;16051:12;15967:2;16094:4;16086:6;16082:17;16072:27;;16111:43;16147:6;16142:3;16135:5;16111:43;;;-1:-1;;16167:16;;15854:335;16226:726;;16387:53;16434:5;16387:53;;;16453:103;16549:6;16544:3;16453:103;;;16446:110;;16577:55;16626:5;16577:55;;;16652:7;16680:1;16665:265;16690:6;16687:1;16684:13;16665:265;;;16757:6;16751:13;16778:69;16843:3;16828:13;16778:69;;;16771:76;;16864:59;16916:6;16864:59;;;16854:69;-1:-1;;16712:1;16705:9;16665:265;;;-1:-1;16943:3;;16366:586;-1:-1;;;;;16366:586;17497:690;;17642:54;17690:5;17642:54;;;17709:86;17788:6;17783:3;17709:86;;;17702:93;;17816:56;17866:5;17816:56;;;17892:7;17920:1;17905:260;17930:6;17927:1;17924:13;17905:260;;;17997:6;17991:13;18018:63;18077:3;18062:13;18018:63;;;18011:70;;18098:60;18151:6;18098:60;;;18088:70;-1:-1;;17952:1;17945:9;17905:260;;18195:104;18272:21;18287:5;18272:21;;18306:113;18389:24;18407:5;18389:24;;18426:343;;18536:38;18568:5;18536:38;;;18586:70;18649:6;18644:3;18586:70;;;18579:77;;18661:52;18706:6;18701:3;18694:4;18687:5;18683:16;18661:52;;;18734:29;18756:6;18734:29;;;18725:39;;;;18516:253;-1:-1;;;18516:253;18776:356;;18904:38;18936:5;18904:38;;;18954:88;19035:6;19030:3;18954:88;;;18947:95;;19047:52;19092:6;19087:3;19080:4;19073:5;19069:16;19047:52;;;19111:16;;;;;18884:248;-1:-1;;18884:248;19738:300;;19854:71;19918:6;19913:3;19854:71;;;19847:78;;19937:43;19973:6;19968:3;19961:5;19937:43;;;20002:29;20024:6;20002:29;;20401:328;;20561:67;20625:2;20620:3;20561:67;;;20661:30;20641:51;;20720:2;20711:12;;20547:182;-1:-1;;20547:182;20738:327;;20898:67;20962:2;20957:3;20898:67;;;20998:29;20978:50;;21056:2;21047:12;;20884:181;-1:-1;;20884:181;21074:311;;21234:67;21298:2;21293:3;21234:67;;;-1:-1;;;21314:34;;21376:2;21367:12;;21220:165;-1:-1;;21220:165;21394:446;;21554:67;21618:2;21613:3;21554:67;;;21654:34;21634:55;;21723:34;21718:2;21709:12;;21702:56;-1:-1;;;21787:2;21778:12;;21771:32;21831:2;21822:12;;21540:300;-1:-1;;21540:300;21849:392;;22009:67;22073:2;22068:3;22009:67;;;22109:34;22089:55;;22178:25;22173:2;22164:12;;22157:47;22232:2;22223:12;;21995:246;-1:-1;;21995:246;22250:374;;22410:67;22474:2;22469:3;22410:67;;;22510:34;22490:55;;-1:-1;;;22574:2;22565:12;;22558:29;22615:2;22606:12;;22396:228;-1:-1;;22396:228;22633:448;;22793:67;22857:2;22852:3;22793:67;;;22893:34;22873:55;;22962:34;22957:2;22948:12;;22941:56;-1:-1;;;23026:2;23017:12;;23010:34;23072:2;23063:12;;22779:302;-1:-1;;22779:302;23090:384;;23250:67;23314:2;23309:3;23250:67;;;23350:34;23330:55;;-1:-1;;;23414:2;23405:12;;23398:39;23465:2;23456:12;;23236:238;-1:-1;;23236:238;23483:399;;23643:67;23707:2;23702:3;23643:67;;;23743:34;23723:55;;23812:32;23807:2;23798:12;;23791:54;23873:2;23864:12;;23629:253;-1:-1;;23629:253;23891:370;;24051:67;24115:2;24110:3;24051:67;;;24151:34;24131:55;;-1:-1;;;24215:2;24206:12;;24199:25;24252:2;24243:12;;24037:224;-1:-1;;24037:224;24270:383;;24430:67;24494:2;24489:3;24430:67;;;24530:34;24510:55;;-1:-1;;;24594:2;24585:12;;24578:38;24644:2;24635:12;;24416:237;-1:-1;;24416:237;24662:443;;24822:67;24886:2;24881:3;24822:67;;;24922:34;24902:55;;24991:34;24986:2;24977:12;;24970:56;-1:-1;;;25055:2;25046:12;;25039:29;25096:2;25087:12;;24808:297;-1:-1;;24808:297;25114:378;;25274:67;25338:2;25333:3;25274:67;;;25374:34;25354:55;;-1:-1;;;25438:2;25429:12;;25422:33;25483:2;25474:12;;25260:232;-1:-1;;25260:232;25501:376;;25661:67;25725:2;25720:3;25661:67;;;25761:34;25741:55;;-1:-1;;;25825:2;25816:12;;25809:31;25868:2;25859:12;;25647:230;-1:-1;;25647:230;25886:394;;26046:67;26110:2;26105:3;26046:67;;;26146:34;26126:55;;26215:27;26210:2;26201:12;;26194:49;26271:2;26262:12;;26032:248;-1:-1;;26032:248;26518:322;;26692:123;26811:3;26802:6;26692:123;;26847:262;;26991:93;27080:3;27071:6;26991:93;;27116:213;27234:2;27219:18;;27248:71;27223:9;27292:6;27248:71;;27336:1039;27684:3;27669:19;;27699:71;27673:9;27743:6;27699:71;;;27781:72;27849:2;27838:9;27834:18;27825:6;27781:72;;;27901:9;27895:4;27891:20;27886:2;27875:9;27871:18;27864:48;27926:108;28029:4;28020:6;27926:108;;;27918:116;;28082:9;28076:4;28072:20;28067:2;28056:9;28052:18;28045:48;28107:108;28210:4;28201:6;28107:108;;;28099:116;;28264:9;28258:4;28254:20;28248:3;28237:9;28233:19;28226:49;28289:76;28360:4;28351:6;28289:76;;;28281:84;27655:720;-1:-1;;;;;;;27655:720;28382:743;28630:3;28615:19;;28645:71;28619:9;28689:6;28645:71;;;28727:72;28795:2;28784:9;28780:18;28771:6;28727:72;;;28810;28878:2;28867:9;28863:18;28854:6;28810:72;;;28893;28961:2;28950:9;28946:18;28937:6;28893:72;;;29014:9;29008:4;29004:20;28998:3;28987:9;28983:19;28976:49;29039:76;29110:4;29101:6;29039:76;;29132:711;29368:3;29353:19;;29383:71;29357:9;29427:6;29383:71;;;29465:70;29531:2;29520:9;29516:18;29507:6;29465:70;;;29583:9;29577:4;29573:20;29568:2;29557:9;29553:18;29546:48;29608:76;29679:4;29670:6;29608:76;;;29600:84;;29732:9;29726:4;29722:20;29717:2;29706:9;29702:18;29695:48;29757:76;29828:4;29819:6;29757:76;;;29749:84;29339:504;-1:-1;;;;;;29339:504;29850:939;30204:2;30218:47;;;30189:18;;30279:118;30189:18;30383:6;30375;30279:118;;;30271:126;;30445:9;30439:4;30435:20;30430:2;30419:9;30415:18;30408:48;30470:118;30583:4;30574:6;30566;30470:118;;;30462:126;;30636:9;30630:4;30626:20;30621:2;30610:9;30606:18;30599:48;30661:118;30774:4;30765:6;30757;30661:118;;;30653:126;30175:614;-1:-1;;;;;;;;30175:614;30796:361;30964:2;30978:47;;;30949:18;;31039:108;30949:18;31133:6;31039:108;;31164:620;31410:2;31424:47;;;31395:18;;31485:108;31395:18;31579:6;31485:108;;;31477:116;;31641:9;31635:4;31631:20;31626:2;31615:9;31611:18;31604:48;31666:108;31769:4;31760:6;31666:108;;31791:201;31903:2;31888:18;;31917:65;31892:9;31955:6;31917:65;;31999:695;32227:3;32212:19;;32242:69;32216:9;32284:6;32242:69;;;32322:72;32390:2;32379:9;32375:18;32366:6;32322:72;;32701:321;32849:2;32863:47;;;32834:18;;32924:88;32834:18;32998:6;32990;32924:88;;33029:301;33167:2;33181:47;;;33152:18;;33242:78;33152:18;33306:6;33242:78;;33337:407;33528:2;33542:47;;;33513:18;;33603:131;33513:18;33603:131;;33751:407;33942:2;33956:47;;;33927:18;;34017:131;33927:18;34017:131;;34165:407;34356:2;34370:47;;;34341:18;;34431:131;34341:18;34431:131;;34579:407;34770:2;34784:47;;;34755:18;;34845:131;34755:18;34845:131;;34993:407;35184:2;35198:47;;;35169:18;;35259:131;35169:18;35259:131;;35407:407;35598:2;35612:47;;;35583:18;;35673:131;35583:18;35673:131;;35821:407;36012:2;36026:47;;;35997:18;;36087:131;35997:18;36087:131;;36235:407;36426:2;36440:47;;;36411:18;;36501:131;36411:18;36501:131;;36649:407;36840:2;36854:47;;;36825:18;;36915:131;36825:18;36915:131;;37063:407;37254:2;37268:47;;;37239:18;;37329:131;37239:18;37329:131;;37477:407;37668:2;37682:47;;;37653:18;;37743:131;37653:18;37743:131;;37891:407;38082:2;38096:47;;;38067:18;;38157:131;38067:18;38157:131;;38305:407;38496:2;38510:47;;;38481:18;;38571:131;38481:18;38571:131;;38719:407;38910:2;38924:47;;;38895:18;;38985:131;38895:18;38985:131;;39133:213;39251:2;39236:18;;39265:71;39240:9;39309:6;39265:71;;39353:645;39608:2;39593:18;;39622:71;39597:9;39666:6;39622:71;;;39741:9;39735:4;39731:20;39726:2;39715:9;39711:18;39704:48;39766:131;39892:4;39766:131;;;39758:139;;39908:80;39984:2;39973:9;39969:18;39960:6;39908:80;;40005:324;40151:2;40136:18;;40165:71;40140:9;40209:6;40165:71;;;40247:72;40315:2;40304:9;40300:18;40291:6;40247:72;;40336:435;40510:2;40495:18;;40524:71;40499:9;40568:6;40524:71;;;40606:72;40674:2;40663:9;40659:18;40650:6;40606:72;;;40689;40757:2;40746:9;40742:18;40733:6;40689:72;;40778:256;40840:2;40834:9;40866:17;;;-1:-1;;;;;40926:34;;40962:22;;;40923:62;40920:2;;;40998:1;40995;40988:12;40920:2;41014;41007:22;40818:216;;-1:-1;40818:216;41041:304;;-1:-1;;;;;41192:6;41189:30;41186:2;;;41232:1;41229;41222:12;41186:2;-1:-1;41267:4;41255:17;;;41320:15;;41123:222;41352:321;;-1:-1;;;;;41487:6;41484:30;41481:2;;;41527:1;41524;41517:12;41481:2;-1:-1;41658:4;41594;41571:17;;;;-1:-1;;41567:33;41648:15;;41418:255;41680:150;41803:4;41794:14;;41751:79;41995:136;42097:12;;42068:63;42893:178;43011:19;;;43060:4;43051:14;;43004:67;43930:91;;43992:24;44010:5;43992:24;;44028:85;44094:13;44087:21;;44070:43;44199:144;-1:-1;;;;;;44260:78;;44243:100;44428:121;-1:-1;;;;;44490:54;;44473:76;44635:129;;44722:37;44753:5;44771:121;44850:37;44881:5;44850:37;;45015:145;45096:6;45091:3;45086;45073:30;-1:-1;45152:1;45134:16;;45127:27;45066:94;45169:268;45234:1;45241:101;45255:6;45252:1;45249:13;45241:101;;;45322:11;;;45316:18;45303:11;;;45296:39;45277:2;45270:10;45241:101;;;45357:6;45354:1;45351:13;45348:2;;;-1:-1;;45422:1;45404:16;;45397:27;45218:219;45445:97;45533:2;45513:14;-1:-1;;45509:28;;45493:49;45550:117;45619:24;45637:5;45619:24;;;45612:5;45609:35;45599:2;;45658:1;45655;45648:12;45674:111;45740:21;45755:5;45740:21;;45792:117;45861:24;45879:5;45861:24;;45916:115;45984:23;46001:5;45984:23;","source":"pragma solidity ^0.5.6;\\npragma experimental ABIEncoderV2;\\n\\nimport \\"./ERC1155/ERC1155Mintable.sol\\";\\nimport \\"./ERC1888/IERC1888.sol\\";\\n\\ncontract Registry is ERC1155Mintable, ERC1888 {\\n\\n\\tmapping(uint256 => Certificate) public certificateStorage;\\n\\tmapping(uint256 => mapping(address => uint256)) public claimedBalances;\\n\\n\\t// Array with all certificate ids, used for enumeration\\n    uint256[] private _allCertificates;\\n\\t// Mapping from certificate id to position in the allCertificates array\\n    mapping(uint256 => uint256) private _allCertificatesIndex;\\n\\n\\tfunction issue(address _to, bytes calldata _validityData, int256 _topic, uint256 _value, bytes calldata _data) external returns (uint256 _id) {\\n\\t\\t_validate(msg.sender, _validityData);\\n\\n\\t\\t_id = this.create(_value, \\"Certificate\\", msg.sender);\\n\\n\\t\\tif (_value > 0) {\\n\\t\\t\\tsafeTransferFrom(msg.sender, _to, _id, _value, _data);\\n\\t\\t}\\n\\n\\t\\tcertificateStorage[_id] = Certificate({\\n\\t\\t\\ttopic: _topic,\\n\\t\\t\\tissuer: msg.sender,\\n\\t\\t\\tvalidityData: _validityData,\\n\\t\\t\\tdata: _data\\n\\t\\t});\\n\\n\\t\\t_allCertificatesIndex[_id] = _allCertificates.length;\\n\\t\\t_allCertificates.push(_id);\\n\\n\\t\\temit IssuanceSingle(msg.sender, _topic, _id);\\n\\t}\\n\\n\\tfunction safeTransferAndClaimFrom(\\n\\t\\taddress _from,\\n\\t\\taddress _to,\\n\\t\\tuint256 _id,\\n\\t\\tuint256 _value,\\n\\t\\tbytes calldata _data,\\n\\t\\tbytes32 _claimData\\n\\t) external {\\n\\t\\tCertificate memory cert = certificateStorage[_id];\\n\\n\\t\\t_validate(cert.issuer,  cert.validityData);\\n\\n\\t\\tif (_from != _to) {\\n\\t\\t\\tsafeTransferFrom(_from, _to, _id, _value, _data);\\n\\t\\t}\\n\\n\\t\\t_burn(_to, _id, _value);\\n\\n\\t\\temit ClaimSingle(_from, _to, cert.topic, _id, _value, _claimData); //_claimSubject address ??\\n\\t}\\n\\n\\tfunction safeBatchTransferAndClaimFrom(\\n\\t\\taddress _from,\\n\\t\\taddress _to,\\n\\t\\tuint256[] calldata _ids,\\n\\t\\tuint256[] calldata _values,\\n\\t\\tbytes calldata _data,\\n\\t\\tbytes32[] calldata _claimData\\n\\t) external {\\n\\t\\tuint numberOfClaims = _ids.length;\\n\\n\\t\\trequire(numberOfClaims > 0, \\"safeBatchTransferAndClaimFrom: at least one certificate has to be present.\\");\\n\\t\\trequire(\\n\\t\\t\\t_values.length == numberOfClaims && _claimData.length == numberOfClaims,\\n\\t\\t\\t\\"safeBatchTransferAndClaimFrom: not all arrays are of the same length.\\"\\n\\t\\t);\\n\\n\\t\\tint256[] memory topics = new int256[](numberOfClaims);\\n\\n\\t\\tfor (uint256 i = 0; i < numberOfClaims; ++i) {\\n\\t\\t\\tCertificate memory cert = certificateStorage[_ids[i]];\\n\\t\\t\\t_validate(cert.issuer,  cert.validityData);\\n\\t\\t\\ttopics[i] = cert.topic;\\n\\t\\t}\\n\\n\\t\\tif (_from != _to) {\\n\\t\\t\\tsafeBatchTransferFrom(_from, _to, _ids, _values, _data);\\n\\t\\t}\\n\\n\\t\\tfor (uint256 i = 0; i < numberOfClaims; ++i) {\\n\\t\\t\\t_burn(_to, _ids[i], _values[i]);\\n\\t\\t}\\n\\n\\t\\temit ClaimBatch(_from, _to, topics, _ids, _values, _claimData);\\n\\t}\\n\\n\\tfunction getCertificate(uint256 _id) external view returns (address issuer, int256 topic, bytes memory validityData, bytes memory data) {\\n\\t\\trequire(_id <= totalSupply(), \\"getCertificate: _id out of bounds\\");\\n\\n\\t\\tCertificate memory certificate = certificateStorage[_id];\\n\\t\\treturn (certificate.issuer, certificate.topic, certificate.validityData, certificate.data);\\n\\t}\\n\\n\\tfunction claimedBalanceOf(address _owner, uint256 _id) external view returns (uint256) {\\n\\t\\treturn claimedBalances[_id][_owner];\\n\\t}\\n\\n\\tfunction _burn(address _from, uint256 _id, uint256 _value) internal {\\n\\t\\tbalances[_id][_from] = balances[_id][_from].sub(_value);\\n\\t\\tclaimedBalances[_id][_from] = claimedBalances[_id][_from].add(_value);\\n\\t}\\n\\n\\tfunction _validate(address _verifier, bytes memory _validityData) internal view {\\n\\t\\tif (_verifier.isContract()) {\\n\\t\\t\\t(bool success, bytes memory result) = _verifier.staticcall(_validityData);\\n\\n\\t\\t\\trequire(\\n\\t\\t\\t\\tsuccess && abi.decode(result, (bool)),\\n\\t\\t\\t\\t\\"_validate(): Request/certificate invalid, please check with your issuer.\\"\\n\\t\\t\\t);\\n        }\\n\\t}\\n\\n\\t/**\\n     * @dev Gets the total amount of certificates stored by the contract.\\n     * @return uint256 representing the total amount of certificates\\n     */\\n    function totalSupply() public view returns (uint256) {\\n        return _allCertificates.length;\\n    }\\n\\n\\tfunction allCertificateIds() public view returns (uint256[] memory) {\\n\\t\\treturn _allCertificates;\\n    }\\n}\\n","sourcePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol","ast":{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol","exportedSymbols":{"Registry":[2581]},"id":2582,"nodeType":"SourceUnit","nodes":[{"id":2142,"literals":["solidity","^","0.5",".6"],"nodeType":"PragmaDirective","src":"0:23:8"},{"id":2143,"literals":["experimental","ABIEncoderV2"],"nodeType":"PragmaDirective","src":"24:33:8"},{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/ERC1155Mintable.sol","file":"./ERC1155/ERC1155Mintable.sol","id":2144,"nodeType":"ImportDirective","scope":2582,"sourceUnit":681,"src":"59:39:8","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1888/IERC1888.sol","file":"./ERC1888/IERC1888.sol","id":2145,"nodeType":"ImportDirective","scope":2582,"sourceUnit":946,"src":"99:32:8","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2146,"name":"ERC1155Mintable","nodeType":"UserDefinedTypeName","referencedDeclaration":680,"src":"154:15:8","typeDescriptions":{"typeIdentifier":"t_contract$_ERC1155Mintable_$680","typeString":"contract ERC1155Mintable"}},"id":2147,"nodeType":"InheritanceSpecifier","src":"154:15:8"},{"arguments":null,"baseName":{"contractScope":null,"id":2148,"name":"ERC1888","nodeType":"UserDefinedTypeName","referencedDeclaration":945,"src":"171:7:8","typeDescriptions":{"typeIdentifier":"t_contract$_ERC1888_$945","typeString":"contract ERC1888"}},"id":2149,"nodeType":"InheritanceSpecifier","src":"171:7:8"}],"contractDependencies":[27,505,680,788,945,2672,2682,3062],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":2581,"linearizedBaseContracts":[2581,945,680,505,27,2672,2682,3062,788],"name":"Registry","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":2153,"name":"certificateStorage","nodeType":"VariableDeclaration","scope":2581,"src":"183:57:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate)"},"typeName":{"id":2152,"keyType":{"id":2150,"name":"uint256","nodeType":"ElementaryTypeName","src":"191:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"183:31:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate)"},"valueType":{"contractScope":null,"id":2151,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"202:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}}},"value":null,"visibility":"public"},{"constant":false,"id":2159,"name":"claimedBalances","nodeType":"VariableDeclaration","scope":2581,"src":"243:70:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"},"typeName":{"id":2158,"keyType":{"id":2154,"name":"uint256","nodeType":"ElementaryTypeName","src":"251:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"243:47:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"},"valueType":{"id":2157,"keyType":{"id":2155,"name":"address","nodeType":"ElementaryTypeName","src":"270:7:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"262:27:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":2156,"name":"uint256","nodeType":"ElementaryTypeName","src":"281:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},"value":null,"visibility":"public"},{"constant":false,"id":2162,"name":"_allCertificates","nodeType":"VariableDeclaration","scope":2581,"src":"377:34:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[]"},"typeName":{"baseType":{"id":2160,"name":"uint256","nodeType":"ElementaryTypeName","src":"377:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2161,"length":null,"nodeType":"ArrayTypeName","src":"377:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"private"},{"constant":false,"id":2166,"name":"_allCertificatesIndex","nodeType":"VariableDeclaration","scope":2581,"src":"490:57:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":2165,"keyType":{"id":2163,"name":"uint256","nodeType":"ElementaryTypeName","src":"498:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"490:27:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":2164,"name":"uint256","nodeType":"ElementaryTypeName","src":"509:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"private"},{"body":{"id":2243,"nodeType":"Block","src":"693:457:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2182,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"707:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"707:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2184,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2170,"src":"719:13:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2181,"name":"_validate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"697:9:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) view"}},"id":2185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"697:36:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2186,"nodeType":"ExpressionStatement","src":"697:36:8"},{"expression":{"argumentTypes":null,"id":2195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2187,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"738:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2190,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2174,"src":"756:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"4365727469666963617465","id":2191,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"764:13:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_476b6a56e8793270a7635a828307eeb92cd7e2153dff9a3bd168aec20746ea55","typeString":"literal_string \\"Certificate\\""},"value":"Certificate"},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2192,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"779:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"779:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_476b6a56e8793270a7635a828307eeb92cd7e2153dff9a3bd168aec20746ea55","typeString":"literal_string \\"Certificate\\""},{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"expression":{"argumentTypes":null,"id":2188,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3117,"src":"744:4:8","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2581","typeString":"contract Registry"}},"id":2189,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"create","nodeType":"MemberAccess","referencedDeclaration":608,"src":"744:11:8","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_string_memory_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (uint256,string memory,address) external returns (uint256)"}},"id":2194,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"744:46:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"738:52:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2196,"nodeType":"ExpressionStatement","src":"738:52:8"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2197,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2174,"src":"799:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2198,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"808:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"799:10:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2210,"nodeType":"IfStatement","src":"795:79:8","trueBody":{"id":2209,"nodeType":"Block","src":"811:63:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2201,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"833:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"833:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2203,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"845:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2204,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"850:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2205,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2174,"src":"855:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2206,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2176,"src":"863:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2200,"name":"safeTransferFrom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":191,"src":"816:16:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory)"}},"id":2207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"816:53:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2208,"nodeType":"ExpressionStatement","src":"816:53:8"}]}},{"expression":{"argumentTypes":null,"id":2221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2211,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"878:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2213,"indexExpression":{"argumentTypes":null,"id":2212,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"897:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"878:23:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2215,"name":"_topic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2172,"src":"928:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2216,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"947:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"947:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2218,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2170,"src":"976:13:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"argumentTypes":null,"id":2219,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2176,"src":"1000:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2214,"name":"Certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"904:11:8","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Certificate_$834_storage_ptr_$","typeString":"type(struct ERC1888.Certificate storage pointer)"}},"id":2220,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["topic","issuer","validityData","data"],"nodeType":"FunctionCall","src":"904:106:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory","typeString":"struct ERC1888.Certificate memory"}},"src":"878:132:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"id":2222,"nodeType":"ExpressionStatement","src":"878:132:8"},{"expression":{"argumentTypes":null,"id":2228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2223,"name":"_allCertificatesIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"1015:21:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":2225,"indexExpression":{"argumentTypes":null,"id":2224,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"1037:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1015:26:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2226,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"1044:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":2227,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1044:23:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1015:52:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2229,"nodeType":"ExpressionStatement","src":"1015:52:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2233,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"1093:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2230,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"1071:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":2232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"push","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1071:21:8","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) returns (uint256)"}},"id":2234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1071:26:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2235,"nodeType":"ExpressionStatement","src":"1071:26:8"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2237,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"1122:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1122:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2239,"name":"_topic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2172,"src":"1134:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"id":2240,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"1142:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2236,"name":"IssuanceSingle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":842,"src":"1107:14:8","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256,uint256)"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1107:39:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2242,"nodeType":"EmitStatement","src":"1102:44:8"}]},"documentation":null,"id":2244,"implemented":true,"kind":"function","modifiers":[],"name":"issue","nodeType":"FunctionDefinition","parameters":{"id":2177,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2168,"name":"_to","nodeType":"VariableDeclaration","scope":2244,"src":"566:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2167,"name":"address","nodeType":"ElementaryTypeName","src":"566:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2170,"name":"_validityData","nodeType":"VariableDeclaration","scope":2244,"src":"579:28:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2169,"name":"bytes","nodeType":"ElementaryTypeName","src":"579:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2172,"name":"_topic","nodeType":"VariableDeclaration","scope":2244,"src":"609:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2171,"name":"int256","nodeType":"ElementaryTypeName","src":"609:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2174,"name":"_value","nodeType":"VariableDeclaration","scope":2244,"src":"624:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2173,"name":"uint256","nodeType":"ElementaryTypeName","src":"624:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2176,"name":"_data","nodeType":"VariableDeclaration","scope":2244,"src":"640:20:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2175,"name":"bytes","nodeType":"ElementaryTypeName","src":"640:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"565:96:8"},"returnParameters":{"id":2180,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2179,"name":"_id","nodeType":"VariableDeclaration","scope":2244,"src":"680:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2178,"name":"uint256","nodeType":"ElementaryTypeName","src":"680:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"679:13:8"},"scope":2581,"src":"551:599:8","stateMutability":"nonpayable","superFunction":889,"visibility":"external"},{"body":{"id":2301,"nodeType":"Block","src":"1310:309:8","statements":[{"assignments":[2260],"declarations":[{"constant":false,"id":2260,"name":"cert","nodeType":"VariableDeclaration","scope":2301,"src":"1314:23:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate"},"typeName":{"contractScope":null,"id":2259,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"1314:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}},"value":null,"visibility":"internal"}],"id":2264,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2261,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"1340:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2263,"indexExpression":{"argumentTypes":null,"id":2262,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1359:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1340:23:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1314:49:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2266,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2260,"src":"1378:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2267,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"issuer","nodeType":"MemberAccess","referencedDeclaration":829,"src":"1378:11:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2268,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2260,"src":"1392:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2269,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"validityData","nodeType":"MemberAccess","referencedDeclaration":831,"src":"1392:17:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"id":2265,"name":"_validate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"1368:9:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) view"}},"id":2270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1368:42:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2271,"nodeType":"ExpressionStatement","src":"1368:42:8"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2272,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2246,"src":"1419:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":2273,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1428:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1419:12:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2284,"nodeType":"IfStatement","src":"1415:76:8","trueBody":{"id":2283,"nodeType":"Block","src":"1433:58:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2276,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2246,"src":"1455:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2277,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1462:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2278,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1467:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2279,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2252,"src":"1472:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2280,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2254,"src":"1480:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2275,"name":"safeTransferFrom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":191,"src":"1438:16:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory)"}},"id":2281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1438:48:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2282,"nodeType":"ExpressionStatement","src":"1438:48:8"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2286,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1501:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2287,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1506:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2288,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2252,"src":"1511:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2285,"name":"_burn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2528,"src":"1495:5:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":2289,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1495:23:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2290,"nodeType":"ExpressionStatement","src":"1495:23:8"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2292,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2246,"src":"1540:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2293,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1547:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2294,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2260,"src":"1552:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2295,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"topic","nodeType":"MemberAccess","referencedDeclaration":827,"src":"1552:10:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"id":2296,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1564:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2297,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2252,"src":"1569:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2298,"name":"_claimData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2256,"src":"1577:10:8","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2291,"name":"ClaimSingle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":856,"src":"1528:11:8","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_int256_$_t_uint256_$_t_uint256_$_t_bytes32_$returns$__$","typeString":"function (address,address,int256,uint256,uint256,bytes32)"}},"id":2299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1528:60:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2300,"nodeType":"EmitStatement","src":"1523:65:8"}]},"documentation":null,"id":2302,"implemented":true,"kind":"function","modifiers":[],"name":"safeTransferAndClaimFrom","nodeType":"FunctionDefinition","parameters":{"id":2257,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2246,"name":"_from","nodeType":"VariableDeclaration","scope":2302,"src":"1190:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2245,"name":"address","nodeType":"ElementaryTypeName","src":"1190:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2248,"name":"_to","nodeType":"VariableDeclaration","scope":2302,"src":"1207:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2247,"name":"address","nodeType":"ElementaryTypeName","src":"1207:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2250,"name":"_id","nodeType":"VariableDeclaration","scope":2302,"src":"1222:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2249,"name":"uint256","nodeType":"ElementaryTypeName","src":"1222:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2252,"name":"_value","nodeType":"VariableDeclaration","scope":2302,"src":"1237:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2251,"name":"uint256","nodeType":"ElementaryTypeName","src":"1237:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2254,"name":"_data","nodeType":"VariableDeclaration","scope":2302,"src":"1255:20:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2253,"name":"bytes","nodeType":"ElementaryTypeName","src":"1255:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2256,"name":"_claimData","nodeType":"VariableDeclaration","scope":2302,"src":"1279:18:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2255,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1279:7:8","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1186:114:8"},"returnParameters":{"id":2258,"nodeType":"ParameterList","parameters":[],"src":"1310:0:8"},"scope":2581,"src":"1153:466:8","stateMutability":"nonpayable","superFunction":904,"visibility":"external"},{"body":{"id":2433,"nodeType":"Block","src":"1819:806:8","statements":[{"assignments":[2321],"declarations":[{"constant":false,"id":2321,"name":"numberOfClaims","nodeType":"VariableDeclaration","scope":2433,"src":"1823:19:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2320,"name":"uint","nodeType":"ElementaryTypeName","src":"1823:4:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2324,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2322,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"1845:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1845:11:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1823:33:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2326,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"1869:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2327,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1886:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1869:18:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7361666542617463685472616e73666572416e64436c61696d46726f6d3a206174206c65617374206f6e652063657274696669636174652068617320746f2062652070726573656e742e","id":2329,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1889:76:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_69516cd0899dbe440925b4413b23e91790bccfab89b6df43414c8396f9fb8398","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: at least one certificate has to be present.\\""},"value":"safeBatchTransferAndClaimFrom: at least one certificate has to be present."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_69516cd0899dbe440925b4413b23e91790bccfab89b6df43414c8396f9fb8398","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: at least one certificate has to be present.\\""}],"id":2325,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"1861:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1861:105:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2331,"nodeType":"ExpressionStatement","src":"1861:105:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2333,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"1982:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2334,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1982:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2335,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2000:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1982:32:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2337,"name":"_claimData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2317,"src":"2018:10:8","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}},"id":2338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2018:17:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2339,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2039:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2018:35:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1982:71:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7361666542617463685472616e73666572416e64436c61696d46726f6d3a206e6f7420616c6c2061727261797320617265206f66207468652073616d65206c656e6774682e","id":2342,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2058:71:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_aaa95843f6ec5e4537f52d56c82ba10040f723420125b2bda0a340d278f08ea2","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: not all arrays are of the same length.\\""},"value":"safeBatchTransferAndClaimFrom: not all arrays are of the same length."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_aaa95843f6ec5e4537f52d56c82ba10040f723420125b2bda0a340d278f08ea2","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: not all arrays are of the same length.\\""}],"id":2332,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"1970:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2343,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1970:163:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2344,"nodeType":"ExpressionStatement","src":"1970:163:8"},{"assignments":[2348],"declarations":[{"constant":false,"id":2348,"name":"topics","nodeType":"VariableDeclaration","scope":2433,"src":"2138:22:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2346,"name":"int256","nodeType":"ElementaryTypeName","src":"2138:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2347,"length":null,"nodeType":"ArrayTypeName","src":"2138:8:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"id":2354,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2352,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2176:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2351,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2163:12:8","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_int256_$dyn_memory_$","typeString":"function (uint256) pure returns (int256[] memory)"},"typeName":{"baseType":{"id":2349,"name":"int256","nodeType":"ElementaryTypeName","src":"2167:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2350,"length":null,"nodeType":"ArrayTypeName","src":"2167:8:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}}},"id":2353,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2163:28:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory","typeString":"int256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"2138:53:8"},{"body":{"id":2387,"nodeType":"Block","src":"2241:137:8","statements":[{"assignments":[2366],"declarations":[{"constant":false,"id":2366,"name":"cert","nodeType":"VariableDeclaration","scope":2387,"src":"2246:23:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate"},"typeName":{"contractScope":null,"id":2365,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"2246:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}},"value":null,"visibility":"internal"}],"id":2372,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2367,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"2272:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2371,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2368,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2291:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2370,"indexExpression":{"argumentTypes":null,"id":2369,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2296:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2291:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2272:27:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2246:53:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2374,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2366,"src":"2314:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2375,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"issuer","nodeType":"MemberAccess","referencedDeclaration":829,"src":"2314:11:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2376,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2366,"src":"2328:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2377,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"validityData","nodeType":"MemberAccess","referencedDeclaration":831,"src":"2328:17:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"id":2373,"name":"_validate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"2304:9:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) view"}},"id":2378,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2304:42:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2379,"nodeType":"ExpressionStatement","src":"2304:42:8"},{"expression":{"argumentTypes":null,"id":2385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2380,"name":"topics","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2348,"src":"2351:6:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2382,"indexExpression":{"argumentTypes":null,"id":2381,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2358:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2351:9:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2383,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2366,"src":"2363:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2384,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"topic","nodeType":"MemberAccess","referencedDeclaration":827,"src":"2363:10:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2351:22:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2386,"nodeType":"ExpressionStatement","src":"2351:22:8"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2359,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2216:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2360,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2220:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2216:18:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2388,"initializationExpression":{"assignments":[2356],"declarations":[{"constant":false,"id":2356,"name":"i","nodeType":"VariableDeclaration","scope":2388,"src":"2201:9:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2355,"name":"uint256","nodeType":"ElementaryTypeName","src":"2201:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2358,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2357,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2213:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2201:13:8"},"loopExpression":{"expression":{"argumentTypes":null,"id":2363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2236:3:8","subExpression":{"argumentTypes":null,"id":2362,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2238:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2364,"nodeType":"ExpressionStatement","src":"2236:3:8"},"nodeType":"ForStatement","src":"2196:182:8"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2389,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2386:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":2390,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2395:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2386:12:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2401,"nodeType":"IfStatement","src":"2382:83:8","trueBody":{"id":2400,"nodeType":"Block","src":"2400:65:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2393,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2427:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2394,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2434:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2395,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2439:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2396,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"2445:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2397,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2314,"src":"2454:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2392,"name":"safeBatchTransferFrom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"2405:21:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256[] memory,uint256[] memory,bytes memory)"}},"id":2398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2405:55:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2399,"nodeType":"ExpressionStatement","src":"2405:55:8"}]}},{"body":{"id":2422,"nodeType":"Block","src":"2514:41:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2413,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2525:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2414,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2530:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2416,"indexExpression":{"argumentTypes":null,"id":2415,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2535:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2530:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2417,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"2539:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2419,"indexExpression":{"argumentTypes":null,"id":2418,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2547:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2539:10:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2412,"name":"_burn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2528,"src":"2519:5:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":2420,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2519:31:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2421,"nodeType":"ExpressionStatement","src":"2519:31:8"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2406,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2489:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2407,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2493:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2489:18:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2423,"initializationExpression":{"assignments":[2403],"declarations":[{"constant":false,"id":2403,"name":"i","nodeType":"VariableDeclaration","scope":2423,"src":"2474:9:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2402,"name":"uint256","nodeType":"ElementaryTypeName","src":"2474:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2405,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2404,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2486:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2474:13:8"},"loopExpression":{"expression":{"argumentTypes":null,"id":2410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2509:3:8","subExpression":{"argumentTypes":null,"id":2409,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2511:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2411,"nodeType":"ExpressionStatement","src":"2509:3:8"},"nodeType":"ForStatement","src":"2469:86:8"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2425,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2575:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2426,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2582:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2427,"name":"topics","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2348,"src":"2587:6:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2428,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2595:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2429,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"2601:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2430,"name":"_claimData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2317,"src":"2610:10:8","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}],"id":2424,"name":"ClaimBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":874,"src":"2564:10:8","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,int256[] memory,uint256[] memory,uint256[] memory,bytes32[] memory)"}},"id":2431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2564:57:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2432,"nodeType":"EmitStatement","src":"2559:62:8"}]},"documentation":null,"id":2434,"implemented":true,"kind":"function","modifiers":[],"name":"safeBatchTransferAndClaimFrom","nodeType":"FunctionDefinition","parameters":{"id":2318,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2304,"name":"_from","nodeType":"VariableDeclaration","scope":2434,"src":"1664:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2303,"name":"address","nodeType":"ElementaryTypeName","src":"1664:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2306,"name":"_to","nodeType":"VariableDeclaration","scope":2434,"src":"1681:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2305,"name":"address","nodeType":"ElementaryTypeName","src":"1681:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2309,"name":"_ids","nodeType":"VariableDeclaration","scope":2434,"src":"1696:23:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2307,"name":"uint256","nodeType":"ElementaryTypeName","src":"1696:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2308,"length":null,"nodeType":"ArrayTypeName","src":"1696:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2312,"name":"_values","nodeType":"VariableDeclaration","scope":2434,"src":"1723:26:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2310,"name":"uint256","nodeType":"ElementaryTypeName","src":"1723:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2311,"length":null,"nodeType":"ArrayTypeName","src":"1723:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2314,"name":"_data","nodeType":"VariableDeclaration","scope":2434,"src":"1753:20:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2313,"name":"bytes","nodeType":"ElementaryTypeName","src":"1753:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2317,"name":"_claimData","nodeType":"VariableDeclaration","scope":2434,"src":"1777:29:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2315,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1777:7:8","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2316,"length":null,"nodeType":"ArrayTypeName","src":"1777:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"}],"src":"1660:149:8"},"returnParameters":{"id":2319,"nodeType":"ParameterList","parameters":[],"src":"1819:0:8"},"scope":2581,"src":"1622:1003:8","stateMutability":"nonpayable","superFunction":922,"visibility":"external"},{"body":{"id":2471,"nodeType":"Block","src":"2764:229:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2448,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2436,"src":"2776:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2449,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2571,"src":"2783:11:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":2450,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2783:13:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2776:20:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"67657443657274696669636174653a205f6964206f7574206f6620626f756e6473","id":2452,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2798:35:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_9f5aa3327bcdb34d28912fb309e3d593f66c49d288215f02862af523391f6aa9","typeString":"literal_string \\"getCertificate: _id out of bounds\\""},"value":"getCertificate: _id out of bounds"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f5aa3327bcdb34d28912fb309e3d593f66c49d288215f02862af523391f6aa9","typeString":"literal_string \\"getCertificate: _id out of bounds\\""}],"id":2447,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"2768:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2453,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2768:66:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2454,"nodeType":"ExpressionStatement","src":"2768:66:8"},{"assignments":[2456],"declarations":[{"constant":false,"id":2456,"name":"certificate","nodeType":"VariableDeclaration","scope":2471,"src":"2839:30:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate"},"typeName":{"contractScope":null,"id":2455,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"2839:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}},"value":null,"visibility":"internal"}],"id":2460,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2457,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"2872:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2459,"indexExpression":{"argumentTypes":null,"id":2458,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2436,"src":"2891:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2872:23:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2839:56:8"},{"expression":{"argumentTypes":null,"components":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2461,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2907:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2462,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"issuer","nodeType":"MemberAccess","referencedDeclaration":829,"src":"2907:18:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2463,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2927:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2464,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"topic","nodeType":"MemberAccess","referencedDeclaration":827,"src":"2927:17:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2465,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2946:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2466,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"validityData","nodeType":"MemberAccess","referencedDeclaration":831,"src":"2946:24:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2467,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2972:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2468,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":833,"src":"2972:16:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"id":2469,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2906:83:8","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_int256_$_t_bytes_memory_$_t_bytes_memory_$","typeString":"tuple(address,int256,bytes memory,bytes memory)"}},"functionReturnParameters":2446,"id":2470,"nodeType":"Return","src":"2899:90:8"}]},"documentation":null,"id":2472,"implemented":true,"kind":"function","modifiers":[],"name":"getCertificate","nodeType":"FunctionDefinition","parameters":{"id":2437,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2436,"name":"_id","nodeType":"VariableDeclaration","scope":2472,"src":"2652:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2435,"name":"uint256","nodeType":"ElementaryTypeName","src":"2652:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2651:13:8"},"returnParameters":{"id":2446,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2439,"name":"issuer","nodeType":"VariableDeclaration","scope":2472,"src":"2688:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2438,"name":"address","nodeType":"ElementaryTypeName","src":"2688:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2441,"name":"topic","nodeType":"VariableDeclaration","scope":2472,"src":"2704:12:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2440,"name":"int256","nodeType":"ElementaryTypeName","src":"2704:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2443,"name":"validityData","nodeType":"VariableDeclaration","scope":2472,"src":"2718:25:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2442,"name":"bytes","nodeType":"ElementaryTypeName","src":"2718:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2445,"name":"data","nodeType":"VariableDeclaration","scope":2472,"src":"2745:17:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2444,"name":"bytes","nodeType":"ElementaryTypeName","src":"2745:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"2687:76:8"},"scope":2581,"src":"2628:365:8","stateMutability":"view","superFunction":935,"visibility":"external"},{"body":{"id":2487,"nodeType":"Block","src":"3083:43:8","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2481,"name":"claimedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"3094:15:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2483,"indexExpression":{"argumentTypes":null,"id":2482,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2476,"src":"3110:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3094:20:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2485,"indexExpression":{"argumentTypes":null,"id":2484,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2474,"src":"3115:6:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3094:28:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2480,"id":2486,"nodeType":"Return","src":"3087:35:8"}]},"documentation":null,"id":2488,"implemented":true,"kind":"function","modifiers":[],"name":"claimedBalanceOf","nodeType":"FunctionDefinition","parameters":{"id":2477,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2474,"name":"_owner","nodeType":"VariableDeclaration","scope":2488,"src":"3022:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2473,"name":"address","nodeType":"ElementaryTypeName","src":"3022:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2476,"name":"_id","nodeType":"VariableDeclaration","scope":2488,"src":"3038:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2475,"name":"uint256","nodeType":"ElementaryTypeName","src":"3038:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3021:29:8"},"returnParameters":{"id":2480,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2479,"name":"","nodeType":"VariableDeclaration","scope":2488,"src":"3074:7:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2478,"name":"uint256","nodeType":"ElementaryTypeName","src":"3074:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3073:9:8"},"scope":2581,"src":"2996:130:8","stateMutability":"view","superFunction":944,"visibility":"external"},{"body":{"id":2527,"nodeType":"Block","src":"3197:136:8","statements":[{"expression":{"argumentTypes":null,"id":2510,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2497,"name":"balances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53,"src":"3201:8:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2500,"indexExpression":{"argumentTypes":null,"id":2498,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3210:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3201:13:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2501,"indexExpression":{"argumentTypes":null,"id":2499,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3215:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3201:20:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2508,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2494,"src":"3249:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2502,"name":"balances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53,"src":"3224:8:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2504,"indexExpression":{"argumentTypes":null,"id":2503,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3233:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3224:13:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2506,"indexExpression":{"argumentTypes":null,"id":2505,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3238:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3224:20:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":2725,"src":"3224:24:8","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3224:32:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3201:55:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2511,"nodeType":"ExpressionStatement","src":"3201:55:8"},{"expression":{"argumentTypes":null,"id":2525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2512,"name":"claimedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"3260:15:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2515,"indexExpression":{"argumentTypes":null,"id":2513,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3276:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3260:20:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2516,"indexExpression":{"argumentTypes":null,"id":2514,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3281:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3260:27:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2523,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2494,"src":"3322:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2517,"name":"claimedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"3290:15:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2519,"indexExpression":{"argumentTypes":null,"id":2518,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3306:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3290:20:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2521,"indexExpression":{"argumentTypes":null,"id":2520,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3311:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3290:27:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":2709,"src":"3290:31:8","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3290:39:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3260:69:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2526,"nodeType":"ExpressionStatement","src":"3260:69:8"}]},"documentation":null,"id":2528,"implemented":true,"kind":"function","modifiers":[],"name":"_burn","nodeType":"FunctionDefinition","parameters":{"id":2495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2490,"name":"_from","nodeType":"VariableDeclaration","scope":2528,"src":"3144:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2489,"name":"address","nodeType":"ElementaryTypeName","src":"3144:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2492,"name":"_id","nodeType":"VariableDeclaration","scope":2528,"src":"3159:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2491,"name":"uint256","nodeType":"ElementaryTypeName","src":"3159:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2494,"name":"_value","nodeType":"VariableDeclaration","scope":2528,"src":"3172:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2493,"name":"uint256","nodeType":"ElementaryTypeName","src":"3172:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3143:44:8"},"returnParameters":{"id":2496,"nodeType":"ParameterList","parameters":[],"src":"3197:0:8"},"scope":2581,"src":"3129:204:8","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2561,"nodeType":"Block","src":"3416:265:8","statements":[{"condition":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"id":2535,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2530,"src":"3424:9:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isContract","nodeType":"MemberAccess","referencedDeclaration":17,"src":"3424:20:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_bool_$bound_to$_t_address_$","typeString":"function (address) view returns (bool)"}},"id":2537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3424:22:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2560,"nodeType":"IfStatement","src":"3420:258:8","trueBody":{"id":2559,"nodeType":"Block","src":"3448:230:8","statements":[{"assignments":[2539,2541],"declarations":[{"constant":false,"id":2539,"name":"success","nodeType":"VariableDeclaration","scope":2559,"src":"3454:12:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2538,"name":"bool","nodeType":"ElementaryTypeName","src":"3454:4:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":2541,"name":"result","nodeType":"VariableDeclaration","scope":2559,"src":"3468:19:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2540,"name":"bytes","nodeType":"ElementaryTypeName","src":"3468:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":2546,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2544,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2532,"src":"3512:13:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":2542,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2530,"src":"3491:9:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"staticcall","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3491:20:8","typeDescriptions":{"typeIdentifier":"t_function_barestaticcall_view$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (bool,bytes memory)"}},"id":2545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3491:35:8","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"3453:73:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2548,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2539,"src":"3545:7:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2551,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2541,"src":"3567:6:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"components":[{"argumentTypes":null,"id":2552,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3576:4:8","typeDescriptions":{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"},"typeName":"bool"}],"id":2553,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3575:6:8","typeDescriptions":{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"}],"expression":{"argumentTypes":null,"id":2549,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3064,"src":"3556:3:8","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2550,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3556:10:8","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":2554,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3556:26:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3545:37:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"5f76616c696461746528293a20526571756573742f636572746966696361746520696e76616c69642c20706c6561736520636865636b207769746820796f7572206973737565722e","id":2556,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3588:74:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_59ab5a959b1ea91c856e8bef60fb91ef213a665873c71faee40839202fd8e7ec","typeString":"literal_string \\"_validate(): Request/certificate invalid, please check with your issuer.\\""},"value":"_validate(): Request/certificate invalid, please check with your issuer."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_59ab5a959b1ea91c856e8bef60fb91ef213a665873c71faee40839202fd8e7ec","typeString":"literal_string \\"_validate(): Request/certificate invalid, please check with your issuer.\\""}],"id":2547,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"3532:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2557,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3532:135:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2558,"nodeType":"ExpressionStatement","src":"3532:135:8"}]}}]},"documentation":null,"id":2562,"implemented":true,"kind":"function","modifiers":[],"name":"_validate","nodeType":"FunctionDefinition","parameters":{"id":2533,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2530,"name":"_verifier","nodeType":"VariableDeclaration","scope":2562,"src":"3355:17:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2529,"name":"address","nodeType":"ElementaryTypeName","src":"3355:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2532,"name":"_validityData","nodeType":"VariableDeclaration","scope":2562,"src":"3374:26:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2531,"name":"bytes","nodeType":"ElementaryTypeName","src":"3374:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"3354:47:8"},"returnParameters":{"id":2534,"nodeType":"ParameterList","parameters":[],"src":"3416:0:8"},"scope":2581,"src":"3336:345:8","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":2570,"nodeType":"Block","src":"3896:47:8","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2567,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"3913:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":2568,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3913:23:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2566,"id":2569,"nodeType":"Return","src":"3906:30:8"}]},"documentation":"@dev Gets the total amount of certificates stored by the contract.\\n@return uint256 representing the total amount of certificates","id":2571,"implemented":true,"kind":"function","modifiers":[],"name":"totalSupply","nodeType":"FunctionDefinition","parameters":{"id":2563,"nodeType":"ParameterList","parameters":[],"src":"3863:2:8"},"returnParameters":{"id":2566,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2565,"name":"","nodeType":"VariableDeclaration","scope":2571,"src":"3887:7:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2564,"name":"uint256","nodeType":"ElementaryTypeName","src":"3887:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3886:9:8"},"scope":2581,"src":"3843:100:8","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2579,"nodeType":"Block","src":"4014:34:8","statements":[{"expression":{"argumentTypes":null,"id":2577,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"4025:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"functionReturnParameters":2576,"id":2578,"nodeType":"Return","src":"4018:23:8"}]},"documentation":null,"id":2580,"implemented":true,"kind":"function","modifiers":[],"name":"allCertificateIds","nodeType":"FunctionDefinition","parameters":{"id":2572,"nodeType":"ParameterList","parameters":[],"src":"3972:2:8"},"returnParameters":{"id":2576,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2575,"name":"","nodeType":"VariableDeclaration","scope":2580,"src":"3996:16:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2573,"name":"uint256","nodeType":"ElementaryTypeName","src":"3996:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2574,"length":null,"nodeType":"ArrayTypeName","src":"3996:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"3995:18:8"},"scope":2581,"src":"3946:102:8","stateMutability":"view","superFunction":null,"visibility":"public"}],"scope":2582,"src":"133:3917:8"}],"src":"0:4051:8"},"legacyAST":{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol","exportedSymbols":{"Registry":[2581]},"id":2582,"nodeType":"SourceUnit","nodes":[{"id":2142,"literals":["solidity","^","0.5",".6"],"nodeType":"PragmaDirective","src":"0:23:8"},{"id":2143,"literals":["experimental","ABIEncoderV2"],"nodeType":"PragmaDirective","src":"24:33:8"},{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/ERC1155Mintable.sol","file":"./ERC1155/ERC1155Mintable.sol","id":2144,"nodeType":"ImportDirective","scope":2582,"sourceUnit":681,"src":"59:39:8","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1888/IERC1888.sol","file":"./ERC1888/IERC1888.sol","id":2145,"nodeType":"ImportDirective","scope":2582,"sourceUnit":946,"src":"99:32:8","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2146,"name":"ERC1155Mintable","nodeType":"UserDefinedTypeName","referencedDeclaration":680,"src":"154:15:8","typeDescriptions":{"typeIdentifier":"t_contract$_ERC1155Mintable_$680","typeString":"contract ERC1155Mintable"}},"id":2147,"nodeType":"InheritanceSpecifier","src":"154:15:8"},{"arguments":null,"baseName":{"contractScope":null,"id":2148,"name":"ERC1888","nodeType":"UserDefinedTypeName","referencedDeclaration":945,"src":"171:7:8","typeDescriptions":{"typeIdentifier":"t_contract$_ERC1888_$945","typeString":"contract ERC1888"}},"id":2149,"nodeType":"InheritanceSpecifier","src":"171:7:8"}],"contractDependencies":[27,505,680,788,945,2672,2682,3062],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":2581,"linearizedBaseContracts":[2581,945,680,505,27,2672,2682,3062,788],"name":"Registry","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":2153,"name":"certificateStorage","nodeType":"VariableDeclaration","scope":2581,"src":"183:57:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate)"},"typeName":{"id":2152,"keyType":{"id":2150,"name":"uint256","nodeType":"ElementaryTypeName","src":"191:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"183:31:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate)"},"valueType":{"contractScope":null,"id":2151,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"202:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}}},"value":null,"visibility":"public"},{"constant":false,"id":2159,"name":"claimedBalances","nodeType":"VariableDeclaration","scope":2581,"src":"243:70:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"},"typeName":{"id":2158,"keyType":{"id":2154,"name":"uint256","nodeType":"ElementaryTypeName","src":"251:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"243:47:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"},"valueType":{"id":2157,"keyType":{"id":2155,"name":"address","nodeType":"ElementaryTypeName","src":"270:7:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"262:27:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":2156,"name":"uint256","nodeType":"ElementaryTypeName","src":"281:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},"value":null,"visibility":"public"},{"constant":false,"id":2162,"name":"_allCertificates","nodeType":"VariableDeclaration","scope":2581,"src":"377:34:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[]"},"typeName":{"baseType":{"id":2160,"name":"uint256","nodeType":"ElementaryTypeName","src":"377:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2161,"length":null,"nodeType":"ArrayTypeName","src":"377:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"private"},{"constant":false,"id":2166,"name":"_allCertificatesIndex","nodeType":"VariableDeclaration","scope":2581,"src":"490:57:8","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":2165,"keyType":{"id":2163,"name":"uint256","nodeType":"ElementaryTypeName","src":"498:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"490:27:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":2164,"name":"uint256","nodeType":"ElementaryTypeName","src":"509:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"private"},{"body":{"id":2243,"nodeType":"Block","src":"693:457:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2182,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"707:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"707:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2184,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2170,"src":"719:13:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2181,"name":"_validate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"697:9:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) view"}},"id":2185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"697:36:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2186,"nodeType":"ExpressionStatement","src":"697:36:8"},{"expression":{"argumentTypes":null,"id":2195,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2187,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"738:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2190,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2174,"src":"756:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"4365727469666963617465","id":2191,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"764:13:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_476b6a56e8793270a7635a828307eeb92cd7e2153dff9a3bd168aec20746ea55","typeString":"literal_string \\"Certificate\\""},"value":"Certificate"},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2192,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"779:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"779:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_476b6a56e8793270a7635a828307eeb92cd7e2153dff9a3bd168aec20746ea55","typeString":"literal_string \\"Certificate\\""},{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"expression":{"argumentTypes":null,"id":2188,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3117,"src":"744:4:8","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2581","typeString":"contract Registry"}},"id":2189,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"create","nodeType":"MemberAccess","referencedDeclaration":608,"src":"744:11:8","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_string_memory_ptr_$_t_address_$returns$_t_uint256_$","typeString":"function (uint256,string memory,address) external returns (uint256)"}},"id":2194,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"744:46:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"738:52:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2196,"nodeType":"ExpressionStatement","src":"738:52:8"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2197,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2174,"src":"799:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2198,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"808:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"799:10:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2210,"nodeType":"IfStatement","src":"795:79:8","trueBody":{"id":2209,"nodeType":"Block","src":"811:63:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2201,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"833:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"833:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2203,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2168,"src":"845:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2204,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"850:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2205,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2174,"src":"855:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2206,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2176,"src":"863:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2200,"name":"safeTransferFrom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":191,"src":"816:16:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory)"}},"id":2207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"816:53:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2208,"nodeType":"ExpressionStatement","src":"816:53:8"}]}},{"expression":{"argumentTypes":null,"id":2221,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2211,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"878:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2213,"indexExpression":{"argumentTypes":null,"id":2212,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"897:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"878:23:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2215,"name":"_topic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2172,"src":"928:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2216,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"947:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"947:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2218,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2170,"src":"976:13:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"argumentTypes":null,"id":2219,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2176,"src":"1000:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2214,"name":"Certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":834,"src":"904:11:8","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Certificate_$834_storage_ptr_$","typeString":"type(struct ERC1888.Certificate storage pointer)"}},"id":2220,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["topic","issuer","validityData","data"],"nodeType":"FunctionCall","src":"904:106:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory","typeString":"struct ERC1888.Certificate memory"}},"src":"878:132:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"id":2222,"nodeType":"ExpressionStatement","src":"878:132:8"},{"expression":{"argumentTypes":null,"id":2228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2223,"name":"_allCertificatesIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2166,"src":"1015:21:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":2225,"indexExpression":{"argumentTypes":null,"id":2224,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"1037:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1015:26:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2226,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"1044:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":2227,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1044:23:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1015:52:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2229,"nodeType":"ExpressionStatement","src":"1015:52:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2233,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"1093:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2230,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"1071:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":2232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"push","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1071:21:8","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) returns (uint256)"}},"id":2234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1071:26:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2235,"nodeType":"ExpressionStatement","src":"1071:26:8"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2237,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"1122:3:8","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1122:10:8","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2239,"name":"_topic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2172,"src":"1134:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"id":2240,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"1142:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2236,"name":"IssuanceSingle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":842,"src":"1107:14:8","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256,uint256)"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1107:39:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2242,"nodeType":"EmitStatement","src":"1102:44:8"}]},"documentation":null,"id":2244,"implemented":true,"kind":"function","modifiers":[],"name":"issue","nodeType":"FunctionDefinition","parameters":{"id":2177,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2168,"name":"_to","nodeType":"VariableDeclaration","scope":2244,"src":"566:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2167,"name":"address","nodeType":"ElementaryTypeName","src":"566:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2170,"name":"_validityData","nodeType":"VariableDeclaration","scope":2244,"src":"579:28:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2169,"name":"bytes","nodeType":"ElementaryTypeName","src":"579:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2172,"name":"_topic","nodeType":"VariableDeclaration","scope":2244,"src":"609:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2171,"name":"int256","nodeType":"ElementaryTypeName","src":"609:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2174,"name":"_value","nodeType":"VariableDeclaration","scope":2244,"src":"624:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2173,"name":"uint256","nodeType":"ElementaryTypeName","src":"624:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2176,"name":"_data","nodeType":"VariableDeclaration","scope":2244,"src":"640:20:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2175,"name":"bytes","nodeType":"ElementaryTypeName","src":"640:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"565:96:8"},"returnParameters":{"id":2180,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2179,"name":"_id","nodeType":"VariableDeclaration","scope":2244,"src":"680:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2178,"name":"uint256","nodeType":"ElementaryTypeName","src":"680:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"679:13:8"},"scope":2581,"src":"551:599:8","stateMutability":"nonpayable","superFunction":889,"visibility":"external"},{"body":{"id":2301,"nodeType":"Block","src":"1310:309:8","statements":[{"assignments":[2260],"declarations":[{"constant":false,"id":2260,"name":"cert","nodeType":"VariableDeclaration","scope":2301,"src":"1314:23:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate"},"typeName":{"contractScope":null,"id":2259,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"1314:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}},"value":null,"visibility":"internal"}],"id":2264,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2261,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"1340:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2263,"indexExpression":{"argumentTypes":null,"id":2262,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1359:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1340:23:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1314:49:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2266,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2260,"src":"1378:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2267,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"issuer","nodeType":"MemberAccess","referencedDeclaration":829,"src":"1378:11:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2268,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2260,"src":"1392:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2269,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"validityData","nodeType":"MemberAccess","referencedDeclaration":831,"src":"1392:17:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"id":2265,"name":"_validate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"1368:9:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) view"}},"id":2270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1368:42:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2271,"nodeType":"ExpressionStatement","src":"1368:42:8"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2272,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2246,"src":"1419:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":2273,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1428:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1419:12:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2284,"nodeType":"IfStatement","src":"1415:76:8","trueBody":{"id":2283,"nodeType":"Block","src":"1433:58:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2276,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2246,"src":"1455:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2277,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1462:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2278,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1467:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2279,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2252,"src":"1472:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2280,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2254,"src":"1480:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2275,"name":"safeTransferFrom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":191,"src":"1438:16:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory)"}},"id":2281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1438:48:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2282,"nodeType":"ExpressionStatement","src":"1438:48:8"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2286,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1501:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2287,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1506:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2288,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2252,"src":"1511:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2285,"name":"_burn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2528,"src":"1495:5:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":2289,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1495:23:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2290,"nodeType":"ExpressionStatement","src":"1495:23:8"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2292,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2246,"src":"1540:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2293,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2248,"src":"1547:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2294,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2260,"src":"1552:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2295,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"topic","nodeType":"MemberAccess","referencedDeclaration":827,"src":"1552:10:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"id":2296,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2250,"src":"1564:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2297,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2252,"src":"1569:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2298,"name":"_claimData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2256,"src":"1577:10:8","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2291,"name":"ClaimSingle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":856,"src":"1528:11:8","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_int256_$_t_uint256_$_t_uint256_$_t_bytes32_$returns$__$","typeString":"function (address,address,int256,uint256,uint256,bytes32)"}},"id":2299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1528:60:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2300,"nodeType":"EmitStatement","src":"1523:65:8"}]},"documentation":null,"id":2302,"implemented":true,"kind":"function","modifiers":[],"name":"safeTransferAndClaimFrom","nodeType":"FunctionDefinition","parameters":{"id":2257,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2246,"name":"_from","nodeType":"VariableDeclaration","scope":2302,"src":"1190:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2245,"name":"address","nodeType":"ElementaryTypeName","src":"1190:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2248,"name":"_to","nodeType":"VariableDeclaration","scope":2302,"src":"1207:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2247,"name":"address","nodeType":"ElementaryTypeName","src":"1207:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2250,"name":"_id","nodeType":"VariableDeclaration","scope":2302,"src":"1222:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2249,"name":"uint256","nodeType":"ElementaryTypeName","src":"1222:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2252,"name":"_value","nodeType":"VariableDeclaration","scope":2302,"src":"1237:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2251,"name":"uint256","nodeType":"ElementaryTypeName","src":"1237:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2254,"name":"_data","nodeType":"VariableDeclaration","scope":2302,"src":"1255:20:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2253,"name":"bytes","nodeType":"ElementaryTypeName","src":"1255:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2256,"name":"_claimData","nodeType":"VariableDeclaration","scope":2302,"src":"1279:18:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2255,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1279:7:8","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1186:114:8"},"returnParameters":{"id":2258,"nodeType":"ParameterList","parameters":[],"src":"1310:0:8"},"scope":2581,"src":"1153:466:8","stateMutability":"nonpayable","superFunction":904,"visibility":"external"},{"body":{"id":2433,"nodeType":"Block","src":"1819:806:8","statements":[{"assignments":[2321],"declarations":[{"constant":false,"id":2321,"name":"numberOfClaims","nodeType":"VariableDeclaration","scope":2433,"src":"1823:19:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2320,"name":"uint","nodeType":"ElementaryTypeName","src":"1823:4:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2324,"initialValue":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2322,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"1845:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1845:11:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1823:33:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2326,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"1869:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2327,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1886:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1869:18:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7361666542617463685472616e73666572416e64436c61696d46726f6d3a206174206c65617374206f6e652063657274696669636174652068617320746f2062652070726573656e742e","id":2329,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1889:76:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_69516cd0899dbe440925b4413b23e91790bccfab89b6df43414c8396f9fb8398","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: at least one certificate has to be present.\\""},"value":"safeBatchTransferAndClaimFrom: at least one certificate has to be present."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_69516cd0899dbe440925b4413b23e91790bccfab89b6df43414c8396f9fb8398","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: at least one certificate has to be present.\\""}],"id":2325,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"1861:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1861:105:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2331,"nodeType":"ExpressionStatement","src":"1861:105:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2333,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"1982:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2334,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1982:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2335,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2000:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1982:32:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2337,"name":"_claimData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2317,"src":"2018:10:8","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}},"id":2338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2018:17:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2339,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2039:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2018:35:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1982:71:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7361666542617463685472616e73666572416e64436c61696d46726f6d3a206e6f7420616c6c2061727261797320617265206f66207468652073616d65206c656e6774682e","id":2342,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2058:71:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_aaa95843f6ec5e4537f52d56c82ba10040f723420125b2bda0a340d278f08ea2","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: not all arrays are of the same length.\\""},"value":"safeBatchTransferAndClaimFrom: not all arrays are of the same length."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_aaa95843f6ec5e4537f52d56c82ba10040f723420125b2bda0a340d278f08ea2","typeString":"literal_string \\"safeBatchTransferAndClaimFrom: not all arrays are of the same length.\\""}],"id":2332,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"1970:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2343,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1970:163:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2344,"nodeType":"ExpressionStatement","src":"1970:163:8"},{"assignments":[2348],"declarations":[{"constant":false,"id":2348,"name":"topics","nodeType":"VariableDeclaration","scope":2433,"src":"2138:22:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2346,"name":"int256","nodeType":"ElementaryTypeName","src":"2138:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2347,"length":null,"nodeType":"ArrayTypeName","src":"2138:8:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"id":2354,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2352,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2176:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2351,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2163:12:8","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_int256_$dyn_memory_$","typeString":"function (uint256) pure returns (int256[] memory)"},"typeName":{"baseType":{"id":2349,"name":"int256","nodeType":"ElementaryTypeName","src":"2167:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2350,"length":null,"nodeType":"ArrayTypeName","src":"2167:8:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}}},"id":2353,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2163:28:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory","typeString":"int256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"2138:53:8"},{"body":{"id":2387,"nodeType":"Block","src":"2241:137:8","statements":[{"assignments":[2366],"declarations":[{"constant":false,"id":2366,"name":"cert","nodeType":"VariableDeclaration","scope":2387,"src":"2246:23:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate"},"typeName":{"contractScope":null,"id":2365,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"2246:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}},"value":null,"visibility":"internal"}],"id":2372,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2367,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"2272:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2371,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2368,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2291:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2370,"indexExpression":{"argumentTypes":null,"id":2369,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2296:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2291:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2272:27:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2246:53:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2374,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2366,"src":"2314:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2375,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"issuer","nodeType":"MemberAccess","referencedDeclaration":829,"src":"2314:11:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2376,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2366,"src":"2328:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2377,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"validityData","nodeType":"MemberAccess","referencedDeclaration":831,"src":"2328:17:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"id":2373,"name":"_validate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"2304:9:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory) view"}},"id":2378,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2304:42:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2379,"nodeType":"ExpressionStatement","src":"2304:42:8"},{"expression":{"argumentTypes":null,"id":2385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2380,"name":"topics","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2348,"src":"2351:6:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2382,"indexExpression":{"argumentTypes":null,"id":2381,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2358:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2351:9:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2383,"name":"cert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2366,"src":"2363:4:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2384,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"topic","nodeType":"MemberAccess","referencedDeclaration":827,"src":"2363:10:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2351:22:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2386,"nodeType":"ExpressionStatement","src":"2351:22:8"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2359,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2216:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2360,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2220:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2216:18:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2388,"initializationExpression":{"assignments":[2356],"declarations":[{"constant":false,"id":2356,"name":"i","nodeType":"VariableDeclaration","scope":2388,"src":"2201:9:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2355,"name":"uint256","nodeType":"ElementaryTypeName","src":"2201:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2358,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2357,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2213:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2201:13:8"},"loopExpression":{"expression":{"argumentTypes":null,"id":2363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2236:3:8","subExpression":{"argumentTypes":null,"id":2362,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"2238:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2364,"nodeType":"ExpressionStatement","src":"2236:3:8"},"nodeType":"ForStatement","src":"2196:182:8"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2389,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2386:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":2390,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2395:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2386:12:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2401,"nodeType":"IfStatement","src":"2382:83:8","trueBody":{"id":2400,"nodeType":"Block","src":"2400:65:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2393,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2427:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2394,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2434:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2395,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2439:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2396,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"2445:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2397,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2314,"src":"2454:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":2392,"name":"safeBatchTransferFrom","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":321,"src":"2405:21:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256[] memory,uint256[] memory,bytes memory)"}},"id":2398,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2405:55:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2399,"nodeType":"ExpressionStatement","src":"2405:55:8"}]}},{"body":{"id":2422,"nodeType":"Block","src":"2514:41:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2413,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2525:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2414,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2530:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2416,"indexExpression":{"argumentTypes":null,"id":2415,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2535:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2530:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2417,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"2539:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":2419,"indexExpression":{"argumentTypes":null,"id":2418,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2547:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2539:10:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2412,"name":"_burn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2528,"src":"2519:5:8","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":2420,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2519:31:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2421,"nodeType":"ExpressionStatement","src":"2519:31:8"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2406,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2489:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2407,"name":"numberOfClaims","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2321,"src":"2493:14:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2489:18:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2423,"initializationExpression":{"assignments":[2403],"declarations":[{"constant":false,"id":2403,"name":"i","nodeType":"VariableDeclaration","scope":2423,"src":"2474:9:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2402,"name":"uint256","nodeType":"ElementaryTypeName","src":"2474:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2405,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2404,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2486:1:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2474:13:8"},"loopExpression":{"expression":{"argumentTypes":null,"id":2410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2509:3:8","subExpression":{"argumentTypes":null,"id":2409,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2403,"src":"2511:1:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2411,"nodeType":"ExpressionStatement","src":"2509:3:8"},"nodeType":"ForStatement","src":"2469:86:8"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2425,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2575:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2426,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2306,"src":"2582:3:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2427,"name":"topics","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2348,"src":"2587:6:8","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2428,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2309,"src":"2595:4:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2429,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2312,"src":"2601:7:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":2430,"name":"_claimData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2317,"src":"2610:10:8","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[] calldata"}],"id":2424,"name":"ClaimBatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":874,"src":"2564:10:8","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_bytes32_$dyn_memory_ptr_$returns$__$","typeString":"function (address,address,int256[] memory,uint256[] memory,uint256[] memory,bytes32[] memory)"}},"id":2431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2564:57:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2432,"nodeType":"EmitStatement","src":"2559:62:8"}]},"documentation":null,"id":2434,"implemented":true,"kind":"function","modifiers":[],"name":"safeBatchTransferAndClaimFrom","nodeType":"FunctionDefinition","parameters":{"id":2318,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2304,"name":"_from","nodeType":"VariableDeclaration","scope":2434,"src":"1664:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2303,"name":"address","nodeType":"ElementaryTypeName","src":"1664:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2306,"name":"_to","nodeType":"VariableDeclaration","scope":2434,"src":"1681:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2305,"name":"address","nodeType":"ElementaryTypeName","src":"1681:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2309,"name":"_ids","nodeType":"VariableDeclaration","scope":2434,"src":"1696:23:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2307,"name":"uint256","nodeType":"ElementaryTypeName","src":"1696:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2308,"length":null,"nodeType":"ArrayTypeName","src":"1696:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2312,"name":"_values","nodeType":"VariableDeclaration","scope":2434,"src":"1723:26:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2310,"name":"uint256","nodeType":"ElementaryTypeName","src":"1723:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2311,"length":null,"nodeType":"ArrayTypeName","src":"1723:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2314,"name":"_data","nodeType":"VariableDeclaration","scope":2434,"src":"1753:20:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2313,"name":"bytes","nodeType":"ElementaryTypeName","src":"1753:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2317,"name":"_claimData","nodeType":"VariableDeclaration","scope":2434,"src":"1777:29:8","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2315,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1777:7:8","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2316,"length":null,"nodeType":"ArrayTypeName","src":"1777:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"}],"src":"1660:149:8"},"returnParameters":{"id":2319,"nodeType":"ParameterList","parameters":[],"src":"1819:0:8"},"scope":2581,"src":"1622:1003:8","stateMutability":"nonpayable","superFunction":922,"visibility":"external"},{"body":{"id":2471,"nodeType":"Block","src":"2764:229:8","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2448,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2436,"src":"2776:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2449,"name":"totalSupply","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2571,"src":"2783:11:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":2450,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2783:13:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2776:20:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"67657443657274696669636174653a205f6964206f7574206f6620626f756e6473","id":2452,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2798:35:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_9f5aa3327bcdb34d28912fb309e3d593f66c49d288215f02862af523391f6aa9","typeString":"literal_string \\"getCertificate: _id out of bounds\\""},"value":"getCertificate: _id out of bounds"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f5aa3327bcdb34d28912fb309e3d593f66c49d288215f02862af523391f6aa9","typeString":"literal_string \\"getCertificate: _id out of bounds\\""}],"id":2447,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"2768:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2453,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2768:66:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2454,"nodeType":"ExpressionStatement","src":"2768:66:8"},{"assignments":[2456],"declarations":[{"constant":false,"id":2456,"name":"certificate","nodeType":"VariableDeclaration","scope":2471,"src":"2839:30:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate"},"typeName":{"contractScope":null,"id":2455,"name":"Certificate","nodeType":"UserDefinedTypeName","referencedDeclaration":834,"src":"2839:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage_ptr","typeString":"struct ERC1888.Certificate"}},"value":null,"visibility":"internal"}],"id":2460,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2457,"name":"certificateStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2153,"src":"2872:18:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Certificate_$834_storage_$","typeString":"mapping(uint256 => struct ERC1888.Certificate storage ref)"}},"id":2459,"indexExpression":{"argumentTypes":null,"id":2458,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2436,"src":"2891:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2872:23:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_storage","typeString":"struct ERC1888.Certificate storage ref"}},"nodeType":"VariableDeclarationStatement","src":"2839:56:8"},{"expression":{"argumentTypes":null,"components":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2461,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2907:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2462,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"issuer","nodeType":"MemberAccess","referencedDeclaration":829,"src":"2907:18:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2463,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2927:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2464,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"topic","nodeType":"MemberAccess","referencedDeclaration":827,"src":"2927:17:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2465,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2946:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2466,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"validityData","nodeType":"MemberAccess","referencedDeclaration":831,"src":"2946:24:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2467,"name":"certificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2456,"src":"2972:11:8","typeDescriptions":{"typeIdentifier":"t_struct$_Certificate_$834_memory_ptr","typeString":"struct ERC1888.Certificate memory"}},"id":2468,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":833,"src":"2972:16:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"id":2469,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2906:83:8","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_int256_$_t_bytes_memory_$_t_bytes_memory_$","typeString":"tuple(address,int256,bytes memory,bytes memory)"}},"functionReturnParameters":2446,"id":2470,"nodeType":"Return","src":"2899:90:8"}]},"documentation":null,"id":2472,"implemented":true,"kind":"function","modifiers":[],"name":"getCertificate","nodeType":"FunctionDefinition","parameters":{"id":2437,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2436,"name":"_id","nodeType":"VariableDeclaration","scope":2472,"src":"2652:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2435,"name":"uint256","nodeType":"ElementaryTypeName","src":"2652:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2651:13:8"},"returnParameters":{"id":2446,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2439,"name":"issuer","nodeType":"VariableDeclaration","scope":2472,"src":"2688:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2438,"name":"address","nodeType":"ElementaryTypeName","src":"2688:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2441,"name":"topic","nodeType":"VariableDeclaration","scope":2472,"src":"2704:12:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2440,"name":"int256","nodeType":"ElementaryTypeName","src":"2704:6:8","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2443,"name":"validityData","nodeType":"VariableDeclaration","scope":2472,"src":"2718:25:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2442,"name":"bytes","nodeType":"ElementaryTypeName","src":"2718:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":2445,"name":"data","nodeType":"VariableDeclaration","scope":2472,"src":"2745:17:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2444,"name":"bytes","nodeType":"ElementaryTypeName","src":"2745:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"2687:76:8"},"scope":2581,"src":"2628:365:8","stateMutability":"view","superFunction":935,"visibility":"external"},{"body":{"id":2487,"nodeType":"Block","src":"3083:43:8","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2481,"name":"claimedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"3094:15:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2483,"indexExpression":{"argumentTypes":null,"id":2482,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2476,"src":"3110:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3094:20:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2485,"indexExpression":{"argumentTypes":null,"id":2484,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2474,"src":"3115:6:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3094:28:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2480,"id":2486,"nodeType":"Return","src":"3087:35:8"}]},"documentation":null,"id":2488,"implemented":true,"kind":"function","modifiers":[],"name":"claimedBalanceOf","nodeType":"FunctionDefinition","parameters":{"id":2477,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2474,"name":"_owner","nodeType":"VariableDeclaration","scope":2488,"src":"3022:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2473,"name":"address","nodeType":"ElementaryTypeName","src":"3022:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2476,"name":"_id","nodeType":"VariableDeclaration","scope":2488,"src":"3038:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2475,"name":"uint256","nodeType":"ElementaryTypeName","src":"3038:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3021:29:8"},"returnParameters":{"id":2480,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2479,"name":"","nodeType":"VariableDeclaration","scope":2488,"src":"3074:7:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2478,"name":"uint256","nodeType":"ElementaryTypeName","src":"3074:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3073:9:8"},"scope":2581,"src":"2996:130:8","stateMutability":"view","superFunction":944,"visibility":"external"},{"body":{"id":2527,"nodeType":"Block","src":"3197:136:8","statements":[{"expression":{"argumentTypes":null,"id":2510,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2497,"name":"balances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53,"src":"3201:8:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2500,"indexExpression":{"argumentTypes":null,"id":2498,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3210:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3201:13:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2501,"indexExpression":{"argumentTypes":null,"id":2499,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3215:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3201:20:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2508,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2494,"src":"3249:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2502,"name":"balances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53,"src":"3224:8:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2504,"indexExpression":{"argumentTypes":null,"id":2503,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3233:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3224:13:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2506,"indexExpression":{"argumentTypes":null,"id":2505,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3238:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3224:20:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":2725,"src":"3224:24:8","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3224:32:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3201:55:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2511,"nodeType":"ExpressionStatement","src":"3201:55:8"},{"expression":{"argumentTypes":null,"id":2525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2512,"name":"claimedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"3260:15:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2515,"indexExpression":{"argumentTypes":null,"id":2513,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3276:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3260:20:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2516,"indexExpression":{"argumentTypes":null,"id":2514,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3281:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3260:27:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2523,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2494,"src":"3322:6:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2517,"name":"claimedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"3290:15:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":2519,"indexExpression":{"argumentTypes":null,"id":2518,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"3306:3:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3290:20:8","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":2521,"indexExpression":{"argumentTypes":null,"id":2520,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2490,"src":"3311:5:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3290:27:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":2709,"src":"3290:31:8","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3290:39:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3260:69:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2526,"nodeType":"ExpressionStatement","src":"3260:69:8"}]},"documentation":null,"id":2528,"implemented":true,"kind":"function","modifiers":[],"name":"_burn","nodeType":"FunctionDefinition","parameters":{"id":2495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2490,"name":"_from","nodeType":"VariableDeclaration","scope":2528,"src":"3144:13:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2489,"name":"address","nodeType":"ElementaryTypeName","src":"3144:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2492,"name":"_id","nodeType":"VariableDeclaration","scope":2528,"src":"3159:11:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2491,"name":"uint256","nodeType":"ElementaryTypeName","src":"3159:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2494,"name":"_value","nodeType":"VariableDeclaration","scope":2528,"src":"3172:14:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2493,"name":"uint256","nodeType":"ElementaryTypeName","src":"3172:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3143:44:8"},"returnParameters":{"id":2496,"nodeType":"ParameterList","parameters":[],"src":"3197:0:8"},"scope":2581,"src":"3129:204:8","stateMutability":"nonpayable","superFunction":null,"visibility":"internal"},{"body":{"id":2561,"nodeType":"Block","src":"3416:265:8","statements":[{"condition":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"expression":{"argumentTypes":null,"id":2535,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2530,"src":"3424:9:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isContract","nodeType":"MemberAccess","referencedDeclaration":17,"src":"3424:20:8","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_bool_$bound_to$_t_address_$","typeString":"function (address) view returns (bool)"}},"id":2537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3424:22:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2560,"nodeType":"IfStatement","src":"3420:258:8","trueBody":{"id":2559,"nodeType":"Block","src":"3448:230:8","statements":[{"assignments":[2539,2541],"declarations":[{"constant":false,"id":2539,"name":"success","nodeType":"VariableDeclaration","scope":2559,"src":"3454:12:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2538,"name":"bool","nodeType":"ElementaryTypeName","src":"3454:4:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":2541,"name":"result","nodeType":"VariableDeclaration","scope":2559,"src":"3468:19:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2540,"name":"bytes","nodeType":"ElementaryTypeName","src":"3468:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"id":2546,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2544,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2532,"src":"3512:13:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":2542,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2530,"src":"3491:9:8","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"staticcall","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3491:20:8","typeDescriptions":{"typeIdentifier":"t_function_barestaticcall_view$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (bool,bytes memory)"}},"id":2545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3491:35:8","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"3453:73:8"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2548,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2539,"src":"3545:7:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2551,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2541,"src":"3567:6:8","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"components":[{"argumentTypes":null,"id":2552,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3576:4:8","typeDescriptions":{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"},"typeName":"bool"}],"id":2553,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3575:6:8","typeDescriptions":{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"}],"expression":{"argumentTypes":null,"id":2549,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3064,"src":"3556:3:8","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2550,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3556:10:8","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":2554,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3556:26:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3545:37:8","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"5f76616c696461746528293a20526571756573742f636572746966696361746520696e76616c69642c20706c6561736520636865636b207769746820796f7572206973737565722e","id":2556,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3588:74:8","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_59ab5a959b1ea91c856e8bef60fb91ef213a665873c71faee40839202fd8e7ec","typeString":"literal_string \\"_validate(): Request/certificate invalid, please check with your issuer.\\""},"value":"_validate(): Request/certificate invalid, please check with your issuer."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_59ab5a959b1ea91c856e8bef60fb91ef213a665873c71faee40839202fd8e7ec","typeString":"literal_string \\"_validate(): Request/certificate invalid, please check with your issuer.\\""}],"id":2547,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3080,3081],"referencedDeclaration":3081,"src":"3532:7:8","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2557,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3532:135:8","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2558,"nodeType":"ExpressionStatement","src":"3532:135:8"}]}}]},"documentation":null,"id":2562,"implemented":true,"kind":"function","modifiers":[],"name":"_validate","nodeType":"FunctionDefinition","parameters":{"id":2533,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2530,"name":"_verifier","nodeType":"VariableDeclaration","scope":2562,"src":"3355:17:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2529,"name":"address","nodeType":"ElementaryTypeName","src":"3355:7:8","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2532,"name":"_validityData","nodeType":"VariableDeclaration","scope":2562,"src":"3374:26:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2531,"name":"bytes","nodeType":"ElementaryTypeName","src":"3374:5:8","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"3354:47:8"},"returnParameters":{"id":2534,"nodeType":"ParameterList","parameters":[],"src":"3416:0:8"},"scope":2581,"src":"3336:345:8","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":2570,"nodeType":"Block","src":"3896:47:8","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2567,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"3913:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":2568,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3913:23:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2566,"id":2569,"nodeType":"Return","src":"3906:30:8"}]},"documentation":"@dev Gets the total amount of certificates stored by the contract.\\n@return uint256 representing the total amount of certificates","id":2571,"implemented":true,"kind":"function","modifiers":[],"name":"totalSupply","nodeType":"FunctionDefinition","parameters":{"id":2563,"nodeType":"ParameterList","parameters":[],"src":"3863:2:8"},"returnParameters":{"id":2566,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2565,"name":"","nodeType":"VariableDeclaration","scope":2571,"src":"3887:7:8","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2564,"name":"uint256","nodeType":"ElementaryTypeName","src":"3887:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3886:9:8"},"scope":2581,"src":"3843:100:8","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2579,"nodeType":"Block","src":"4014:34:8","statements":[{"expression":{"argumentTypes":null,"id":2577,"name":"_allCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2162,"src":"4025:16:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"functionReturnParameters":2576,"id":2578,"nodeType":"Return","src":"4018:23:8"}]},"documentation":null,"id":2580,"implemented":true,"kind":"function","modifiers":[],"name":"allCertificateIds","nodeType":"FunctionDefinition","parameters":{"id":2572,"nodeType":"ParameterList","parameters":[],"src":"3972:2:8"},"returnParameters":{"id":2576,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2575,"name":"","nodeType":"VariableDeclaration","scope":2580,"src":"3996:16:8","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2573,"name":"uint256","nodeType":"ElementaryTypeName","src":"3996:7:8","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2574,"length":null,"nodeType":"ArrayTypeName","src":"3996:9:8","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"3995:18:8"},"scope":2581,"src":"3946:102:8","stateMutability":"view","superFunction":null,"visibility":"public"}],"scope":2582,"src":"133:3917:8"}],"src":"0:4051:8"},"compiler":{"name":"solc","version":"0.5.16+commit.9c3226ce.Emscripten.clang"},"networks":{},"schemaVersion":"3.1.0","updatedAt":"2020-04-18T16:33:25.875Z","devdoc":{"methods":{"balanceOf(address,uint256)":{"params":{"_id":"ID of the Token","_owner":"The address of the token holder"},"return":"The _owner\'s balance of the Token type requested"},"balanceOfBatch(address[],uint256[])":{"params":{"_ids":"ID of the Tokens","_owners":"The addresses of the token holders"},"return":"The _owner\'s balance of the Token types requested (i.e. balance for each (owner, id) pair)"},"isApprovedForAll(address,address)":{"params":{"_operator":"Address of authorized operator","_owner":"The owner of the Tokens"},"return":"True if the operator is approved, false if not"},"safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)":{"details":"Caller must be approved to manage the tokens being transferred out of the `_from` account (see \\"Approval\\" section of the standard). MUST revert if `_to` is the zero address. MUST revert if length of `_ids` is not the same as length of `_values`. MUST revert if any of the balance(s) of the holder(s) for token(s) in `_ids` is lower than the respective amount(s) in `_values` sent to the recipient. MUST revert on any other error. MUST emit `TransferSingle` or `TransferBatch` event(s) such that all the balance changes are reflected (see \\"Safe Transfer Rules\\" section of the standard). Balance changes and events MUST follow the ordering of the arrays (_ids[0]/_values[0] before _ids[1]/_values[1], etc). After the above conditions for the transfer(s) in the batch are met, this function MUST check if `_to` is a smart contract (e.g. code size > 0). If so, it MUST call the relevant `ERC1155TokenReceiver` hook(s) on `_to` and act appropriately (see \\"Safe Transfer Rules\\" section of the standard).","params":{"_data":"Additional data with no specified format, MUST be sent unaltered in call to the `ERC1155TokenReceiver` hook(s) on `_to`","_from":"Source address","_ids":"IDs of each token type (order and length must match _values array)","_to":"Target address","_values":"Transfer amounts per token type (order and length must match _ids array)"}},"safeTransferFrom(address,address,uint256,uint256,bytes)":{"details":"Caller must be approved to manage the tokens being transferred out of the `_from` account (see \\"Approval\\" section of the standard). MUST revert if `_to` is the zero address. MUST revert if balance of holder for token `_id` is lower than the `_value` sent. MUST revert on any other error. MUST emit the `TransferSingle` event to reflect the balance change (see \\"Safe Transfer Rules\\" section of the standard). After the above conditions are met, this function MUST check if `_to` is a smart contract (e.g. code size > 0). If so, it MUST call `onERC1155Received` on `_to` and act appropriately (see \\"Safe Transfer Rules\\" section of the standard).","params":{"_data":"Additional data with no specified format, MUST be sent unaltered in call to `onERC1155Received` on `_to`","_from":"Source address","_id":"ID of the token type","_to":"Target address","_value":"Transfer amount"}},"setApprovalForAll(address,bool)":{"details":"MUST emit the ApprovalForAll event on success.","params":{"_approved":"True if the operator is approved, false to revoke approval","_operator":"Address to add to the set of authorized operators"}},"totalSupply()":{"details":"Gets the total amount of certificates stored by the contract.","return":"uint256 representing the total amount of certificates"}}},"userdoc":{"methods":{"balanceOf(address,uint256)":{"notice":"Get the balance of an account\'s Tokens."},"balanceOfBatch(address[],uint256[])":{"notice":"Get the balance of multiple account/token pairs"},"isApprovedForAll(address,address)":{"notice":"Queries the approval status of an operator for a given owner."},"safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)":{"notice":"Transfers `_values` amount(s) of `_ids` from the `_from` address to the `_to` address specified (with safety call)."},"safeTransferFrom(address,address,uint256,uint256,bytes)":{"notice":"Transfers `_value` amount of an `_id` from the `_from` address to the `_to` address specified (with safety call)."},"setApprovalForAll(address,bool)":{"notice":"Enable or disable approval for a third party (\\"operator\\") to manage all of the caller\'s tokens."}}}}')},1694:function(module){module.exports=JSON.parse('{"contractName":"Issuer","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"_certificateId","type":"uint256"},{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"CertificateMigratedToPublic","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"_certificateId","type":"uint256"}],"name":"CertificateRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"_certificateId","type":"uint256"}],"name":"CertificationRequestApproved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"}],"name":"CertificationRequestRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"},{"indexed":true,"internalType":"string","name":"_deviceId","type":"string"}],"name":"CertificationRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"},{"indexed":false,"internalType":"bytes32","name":"_commitment","type":"bytes32"}],"name":"CommitmentUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_id","type":"uint256"}],"name":"MigrateToPublicRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"_certificateId","type":"uint256"}],"name":"PrivateTransferRequested","type":"event"},{"constant":true,"inputs":[],"name":"certificateTopic","outputs":[{"internalType":"int256","name":"","type":"int256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"registry","outputs":[{"internalType":"contract Registry","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"int256","name":"_certificateTopic","type":"int256"},{"internalType":"address","name":"_registry","type":"address"},{"internalType":"address","name":"_owner","type":"address"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"}],"name":"getCertificationRequest","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"bool","name":"revoked","type":"bool"},{"internalType":"bool","name":"isPrivate","type":"bool"}],"internalType":"struct Issuer.CertificationRequest","name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"certificateId","type":"uint256"}],"name":"getCertificateCommitment","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"bool","name":"_private","type":"bool"}],"name":"requestCertificationFor","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bool","name":"_private","type":"bool"}],"name":"requestCertification","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"}],"name":"isRequestValid","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"}],"name":"revokeRequest","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_certificateId","type":"uint256"}],"name":"revokeCertificate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_validityData","type":"bytes"}],"name":"approveCertificationRequest","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_value","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"issue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"},{"internalType":"bytes32","name":"_commitment","type":"bytes32"},{"internalType":"bytes","name":"_validityData","type":"bytes"}],"name":"approveCertificationRequestPrivate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"bytes32","name":"_commitment","type":"bytes32"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"issuePrivate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_certificateId","type":"uint256"},{"internalType":"bytes32","name":"_ownerAddressLeafHash","type":"bytes32"}],"name":"requestPrivateTransfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_certificateId","type":"uint256"},{"components":[{"internalType":"bool","name":"left","type":"bool"},{"internalType":"bytes32","name":"hash","type":"bytes32"}],"internalType":"struct Issuer.Proof[]","name":"_proof","type":"tuple[]"},{"internalType":"bytes32","name":"_previousCommitment","type":"bytes32"},{"internalType":"bytes32","name":"_commitment","type":"bytes32"}],"name":"approvePrivateTransfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_certificateId","type":"uint256"},{"internalType":"bytes32","name":"_ownerAddressLeafHash","type":"bytes32"}],"name":"requestMigrateToPublic","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_certificateId","type":"uint256"}],"name":"getPrivateTransferRequest","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes32","name":"hash","type":"bytes32"}],"internalType":"struct Issuer.PrivateTransferRequest","name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"}],"name":"getMigrationRequest","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"certificateId","type":"uint256"},{"internalType":"bytes32","name":"hash","type":"bytes32"},{"internalType":"bool","name":"approved","type":"bool"}],"internalType":"struct Issuer.RequestStateChange","name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_certificateId","type":"uint256"}],"name":"getMigrationRequestId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_requestId","type":"uint256"},{"internalType":"uint256","name":"_volume","type":"uint256"},{"internalType":"string","name":"_salt","type":"string"},{"components":[{"internalType":"bool","name":"left","type":"bool"},{"internalType":"bytes32","name":"hash","type":"bytes32"}],"internalType":"struct Issuer.Proof[]","name":"_proof","type":"tuple[]"}],"name":"migrateToPublic","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"_from","type":"uint256"},{"internalType":"uint256","name":"_to","type":"uint256"},{"internalType":"string","name":"_deviceId","type":"string"}],"name":"encodeData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"decodeData","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"getRegistryAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"pure","type":"function"}],"metadata":"{\\"compiler\\":{\\"version\\":\\"0.5.16+commit.9c3226ce\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_amount\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"CertificateMigratedToPublic\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"CertificateRevoked\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"CertificationRequestApproved\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"CertificationRequestRevoked\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"string\\",\\"name\\":\\"_deviceId\\",\\"type\\":\\"string\\"}],\\"name\\":\\"CertificationRequested\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_commitment\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"CommitmentUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_id\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"MigrateToPublicRequested\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"previousOwner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"OwnershipTransferred\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"PrivateTransferRequested\\",\\"type\\":\\"event\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_validityData\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"approveCertificationRequest\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_commitment\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_validityData\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"approveCertificationRequestPrivate\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"},{\\"components\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"left\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"hash\\",\\"type\\":\\"bytes32\\"}],\\"internalType\\":\\"struct Issuer.Proof[]\\",\\"name\\":\\"_proof\\",\\"type\\":\\"tuple[]\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_previousCommitment\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_commitment\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"approvePrivateTransfer\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"certificateTopic\\",\\"outputs\\":[{\\"internalType\\":\\"int256\\",\\"name\\":\\"\\",\\"type\\":\\"int256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"decodeData\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"string\\",\\"name\\":\\"\\",\\"type\\":\\"string\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_from\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_to\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"string\\",\\"name\\":\\"_deviceId\\",\\"type\\":\\"string\\"}],\\"name\\":\\"encodeData\\",\\"outputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"\\",\\"type\\":\\"bytes\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getCertificateCommitment\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getCertificationRequest\\",\\"outputs\\":[{\\"components\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"data\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"approved\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"revoked\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"isPrivate\\",\\"type\\":\\"bool\\"}],\\"internalType\\":\\"struct Issuer.CertificationRequest\\",\\"name\\":\\"\\",\\"type\\":\\"tuple\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getMigrationRequest\\",\\"outputs\\":[{\\"components\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"certificateId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"hash\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"approved\\",\\"type\\":\\"bool\\"}],\\"internalType\\":\\"struct Issuer.RequestStateChange\\",\\"name\\":\\"\\",\\"type\\":\\"tuple\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getMigrationRequestId\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getPrivateTransferRequest\\",\\"outputs\\":[{\\"components\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"hash\\",\\"type\\":\\"bytes32\\"}],\\"internalType\\":\\"struct Issuer.PrivateTransferRequest\\",\\"name\\":\\"\\",\\"type\\":\\"tuple\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"getRegistryAddress\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"int256\\",\\"name\\":\\"_certificateTopic\\",\\"type\\":\\"int256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_registry\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"initialize\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"sender\\",\\"type\\":\\"address\\"}],\\"name\\":\\"initialize\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"isOwner\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"isRequestValid\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_value\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"issue\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_to\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_commitment\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"issuePrivate\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_volume\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"string\\",\\"name\\":\\"_salt\\",\\"type\\":\\"string\\"},{\\"components\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"left\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"hash\\",\\"type\\":\\"bytes32\\"}],\\"internalType\\":\\"struct Issuer.Proof[]\\",\\"name\\":\\"_proof\\",\\"type\\":\\"tuple[]\\"}],\\"name\\":\\"migrateToPublic\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"owner\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"registry\\",\\"outputs\\":[{\\"internalType\\":\\"contract Registry\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"renounceOwnership\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"_private\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"requestCertification\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_data\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"_private\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"requestCertificationFor\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_ownerAddressLeafHash\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"requestMigrateToPublic\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_ownerAddressLeafHash\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"requestPrivateTransfer\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_certificateId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"revokeCertificate\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_requestId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"revokeRequest\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"transferOwnership\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"version\\",\\"outputs\\":[{\\"internalType\\":\\"string\\",\\"name\\":\\"\\",\\"type\\":\\"string\\"}],\\"payable\\":false,\\"stateMutability\\":\\"pure\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"methods\\":{\\"initialize(address)\\":{\\"details\\":\\"Initializes the contract setting the deployer as the initial owner.\\"},\\"isOwner()\\":{\\"details\\":\\"Returns true if the caller is the current owner.\\"},\\"owner()\\":{\\"details\\":\\"Returns the address of the current owner.\\"},\\"renounceOwnership()\\":{\\"details\\":\\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner.     * > Note: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\\"},\\"transferOwnership(address)\\":{\\"details\\":\\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\\"}}},\\"userdoc\\":{\\"methods\\":{}}},\\"settings\\":{\\"compilationTarget\\":{\\"/home/kuzi/Projects/origin/packages/issuer/contracts/Issuer.sol\\":\\"Issuer\\"},\\"evmVersion\\":\\"istanbul\\",\\"libraries\\":{},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":200},\\"remappings\\":[]},\\"sources\\":{\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/Address.sol\\":{\\"keccak256\\":\\"0x2136d428880deb0ae622e0528276ed5ca37059c42a94ade0009407f35b8d9bf1\\",\\"urls\\":[\\"bzz-raw://eb48aef8b25b83a14410a233c3a4e8f649fe7e8d0d45b2ca72b02612cc1c28f7\\",\\"dweb:/ipfs/QmeHVhz1rYowzSdnWWE4K5zvGRK83W7V27EdpGUMGaTM3Y\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/Common.sol\\":{\\"keccak256\\":\\"0x744e2b28229f68105017da51885b7736da2a0491dd9e0fb261cafb69a152858c\\",\\"urls\\":[\\"bzz-raw://cbb52d5ce58d2e35a9aa7e4125a21ec6f411c82f074693e15e5436de92f5d91e\\",\\"dweb:/ipfs/QmXnkuxUkA3tcZ1arrZ1o6qfBc4XffoiaZDSabc9KVbh2v\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/ERC1155.sol\\":{\\"keccak256\\":\\"0x3860964bac2c71864249fa114562ef2fd4a8073580ab1806475b927916f03aa7\\",\\"urls\\":[\\"bzz-raw://e8a3ee8e7efbbe6bac3f4069da3bc44c7636d190b1d06c940ec5d15ad2c5af4d\\",\\"dweb:/ipfs/QmQzwkKE32ycbz3UA2HjQD5bAuBLMAvaBG4bTi2DqNnqu4\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/ERC1155Mintable.sol\\":{\\"keccak256\\":\\"0x277d6d819437feca5166979898759c404426bd38a8c63e4ba5324b7e5bfe4adf\\",\\"urls\\":[\\"bzz-raw://e023e51cd03af87e30dcb4c3f4575445e94685183769adbd6375ba98e633b64d\\",\\"dweb:/ipfs/QmQqbtBy3ji1ZaD25QAZPjdyE3frvQgVbML8CJBRFx4ixn\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/IERC1155.sol\\":{\\"keccak256\\":\\"0x58c938791850aba9e61435cea2c732c9cafc07257f22af209c4228069f63c9a2\\",\\"urls\\":[\\"bzz-raw://458d9be96abe50ee9eef695759ebac9926eec5053d5c45f2a2cd1d86598e10da\\",\\"dweb:/ipfs/QmTn7Y4bX1EtEaniA9PBkkiTniJPSjAtaMRZrYpAwSnCkR\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1155/IERC1155TokenReceiver.sol\\":{\\"keccak256\\":\\"0x4ae92d7c6386c8d7226ea7b1c553a56a695f8bdd199040e643d817a46f13f585\\",\\"urls\\":[\\"bzz-raw://8ecea4a2905eace402859d586cd3ef41d2e539bf7f693007b3a474c64e4cc59d\\",\\"dweb:/ipfs/QmXF5Mk6uB1JgvimgF7h6qfpESNt1XpAr3AHxKMz6Mev2H\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/ERC1888/IERC1888.sol\\":{\\"keccak256\\":\\"0xa2d9a27e5dff58f75ea11f1fe92ea0e66433d3788cb7ee494edd5187830a9248\\",\\"urls\\":[\\"bzz-raw://2dde9f94f50aa28eae8ac7320f79006dacf9009b978cf1a210a39910d7af1f5a\\",\\"dweb:/ipfs/QmYRRcrPNYgHgFg35jh8LeUVcGyjmd4S969H8vmngqqTM9\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/Issuer.sol\\":{\\"keccak256\\":\\"0xc339c9e70b0558053c9fbc30a12d39d18721d3dda762b1dcb7d6c610b4e47669\\",\\"urls\\":[\\"bzz-raw://d7c63057fa2eec5c2d8438e95306cbed236d2218a8f895591885b111b246c656\\",\\"dweb:/ipfs/QmdsbQDv3S9K2hjoxDBfaMt9Et77RqZP1dQ1atwVSA7cRa\\"]},\\"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol\\":{\\"keccak256\\":\\"0x402f49a5ee6ab93eea6174bec41ecbeba8eabbd35cd36b5286df3ba19bb84b93\\",\\"urls\\":[\\"bzz-raw://1ed03af70127597981d11b96f881ead7d4a4388a644bbda42b206971ef0b1bf9\\",\\"dweb:/ipfs/QmQaWoHQpGJK3WApieKmw1nQGe77J3UDZRB8HBsovXQZiG\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/GSN/Context.sol\\":{\\"keccak256\\":\\"0x3491510fa4862af1a43f6c860d9cf7392240196540cd3c0eea79d374d419c5a1\\",\\"urls\\":[\\"bzz-raw://3e51386d74eb723d3acaaddafce1dd0b4082ad4c10ddba6b9fc154aad2930d02\\",\\"dweb:/ipfs/QmcA8Huap1c7YjdVjx5TGasxKNMLgsa3XyLvQUaMa1nMt8\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/introspection/ERC165.sol\\":{\\"keccak256\\":\\"0x77dba70b279e47f7f6941b433a26ba51b8484b557d250d3a78075ecea5a9b01d\\",\\"urls\\":[\\"bzz-raw://946383a175d8b051ab44a6a6001b09ad09403aae6af0280d9532f1fde557ba7f\\",\\"dweb:/ipfs/QmeTQrn4DJWnZyf7v3FRGfP7CLzESNNtFAsDDhakWH2zfp\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/introspection/IERC165.sol\\":{\\"keccak256\\":\\"0xe0ed10f53955c35eecb02724538650a155aa940be3f0a54cd3bde6c6b0c6e48c\\",\\"urls\\":[\\"bzz-raw://7dcfda88e3225987245908c3296f3559752647036804325ebfaa9fd1545161c3\\",\\"dweb:/ipfs/QmXxx5rHfLL57zdgyyyG9MMv4XGN7bpVSc2MuDcaCgto6u\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/math/SafeMath.sol\\":{\\"keccak256\\":\\"0x640b6dee7a4b830bdfd52b5031a07fc2b12209f5b2e29e5d364a7d37f69d8076\\",\\"urls\\":[\\"bzz-raw://31113152e1ddb78fe7a4197f247591ca894e93f916867beb708d8e747b6cc74f\\",\\"dweb:/ipfs/QmbZaJyXdpsYGykVhHH9qpVGQg9DGCxE2QufbCUy3daTgq\\"]},\\"@openzeppelin/contracts-ethereum-package/contracts/ownership/Ownable.sol\\":{\\"keccak256\\":\\"0xd7e8ab76fa35c4d8d35a06a6ed538cadab8b75a1aa00594ced1568b2c0cadde3\\",\\"urls\\":[\\"bzz-raw://a3f816aa3e6161b4cf882ad34755673848d835f7fb964db49bcef9df14570cef\\",\\"dweb:/ipfs/QmQACSH1W7pKQnqTAqpuEP8ychp3PvosfnyondLaLE1nVq\\"]},\\"@openzeppelin/upgrades/contracts/Initializable.sol\\":{\\"keccak256\\":\\"0x9bfec92e36234ecc99b5d37230acb6cd1f99560233753162204104a4897e8721\\",\\"urls\\":[\\"bzz-raw://5cf7c208583d4d046d75bd99f5507412ab01cce9dd9f802ce9768a416d93ea2f\\",\\"dweb:/ipfs/QmcQS1BBMPpVEkXP3qzwSjxHNrqDek8YeR7xbVWDC9ApC7\\"]}},\\"version\\":1}","bytecode":"0x60806040526130e2806100136000396000f3fe608060405234801561001057600080fd5b50600436106101da5760003560e01c80639317058611610104578063c13cbb63116100a2578063ee04783011610071578063ee04783014610418578063f0b5b68d1461042b578063f21de1e814610433578063f2fde38b1461043b576101da565b8063c13cbb63146103cc578063c4d66de8146103df578063d7980f94146103f2578063e7d915cf14610405576101da565b8063abba27b5116100de578063abba27b514610380578063b747c91114610393578063bb31eb72146103a6578063bb3acde9146103b9576101da565b8063931705861461033a578063a5456b381461034d578063a8551fd314610360576101da565b80636512f1111161017c5780638cb886fa1161014b5780638cb886fa146102f75780638da5cb5b1461030a5780638f32d59b1461031f57806393001dc314610327576101da565b80636512f111146102a7578063715018a6146102c7578063750e247b146102cf5780637b103999146102e2576101da565b80633163e28a116101b85780633163e28a1461023d5780633db5717014610250578063447a06f51461027057806354fd4d5014610292576101da565b806306f5497e146101df5780631927b6a5146101f457806326eb2fd11461021d575b600080fd5b6101f26101ed366004612155565b61044e565b005b610207610202366004612155565b6104ed565b6040516102149190612f2f565b60405180910390f35b61023061022b366004612155565b61056f565b6040516102149190612d73565b61023061024b366004611fb5565b6105f1565b61026361025e366004612155565b610675565b6040516102149190612f10565b61028361027e366004612065565b610774565b60405161021493929190612f65565b61029a61079a565b6040516102149190612d81565b6102ba6102b5366004612155565b6107b9565b6040516102149190612d65565b6101f2610916565b6102306102dd366004612155565b610984565b6102ea610996565b6040516102149190612d92565b6101f26103053660046120f4565b6109a5565b610312610aa0565b6040516102149190612ccd565b6102ba610aaf565b6101f261033536600461201a565b610ad5565b6102ba610348366004612191565b610b18565b61023061035b366004612249565b610c4d565b61037361036e366004612155565b610eae565b6040516102149190612f21565b61023061038e36600461220f565b610f0d565b6101f26103a136600461220f565b610fe9565b6102306103b436600461209a565b611094565b6102306103c7366004611fb5565b6111c3565b6101f26103da36600461226a565b61123e565b6101f26103ed366004611f97565b6114e7565b61029a610400366004612249565b6115ba565b6101f2610413366004612155565b6115e9565b610230610426366004612249565b6116bb565b610230611913565b610312611919565b6101f2610449366004611f97565b611928565b610456610aaf565b61047b5760405162461bcd60e51b815260040161047290612e80565b60405180910390fd5b60008181526070602052604090205460ff16156104aa5760405162461bcd60e51b815260040161047290612e90565b600081815260706020526040808220805460ff191660011790555182917fefa6c5f47ac2523bb4db18032377bf7fdce0fa9d86eddcae1ca9bba38be615d791a250565b6104f5611cfa565b6104fd610aaf565b6105195760405162461bcd60e51b815260040161047290612e80565b506000818152606d6020908152604091829020825160808101845281546001600160a01b0316815260018201549281019290925260028101549282019290925260039091015460ff16151560608201525b919050565b6000610579610aaf565b6105955760405162461bcd60e51b815260040161047290612e80565b600060015b606a5481116105cd576000818152606d60205260409020600101548414156105c557915061056a9050565b60010161059a565b50806105eb5760405162461bcd60e51b815260040161047290612ee0565b50919050565b60006105fb610aaf565b6106175760405162461bcd60e51b815260040161047290612e80565b600061062583866001611094565b905061066c81858360405160240161063d9190612d73565b60408051601f198184030181529190526020810180516001600160e01b0316636512f11160e01b179052610c4d565b95945050505050565b61067d611d21565b600082815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f81018690048602830186019096528582529194929385810193919291908301828280156107355780601f1061070a57610100808354040283529160200191610735565b820191906000526020600020905b81548152906001019060200180831161071857829003601f168201915b50505091835250506002919091015460ff8082161515602084015261010082048116151560408401526201000090910416151560609091015292915050565b60008060608380602001905161078d9190810190612303565b9196909550909350915050565b60408051808201909152600481526376302e3160e01b60208201525b90565b60006107c3611d21565b600083815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f810186900486028301860190965285825291949293858101939192919083018282801561087b5780601f106108505761010080835404028352916020019161087b565b820191906000526020600020905b81548152906001019060200180831161085e57829003601f168201915b50505091835250506002919091015460ff808216151560208085019190915261010083048216151560408086019190915262010000909304909116151560609093019290925260008681526069909252902054606c549192509084118015906108e5575081604001515b80156108f357508160600151155b801561090e575060008181526070602052604090205460ff16155b949350505050565b61091e610aaf565b61093a5760405162461bcd60e51b815260040161047290612e80565b6033546040516000916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3603380546001600160a01b0319169055565b60009081526071602052604090205490565b6067546001600160a01b031681565b600054610100900460ff16806109be57506109be611958565b806109cc575060005460ff16155b6109e85760405162461bcd60e51b815260040161047290612ea0565b600054610100900460ff16158015610a13576000805460ff1961ff0019909116610100171660011790555b6001600160a01b038316610a395760405162461bcd60e51b815260040161047290612df0565b6001600160a01b038216610a5f5760405162461bcd60e51b815260040161047290612ef0565b6066849055606780546001600160a01b0319166001600160a01b038516179055610a88826114e7565b8015610a9a576000805461ff00191690555b50505050565b6033546001600160a01b031690565b6033546000906001600160a01b0316610ac661195e565b6001600160a01b031614905090565b610a9a83838080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152503392508591506110949050565b6000610b22610aaf565b610b3e5760405162461bcd60e51b815260040161047290612e80565b6000868152606e6020526040902080546001600160a01b0316610b735760405162461bcd60e51b815260040161047290612e30565b610bd48160010154848888808060200260200160405190810160405280939291908181526020016000905b82821015610bca57610bbb60408302860136819003810190612137565b81526020019060010190610b9e565b5050505050611962565b610bf05760405162461bcd60e51b815260040161047290612dd0565b604080518082018252600080825260208083018281528b8352606e909152929020905181546001600160a01b0319166001600160a01b039091161781559051600190910155610c40878585611a0e565b5060019695505050505050565b6000610c57610aaf565b610c735760405162461bcd60e51b815260040161047290612e80565b610c7c84611a8d565b610c985760405162461bcd60e51b815260040161047290612e50565b610ca0611d21565b600085815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f8101869004860283018601909652858252919492938581019391929190830182828015610d585780601f10610d2d57610100808354040283529160200191610d58565b820191906000526020600020905b815481529060010190602001808311610d3b57829003601f168201915b50505091835250506002919091015460ff808216151560208401526101008204811615156040840152620100009091041615156060909101526080810151909150610db55760405162461bcd60e51b815260040161047290612e60565b610dbe85611bab565b6067548151606654602084015160405163a2d4603960e01b81526000946001600160a01b03169363a2d4603993610dfd9391928a928891600401612cdb565b602060405180830381600087803b158015610e1757600080fd5b505af1158015610e2b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610e4f9190810190612173565b9050610e5d81600087611a0e565b60008681526069602052604080822083905583519051839289926001600160a01b0316917f3e5ec6d038fea8aae03ddd86c2882c546a05ea282e753cf085c8213a61a791309190a495945050505050565b610eb6611d50565b610ebe610aaf565b610eda5760405162461bcd60e51b815260040161047290612e80565b506000908152606e6020908152604091829020825180840190935280546001600160a01b03168352600101549082015290565b600080610f1984611bef565b90508015610f395760405162461bcd60e51b815260040161047290612f00565b606a8054600190810191829055604080516080810182523380825260208083018a81528385018a8152600060608601818152898252606d909452868120955186546001600160a01b0319166001600160a01b0390911617865591519685019690965594516002840155516003909201805460ff191692151592909217909155905183927fd18a53554a32a70376b6c223bfb0d84fc24caa3c704ef04eaf1b868e74ee8f6a91a39150505b92915050565b6000828152606e6020526040902080546001600160a01b03161561101f5760405162461bcd60e51b815260040161047290612ec0565b6040805180820182523380825260208083018681526000888152606e909252848220935184546001600160a01b0319166001600160a01b039091161784555160019093019290925591518592917fde442453a4fabb4e6fe9cd90c427b54511e2e7712b8dfe60307a8de6209db0f191a3505050565b606c80546001908101918290556040805160a0810182526001600160a01b0386811682526020808301898152600084860181905260608501819052881515608086015287815260688352948520845181546001600160a01b03191694169390931783555180519496959394929361111393908501929190910190611d67565b506040820151600290910180546060808501516080909501511515620100000262ff0000199515156101000261ff001995151560ff199094169390931794909416919091179390931691909117905561116b86610774565b925050508060405161117d9190612cc1565b6040519081900381209083906001600160a01b038816907f4f043afdb3c4eab4b8ac7438b40e2244d9e936c2ae05175c438cb49e2b796c6a90600090a450949350505050565b60006111cd610aaf565b6111e95760405162461bcd60e51b815260040161047290612e80565b60006111f783866000611094565b905061066c81858360405160240161120f9190612d73565b60408051601f198184030181529190526020810180516001600160e01b0316636512f11160e01b1790526116bb565b611246610aaf565b6112625760405162461bcd60e51b815260040161047290612e80565b6000868152606d60205260409020600381015460ff16156112955760405162461bcd60e51b815260040161047290612da0565b60018101546000908152606f602052604090205460ff16156112c95760405162461bcd60e51b815260040161047290612db0565b80546040516112ea916001600160a01b031690889088908890602001612c38565b604051602081830303815290604052805190602001208160020154146113225760405162461bcd60e51b815260040161047290612e10565b8054604080516020601f88018190048102820181019092528681526113cb926001600160a01b03169189919089908990819084018382808284376000920182905250600189015481526071602090815260408083205481518d8402810184019092528c8252955093508b92508a91829185015b828210156113c1576113b260408302860136819003810190612137565b81526020019060010190611395565b5050505050611c32565b6113e75760405162461bcd60e51b815260040161047290612ed0565b60038101805460ff1916600190811790915560675490820154825460405163020da84160e61b81526001600160a01b039384169363836a1040936114349390929116908b90600401612f3d565b600060405180830381600087803b15801561144e57600080fd5b505af1158015611462573d6000803e3d6000fd5b50505050600181810180546000908152606f60209081526040808320805460ff191690951790945591548082526071909252918220546114a192611a0e565b8054600182015460405188926001600160a01b031691907f5d348ef3cec3f8493cd139d1ee84e4c84f5b987f49646d7dfa226dbe98b770c990600090a450505050505050565b600054610100900460ff16806115005750611500611958565b8061150e575060005460ff16155b61152a5760405162461bcd60e51b815260040161047290612ea0565b600054610100900460ff16158015611555576000805460ff1961ff0019909116610100171660011790555b603380546001600160a01b0319166001600160a01b0384811691909117918290556040519116906000907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a380156115b6576000805461ff00191690555b5050565b60608383836040516020016115d193929190612f65565b60405160208183030381529060405290509392505050565b600081815260686020526040902080546001600160a01b031633146116205760405162461bcd60e51b815260040161047290612de0565b6002810154610100900460ff161561164a5760405162461bcd60e51b815260040161047290612e20565b600281015460ff161561166f5760405162461bcd60e51b815260040161047290612e70565b60028101805461ff001916610100179055805460405183916001600160a01b0316907f2b117599f21d800ddd10552521c610b44ab51d64ac07ae5cb3ee28bbb19946e590600090a35050565b60006116c5610aaf565b6116e15760405162461bcd60e51b815260040161047290612e80565b6116ea84611a8d565b6117065760405162461bcd60e51b815260040161047290612e50565b61170e611d21565b600085815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f81018690048602830186019096528582529194929385810193919291908301828280156117c65780601f1061179b576101008083540402835291602001916117c6565b820191906000526020600020905b8154815290600101906020018083116117a957829003601f168201915b50505091835250506002919091015460ff808216151560208401526101008204811615156040840152620100009091041615156060909101526080810151909150156118245760405162461bcd60e51b815260040161047290612e00565b61182d85611bab565b6067548151606654602084015160405163a2d4603960e01b81526000946001600160a01b03169363a2d460399361186c9391928a928c91600401612d29565b602060405180830381600087803b15801561188657600080fd5b505af115801561189a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506118be9190810190612173565b60008781526069602052604080822083905584519051929350839289926001600160a01b03909216917f3e5ec6d038fea8aae03ddd86c2882c546a05ea282e753cf085c8213a61a7913091a495945050505050565b60665481565b6067546001600160a01b031690565b611930610aaf565b61194c5760405162461bcd60e51b815260040161047290612e80565b61195581611c78565b50565b303b1590565b3390565b600083815b8351811015611a0357611978611d50565b84828151811061198457fe5b602002602001015190508060000151156119ca576020808201516040516119ad92869101612c9b565b6040516020818303038152906040528051906020012092506119fa565b8281602001516040516020016119e1929190612c9b565b6040516020818303038152906040528051906020012092505b50600101611967565b509092149392505050565b6000838152607160205260409020548214611a3b5760405162461bcd60e51b815260040161047290612e40565b6000838152607160205260409081902082905551839033907f20c9608d29cbc79a883dcda48c0f0a9f1babeccea0680f65ef20ce17b06dad1590611a80908590612d73565b60405180910390a3505050565b6000611a97611d21565b600083815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f8101869004860283018601909652858252919492938581019391929190830182828015611b4f5780601f10611b2457610100808354040283529160200191611b4f565b820191906000526020600020905b815481529060010190602001808311611b3257829003601f168201915b50505091835250506002919091015460ff8082161515602084015261010082048116151560408085019190915262010000909204161515606090920191909152810151909150158015611ba457508060600151155b9392505050565b6000818152606860205260409020600281015460ff1615611bde5760405162461bcd60e51b815260040161047290612eb0565b600201805460ff1916600117905550565b60008060015b606a548111611c2b576000818152606d6020526040902060010154841415611c2357506001915061056a9050565b600101611bf5565b5092915050565b600080868686604051602001611c4a93929190612c6f565b604051602081830303815290604052805190602001209050611c6d818585611962565b979650505050505050565b6001600160a01b038116611c9e5760405162461bcd60e51b815260040161047290612dc0565b6033546040516001600160a01b038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3603380546001600160a01b0319166001600160a01b0392909216919091179055565b60408051608081018252600080825260208201819052918101829052606081019190915290565b6040805160a0810182526000808252606060208301819052928201819052918101829052608081019190915290565b604080518082019091526000808252602082015290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611da857805160ff1916838001178555611dd5565b82800160010185558215611dd5579182015b82811115611dd5578251825591602001919060010190611dba565b50611de1929150611de5565b5090565b6107b691905b80821115611de15760008155600101611deb565b8035610fe381613079565b60008083601f840112611e1c57600080fd5b50813567ffffffffffffffff811115611e3457600080fd5b602083019150836040820283011115611e4c57600080fd5b9250929050565b8035610fe38161308d565b8035610fe381613096565b60008083601f840112611e7b57600080fd5b50813567ffffffffffffffff811115611e9357600080fd5b602083019150836001820283011115611e4c57600080fd5b600082601f830112611ebc57600080fd5b8135611ecf611eca82612fb9565b612f92565b91508082526020830160208301858383011115611eeb57600080fd5b611ef6838284613020565b50505092915050565b600082601f830112611f1057600080fd5b8151611f1e611eca82612fb9565b91508082526020830160208301858383011115611f3a57600080fd5b611ef683828461302c565b600060408284031215611f5757600080fd5b611f616040612f92565b90506000611f6f8484611e53565b8252506020611f8084848301611e5e565b60208301525092915050565b8051610fe381613096565b600060208284031215611fa957600080fd5b600061090e8484611dff565b600080600060608486031215611fca57600080fd5b6000611fd68686611dff565b9350506020611fe786828701611e5e565b925050604084013567ffffffffffffffff81111561200457600080fd5b61201086828701611eab565b9150509250925092565b60008060006040848603121561202f57600080fd5b833567ffffffffffffffff81111561204657600080fd5b61205286828701611e69565b9350935050602061201086828701611e53565b60006020828403121561207757600080fd5b813567ffffffffffffffff81111561208e57600080fd5b61090e84828501611eab565b6000806000606084860312156120af57600080fd5b833567ffffffffffffffff8111156120c657600080fd5b6120d286828701611eab565b93505060206120e386828701611dff565b925050604061201086828701611e53565b60008060006060848603121561210957600080fd5b60006121158686611e5e565b935050602061212686828701611dff565b925050604061201086828701611dff565b60006040828403121561214957600080fd5b600061090e8484611f45565b60006020828403121561216757600080fd5b600061090e8484611e5e565b60006020828403121561218557600080fd5b600061090e8484611f8c565b6000806000806000608086880312156121a957600080fd5b60006121b58888611e5e565b955050602086013567ffffffffffffffff8111156121d257600080fd5b6121de88828901611e0a565b945094505060406121f188828901611e5e565b925050606061220288828901611e5e565b9150509295509295909350565b6000806040838503121561222257600080fd5b600061222e8585611e5e565b925050602061223f85828601611e5e565b9150509250929050565b60008060006060848603121561225e57600080fd5b6000611fd68686611e5e565b6000806000806000806080878903121561228357600080fd5b600061228f8989611e5e565b96505060206122a089828a01611e5e565b955050604087013567ffffffffffffffff8111156122bd57600080fd5b6122c989828a01611e69565b9450945050606087013567ffffffffffffffff8111156122e857600080fd5b6122f489828a01611e0a565b92509250509295509295509295565b60008060006060848603121561231857600080fd5b60006123248686611f8c565b935050602061233586828701611f8c565b925050604084015167ffffffffffffffff81111561235257600080fd5b61201086828701611eff565b61236781612fee565b82525050565b61236761237982612fee565b613058565b61236781612ff9565b612367816107b6565b61236761239c826107b6565b6107b6565b60006123ac82612fe1565b6123b68185612fe5565b93506123c681856020860161302c565b6123cf81613069565b9093019392505050565b6123678161300a565b61236781613015565b60006123f7838561056a565b9350612404838584613020565b50500190565b600061241582612fe1565b61241f818561056a565b935061242f81856020860161302c565b9290920192915050565b6000612446602b83612fe5565b7f6d696772617465546f5075626c696328293a205265717565737420616c72656181526a191e48185c1c1c9bdd995960aa1b602082015260400192915050565b6000612493602f83612fe5565b7f6d696772617465546f5075626c696328293a206365727469666963617465206181526e1b1c9958591e481b5a59dc985d1959608a1b602082015260400192915050565b60006124e4602683612fe5565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206181526564647265737360d01b602082015260400192915050565b600061252c602b83612fe5565b7f617070726f7665507269766174655472616e7366657228293a2057726f6e672081526a6d65726b6c65207472656560a81b602082015260400192915050565b6000612579604183612fe5565b7f7265766f6b655265717565737428293a204f6e6c79207468652072657175657381527f742063726561746f722063616e207265766f6b652074686520726571756573746020820152601760f91b604082015260600192915050565b60006125e2603783612fe5565b7f696e697469616c697a653a2043616e6e6f74207573652061646472657373203081527f783020617320726567697374727920616464726573732e000000000000000000602082015260400192915050565b6000612641604883612fe5565b7f43657274696669636174696f6e5265717565737428293a20706c65617365207581527f736520636f6d6d69746d656e747320666f7220707269766174652063657274696020820152673334b1b0ba34b7b760c11b604082015260600192915050565b60006126b1601d83612fe5565b7f526571756573746564206861736820646f6573206e6f74206d61746368000000815260200192915050565b60006126ea602083612fe5565b7f7265766f6b655265717565737428293a20416c7265616479207265766f6b6564815260200192915050565b6000612723604883612fe5565b7f617070726f7665507269766174655472616e7366657228293a2043616e27742081527f617070726f76652061206e6f6e2d6578697374696e67207072697661746520746020820152673930b739b332b91760c11b604082015260600192915050565b6000612793602d83612fe5565b7f757064617465436f6d6d69746d656e743a2070726576696f757320636f6d6d6981526c1d1b595b9d081a5b9d985b1a59609a1b602082015260400192915050565b60006127e2604283612fe5565b7f617070726f766543657274696669636174696f6e5265717565737428293a207281527f65717565737420616c726561647920617070726f766564206f72207265766f6b602082015261195960f21b604082015260600192915050565b600061284c603c83612fe5565b7f617070726f76653a2063616e277420617070726f7665207075626c696320636581527f72746966696361746573207573696e6720636f6d6d69746d656e747300000000602082015260400192915050565b60006128ab603383612fe5565b7f7265766f6b655265717565737428293a20596f752063616e2774207265766f6b8152726520617070726f76656420726571756573747360681b602082015260400192915050565b6000612900602083612fe5565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572815260200192915050565b6000612939602483612fe5565b7f7265766f6b65436572746966696361746528293a20416c7265616479207265768152631bdad95960e21b602082015260400192915050565b600061297f602e83612fe5565b7f436f6e747261637420696e7374616e63652068617320616c726561647920626581526d195b881a5b9a5d1a585b1a5e995960921b602082015260400192915050565b60006129cf600e83612fe5565b6d105b1c9958591e481a5cdcdd595960921b815260200192915050565b60006129f9603583612fe5565b7f4f6e6c79206f6e652070726976617465207472616e736665722063616e206265815274103932b8bab2b9ba32b21030ba1030903a34b6b29760591b602082015260400192915050565b6000612a50600d83612fe5565b6c24b73b30b634b210383937b7b360991b815260200192915050565b6000612a79602483612fe5565b7f756e61626c6520746f2066696e6420746865206d6967726174696f6e207265718152631d595cdd60e21b602082015260400192915050565b6000612abf603083612fe5565b7f696e697469616c697a653a2043616e6e6f74207573652061646472657373203081526f3c181030b9903a34329037bbb732b91760811b602082015260400192915050565b6000612b11603583612fe5565b7f6d6967726174696f6e207265717565737420666f72207468697320636572746981527466696361746520616c72656164792065786973747360581b602082015260400192915050565b805160009060a0840190612b6f858261235e565b5060208301518482036020860152612b8782826123a1565b9150506040830151612b9c604086018261237e565b506060830151612baf606086018261237e565b506080830151612bc2608086018261237e565b509392505050565b80516040830190612bdb848261235e565b506020820151610a9a6020850182612387565b80516080830190612bff848261235e565b506020820151612c126020850182612387565b506040820151612c256040850182612387565b506060820151610a9a606085018261237e565b6000612c44828761236d565b601482019150612c548286612390565b602082019150612c658284866123eb565b9695505050505050565b6000612c7b828661236d565b601482019150612c8b8285612390565b60208201915061066c828461240a565b6000612ca78285612390565b602082019150612cb78284612390565b5060200192915050565b6000611ba4828461240a565b60208101610fe3828461235e565b60a08101612ce9828861235e565b8181036020830152612cfb81876123a1565b9050612d0a6040830186612387565b612d1760608301856123e2565b8181036080830152611c6d81846123a1565b60a08101612d37828861235e565b8181036020830152612d4981876123a1565b9050612d586040830186612387565b612d176060830185612387565b60208101610fe3828461237e565b60208101610fe38284612387565b60208082528101611ba481846123a1565b60208101610fe382846123d9565b60208082528101610fe381612439565b60208082528101610fe381612486565b60208082528101610fe3816124d7565b60208082528101610fe38161251f565b60208082528101610fe38161256c565b60208082528101610fe3816125d5565b60208082528101610fe381612634565b60208082528101610fe3816126a4565b60208082528101610fe3816126dd565b60208082528101610fe381612716565b60208082528101610fe381612786565b60208082528101610fe3816127d5565b60208082528101610fe38161283f565b60208082528101610fe38161289e565b60208082528101610fe3816128f3565b60208082528101610fe38161292c565b60208082528101610fe381612972565b60208082528101610fe3816129c2565b60208082528101610fe3816129ec565b60208082528101610fe381612a43565b60208082528101610fe381612a6c565b60208082528101610fe381612ab2565b60208082528101610fe381612b04565b60208082528101611ba48184612b5b565b60408101610fe38284612bca565b60808101610fe38284612bee565b60608101612f4b8286612387565b612f58602083018561235e565b61090e6040830184612387565b60608101612f738286612387565b612f806020830185612387565b818103604083015261066c81846123a1565b60405181810167ffffffffffffffff81118282101715612fb157600080fd5b604052919050565b600067ffffffffffffffff821115612fd057600080fd5b506020601f91909101601f19160190565b5190565b90815260200190565b6000610fe382612ffe565b151590565b6001600160a01b031690565b6000610fe382612fee565b6000610fe3826107b6565b82818337506000910152565b60005b8381101561304757818101518382015260200161302f565b83811115610a9a5750506000910152565b6000610fe3826000610fe382613073565b601f01601f191690565b60601b90565b61308281612fee565b811461195557600080fd5b61308281612ff9565b613082816107b656fea365627a7a723158203d0010e2a742523bb98cf322c9fedfb0d76f7fb0ff76cf0859269a54d9cdb7f36c6578706572696d656e74616cf564736f6c63430005100040","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106101da5760003560e01c80639317058611610104578063c13cbb63116100a2578063ee04783011610071578063ee04783014610418578063f0b5b68d1461042b578063f21de1e814610433578063f2fde38b1461043b576101da565b8063c13cbb63146103cc578063c4d66de8146103df578063d7980f94146103f2578063e7d915cf14610405576101da565b8063abba27b5116100de578063abba27b514610380578063b747c91114610393578063bb31eb72146103a6578063bb3acde9146103b9576101da565b8063931705861461033a578063a5456b381461034d578063a8551fd314610360576101da565b80636512f1111161017c5780638cb886fa1161014b5780638cb886fa146102f75780638da5cb5b1461030a5780638f32d59b1461031f57806393001dc314610327576101da565b80636512f111146102a7578063715018a6146102c7578063750e247b146102cf5780637b103999146102e2576101da565b80633163e28a116101b85780633163e28a1461023d5780633db5717014610250578063447a06f51461027057806354fd4d5014610292576101da565b806306f5497e146101df5780631927b6a5146101f457806326eb2fd11461021d575b600080fd5b6101f26101ed366004612155565b61044e565b005b610207610202366004612155565b6104ed565b6040516102149190612f2f565b60405180910390f35b61023061022b366004612155565b61056f565b6040516102149190612d73565b61023061024b366004611fb5565b6105f1565b61026361025e366004612155565b610675565b6040516102149190612f10565b61028361027e366004612065565b610774565b60405161021493929190612f65565b61029a61079a565b6040516102149190612d81565b6102ba6102b5366004612155565b6107b9565b6040516102149190612d65565b6101f2610916565b6102306102dd366004612155565b610984565b6102ea610996565b6040516102149190612d92565b6101f26103053660046120f4565b6109a5565b610312610aa0565b6040516102149190612ccd565b6102ba610aaf565b6101f261033536600461201a565b610ad5565b6102ba610348366004612191565b610b18565b61023061035b366004612249565b610c4d565b61037361036e366004612155565b610eae565b6040516102149190612f21565b61023061038e36600461220f565b610f0d565b6101f26103a136600461220f565b610fe9565b6102306103b436600461209a565b611094565b6102306103c7366004611fb5565b6111c3565b6101f26103da36600461226a565b61123e565b6101f26103ed366004611f97565b6114e7565b61029a610400366004612249565b6115ba565b6101f2610413366004612155565b6115e9565b610230610426366004612249565b6116bb565b610230611913565b610312611919565b6101f2610449366004611f97565b611928565b610456610aaf565b61047b5760405162461bcd60e51b815260040161047290612e80565b60405180910390fd5b60008181526070602052604090205460ff16156104aa5760405162461bcd60e51b815260040161047290612e90565b600081815260706020526040808220805460ff191660011790555182917fefa6c5f47ac2523bb4db18032377bf7fdce0fa9d86eddcae1ca9bba38be615d791a250565b6104f5611cfa565b6104fd610aaf565b6105195760405162461bcd60e51b815260040161047290612e80565b506000818152606d6020908152604091829020825160808101845281546001600160a01b0316815260018201549281019290925260028101549282019290925260039091015460ff16151560608201525b919050565b6000610579610aaf565b6105955760405162461bcd60e51b815260040161047290612e80565b600060015b606a5481116105cd576000818152606d60205260409020600101548414156105c557915061056a9050565b60010161059a565b50806105eb5760405162461bcd60e51b815260040161047290612ee0565b50919050565b60006105fb610aaf565b6106175760405162461bcd60e51b815260040161047290612e80565b600061062583866001611094565b905061066c81858360405160240161063d9190612d73565b60408051601f198184030181529190526020810180516001600160e01b0316636512f11160e01b179052610c4d565b95945050505050565b61067d611d21565b600082815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f81018690048602830186019096528582529194929385810193919291908301828280156107355780601f1061070a57610100808354040283529160200191610735565b820191906000526020600020905b81548152906001019060200180831161071857829003601f168201915b50505091835250506002919091015460ff8082161515602084015261010082048116151560408401526201000090910416151560609091015292915050565b60008060608380602001905161078d9190810190612303565b9196909550909350915050565b60408051808201909152600481526376302e3160e01b60208201525b90565b60006107c3611d21565b600083815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f810186900486028301860190965285825291949293858101939192919083018282801561087b5780601f106108505761010080835404028352916020019161087b565b820191906000526020600020905b81548152906001019060200180831161085e57829003601f168201915b50505091835250506002919091015460ff808216151560208085019190915261010083048216151560408086019190915262010000909304909116151560609093019290925260008681526069909252902054606c549192509084118015906108e5575081604001515b80156108f357508160600151155b801561090e575060008181526070602052604090205460ff16155b949350505050565b61091e610aaf565b61093a5760405162461bcd60e51b815260040161047290612e80565b6033546040516000916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3603380546001600160a01b0319169055565b60009081526071602052604090205490565b6067546001600160a01b031681565b600054610100900460ff16806109be57506109be611958565b806109cc575060005460ff16155b6109e85760405162461bcd60e51b815260040161047290612ea0565b600054610100900460ff16158015610a13576000805460ff1961ff0019909116610100171660011790555b6001600160a01b038316610a395760405162461bcd60e51b815260040161047290612df0565b6001600160a01b038216610a5f5760405162461bcd60e51b815260040161047290612ef0565b6066849055606780546001600160a01b0319166001600160a01b038516179055610a88826114e7565b8015610a9a576000805461ff00191690555b50505050565b6033546001600160a01b031690565b6033546000906001600160a01b0316610ac661195e565b6001600160a01b031614905090565b610a9a83838080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152503392508591506110949050565b6000610b22610aaf565b610b3e5760405162461bcd60e51b815260040161047290612e80565b6000868152606e6020526040902080546001600160a01b0316610b735760405162461bcd60e51b815260040161047290612e30565b610bd48160010154848888808060200260200160405190810160405280939291908181526020016000905b82821015610bca57610bbb60408302860136819003810190612137565b81526020019060010190610b9e565b5050505050611962565b610bf05760405162461bcd60e51b815260040161047290612dd0565b604080518082018252600080825260208083018281528b8352606e909152929020905181546001600160a01b0319166001600160a01b039091161781559051600190910155610c40878585611a0e565b5060019695505050505050565b6000610c57610aaf565b610c735760405162461bcd60e51b815260040161047290612e80565b610c7c84611a8d565b610c985760405162461bcd60e51b815260040161047290612e50565b610ca0611d21565b600085815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f8101869004860283018601909652858252919492938581019391929190830182828015610d585780601f10610d2d57610100808354040283529160200191610d58565b820191906000526020600020905b815481529060010190602001808311610d3b57829003601f168201915b50505091835250506002919091015460ff808216151560208401526101008204811615156040840152620100009091041615156060909101526080810151909150610db55760405162461bcd60e51b815260040161047290612e60565b610dbe85611bab565b6067548151606654602084015160405163a2d4603960e01b81526000946001600160a01b03169363a2d4603993610dfd9391928a928891600401612cdb565b602060405180830381600087803b158015610e1757600080fd5b505af1158015610e2b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610e4f9190810190612173565b9050610e5d81600087611a0e565b60008681526069602052604080822083905583519051839289926001600160a01b0316917f3e5ec6d038fea8aae03ddd86c2882c546a05ea282e753cf085c8213a61a791309190a495945050505050565b610eb6611d50565b610ebe610aaf565b610eda5760405162461bcd60e51b815260040161047290612e80565b506000908152606e6020908152604091829020825180840190935280546001600160a01b03168352600101549082015290565b600080610f1984611bef565b90508015610f395760405162461bcd60e51b815260040161047290612f00565b606a8054600190810191829055604080516080810182523380825260208083018a81528385018a8152600060608601818152898252606d909452868120955186546001600160a01b0319166001600160a01b0390911617865591519685019690965594516002840155516003909201805460ff191692151592909217909155905183927fd18a53554a32a70376b6c223bfb0d84fc24caa3c704ef04eaf1b868e74ee8f6a91a39150505b92915050565b6000828152606e6020526040902080546001600160a01b03161561101f5760405162461bcd60e51b815260040161047290612ec0565b6040805180820182523380825260208083018681526000888152606e909252848220935184546001600160a01b0319166001600160a01b039091161784555160019093019290925591518592917fde442453a4fabb4e6fe9cd90c427b54511e2e7712b8dfe60307a8de6209db0f191a3505050565b606c80546001908101918290556040805160a0810182526001600160a01b0386811682526020808301898152600084860181905260608501819052881515608086015287815260688352948520845181546001600160a01b03191694169390931783555180519496959394929361111393908501929190910190611d67565b506040820151600290910180546060808501516080909501511515620100000262ff0000199515156101000261ff001995151560ff199094169390931794909416919091179390931691909117905561116b86610774565b925050508060405161117d9190612cc1565b6040519081900381209083906001600160a01b038816907f4f043afdb3c4eab4b8ac7438b40e2244d9e936c2ae05175c438cb49e2b796c6a90600090a450949350505050565b60006111cd610aaf565b6111e95760405162461bcd60e51b815260040161047290612e80565b60006111f783866000611094565b905061066c81858360405160240161120f9190612d73565b60408051601f198184030181529190526020810180516001600160e01b0316636512f11160e01b1790526116bb565b611246610aaf565b6112625760405162461bcd60e51b815260040161047290612e80565b6000868152606d60205260409020600381015460ff16156112955760405162461bcd60e51b815260040161047290612da0565b60018101546000908152606f602052604090205460ff16156112c95760405162461bcd60e51b815260040161047290612db0565b80546040516112ea916001600160a01b031690889088908890602001612c38565b604051602081830303815290604052805190602001208160020154146113225760405162461bcd60e51b815260040161047290612e10565b8054604080516020601f88018190048102820181019092528681526113cb926001600160a01b03169189919089908990819084018382808284376000920182905250600189015481526071602090815260408083205481518d8402810184019092528c8252955093508b92508a91829185015b828210156113c1576113b260408302860136819003810190612137565b81526020019060010190611395565b5050505050611c32565b6113e75760405162461bcd60e51b815260040161047290612ed0565b60038101805460ff1916600190811790915560675490820154825460405163020da84160e61b81526001600160a01b039384169363836a1040936114349390929116908b90600401612f3d565b600060405180830381600087803b15801561144e57600080fd5b505af1158015611462573d6000803e3d6000fd5b50505050600181810180546000908152606f60209081526040808320805460ff191690951790945591548082526071909252918220546114a192611a0e565b8054600182015460405188926001600160a01b031691907f5d348ef3cec3f8493cd139d1ee84e4c84f5b987f49646d7dfa226dbe98b770c990600090a450505050505050565b600054610100900460ff16806115005750611500611958565b8061150e575060005460ff16155b61152a5760405162461bcd60e51b815260040161047290612ea0565b600054610100900460ff16158015611555576000805460ff1961ff0019909116610100171660011790555b603380546001600160a01b0319166001600160a01b0384811691909117918290556040519116906000907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a380156115b6576000805461ff00191690555b5050565b60608383836040516020016115d193929190612f65565b60405160208183030381529060405290509392505050565b600081815260686020526040902080546001600160a01b031633146116205760405162461bcd60e51b815260040161047290612de0565b6002810154610100900460ff161561164a5760405162461bcd60e51b815260040161047290612e20565b600281015460ff161561166f5760405162461bcd60e51b815260040161047290612e70565b60028101805461ff001916610100179055805460405183916001600160a01b0316907f2b117599f21d800ddd10552521c610b44ab51d64ac07ae5cb3ee28bbb19946e590600090a35050565b60006116c5610aaf565b6116e15760405162461bcd60e51b815260040161047290612e80565b6116ea84611a8d565b6117065760405162461bcd60e51b815260040161047290612e50565b61170e611d21565b600085815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f81018690048602830186019096528582529194929385810193919291908301828280156117c65780601f1061179b576101008083540402835291602001916117c6565b820191906000526020600020905b8154815290600101906020018083116117a957829003601f168201915b50505091835250506002919091015460ff808216151560208401526101008204811615156040840152620100009091041615156060909101526080810151909150156118245760405162461bcd60e51b815260040161047290612e00565b61182d85611bab565b6067548151606654602084015160405163a2d4603960e01b81526000946001600160a01b03169363a2d460399361186c9391928a928c91600401612d29565b602060405180830381600087803b15801561188657600080fd5b505af115801561189a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506118be9190810190612173565b60008781526069602052604080822083905584519051929350839289926001600160a01b03909216917f3e5ec6d038fea8aae03ddd86c2882c546a05ea282e753cf085c8213a61a7913091a495945050505050565b60665481565b6067546001600160a01b031690565b611930610aaf565b61194c5760405162461bcd60e51b815260040161047290612e80565b61195581611c78565b50565b303b1590565b3390565b600083815b8351811015611a0357611978611d50565b84828151811061198457fe5b602002602001015190508060000151156119ca576020808201516040516119ad92869101612c9b565b6040516020818303038152906040528051906020012092506119fa565b8281602001516040516020016119e1929190612c9b565b6040516020818303038152906040528051906020012092505b50600101611967565b509092149392505050565b6000838152607160205260409020548214611a3b5760405162461bcd60e51b815260040161047290612e40565b6000838152607160205260409081902082905551839033907f20c9608d29cbc79a883dcda48c0f0a9f1babeccea0680f65ef20ce17b06dad1590611a80908590612d73565b60405180910390a3505050565b6000611a97611d21565b600083815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f8101869004860283018601909652858252919492938581019391929190830182828015611b4f5780601f10611b2457610100808354040283529160200191611b4f565b820191906000526020600020905b815481529060010190602001808311611b3257829003601f168201915b50505091835250506002919091015460ff8082161515602084015261010082048116151560408085019190915262010000909204161515606090920191909152810151909150158015611ba457508060600151155b9392505050565b6000818152606860205260409020600281015460ff1615611bde5760405162461bcd60e51b815260040161047290612eb0565b600201805460ff1916600117905550565b60008060015b606a548111611c2b576000818152606d6020526040902060010154841415611c2357506001915061056a9050565b600101611bf5565b5092915050565b600080868686604051602001611c4a93929190612c6f565b604051602081830303815290604052805190602001209050611c6d818585611962565b979650505050505050565b6001600160a01b038116611c9e5760405162461bcd60e51b815260040161047290612dc0565b6033546040516001600160a01b038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3603380546001600160a01b0319166001600160a01b0392909216919091179055565b60408051608081018252600080825260208201819052918101829052606081019190915290565b6040805160a0810182526000808252606060208301819052928201819052918101829052608081019190915290565b604080518082019091526000808252602082015290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611da857805160ff1916838001178555611dd5565b82800160010185558215611dd5579182015b82811115611dd5578251825591602001919060010190611dba565b50611de1929150611de5565b5090565b6107b691905b80821115611de15760008155600101611deb565b8035610fe381613079565b60008083601f840112611e1c57600080fd5b50813567ffffffffffffffff811115611e3457600080fd5b602083019150836040820283011115611e4c57600080fd5b9250929050565b8035610fe38161308d565b8035610fe381613096565b60008083601f840112611e7b57600080fd5b50813567ffffffffffffffff811115611e9357600080fd5b602083019150836001820283011115611e4c57600080fd5b600082601f830112611ebc57600080fd5b8135611ecf611eca82612fb9565b612f92565b91508082526020830160208301858383011115611eeb57600080fd5b611ef6838284613020565b50505092915050565b600082601f830112611f1057600080fd5b8151611f1e611eca82612fb9565b91508082526020830160208301858383011115611f3a57600080fd5b611ef683828461302c565b600060408284031215611f5757600080fd5b611f616040612f92565b90506000611f6f8484611e53565b8252506020611f8084848301611e5e565b60208301525092915050565b8051610fe381613096565b600060208284031215611fa957600080fd5b600061090e8484611dff565b600080600060608486031215611fca57600080fd5b6000611fd68686611dff565b9350506020611fe786828701611e5e565b925050604084013567ffffffffffffffff81111561200457600080fd5b61201086828701611eab565b9150509250925092565b60008060006040848603121561202f57600080fd5b833567ffffffffffffffff81111561204657600080fd5b61205286828701611e69565b9350935050602061201086828701611e53565b60006020828403121561207757600080fd5b813567ffffffffffffffff81111561208e57600080fd5b61090e84828501611eab565b6000806000606084860312156120af57600080fd5b833567ffffffffffffffff8111156120c657600080fd5b6120d286828701611eab565b93505060206120e386828701611dff565b925050604061201086828701611e53565b60008060006060848603121561210957600080fd5b60006121158686611e5e565b935050602061212686828701611dff565b925050604061201086828701611dff565b60006040828403121561214957600080fd5b600061090e8484611f45565b60006020828403121561216757600080fd5b600061090e8484611e5e565b60006020828403121561218557600080fd5b600061090e8484611f8c565b6000806000806000608086880312156121a957600080fd5b60006121b58888611e5e565b955050602086013567ffffffffffffffff8111156121d257600080fd5b6121de88828901611e0a565b945094505060406121f188828901611e5e565b925050606061220288828901611e5e565b9150509295509295909350565b6000806040838503121561222257600080fd5b600061222e8585611e5e565b925050602061223f85828601611e5e565b9150509250929050565b60008060006060848603121561225e57600080fd5b6000611fd68686611e5e565b6000806000806000806080878903121561228357600080fd5b600061228f8989611e5e565b96505060206122a089828a01611e5e565b955050604087013567ffffffffffffffff8111156122bd57600080fd5b6122c989828a01611e69565b9450945050606087013567ffffffffffffffff8111156122e857600080fd5b6122f489828a01611e0a565b92509250509295509295509295565b60008060006060848603121561231857600080fd5b60006123248686611f8c565b935050602061233586828701611f8c565b925050604084015167ffffffffffffffff81111561235257600080fd5b61201086828701611eff565b61236781612fee565b82525050565b61236761237982612fee565b613058565b61236781612ff9565b612367816107b6565b61236761239c826107b6565b6107b6565b60006123ac82612fe1565b6123b68185612fe5565b93506123c681856020860161302c565b6123cf81613069565b9093019392505050565b6123678161300a565b61236781613015565b60006123f7838561056a565b9350612404838584613020565b50500190565b600061241582612fe1565b61241f818561056a565b935061242f81856020860161302c565b9290920192915050565b6000612446602b83612fe5565b7f6d696772617465546f5075626c696328293a205265717565737420616c72656181526a191e48185c1c1c9bdd995960aa1b602082015260400192915050565b6000612493602f83612fe5565b7f6d696772617465546f5075626c696328293a206365727469666963617465206181526e1b1c9958591e481b5a59dc985d1959608a1b602082015260400192915050565b60006124e4602683612fe5565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206181526564647265737360d01b602082015260400192915050565b600061252c602b83612fe5565b7f617070726f7665507269766174655472616e7366657228293a2057726f6e672081526a6d65726b6c65207472656560a81b602082015260400192915050565b6000612579604183612fe5565b7f7265766f6b655265717565737428293a204f6e6c79207468652072657175657381527f742063726561746f722063616e207265766f6b652074686520726571756573746020820152601760f91b604082015260600192915050565b60006125e2603783612fe5565b7f696e697469616c697a653a2043616e6e6f74207573652061646472657373203081527f783020617320726567697374727920616464726573732e000000000000000000602082015260400192915050565b6000612641604883612fe5565b7f43657274696669636174696f6e5265717565737428293a20706c65617365207581527f736520636f6d6d69746d656e747320666f7220707269766174652063657274696020820152673334b1b0ba34b7b760c11b604082015260600192915050565b60006126b1601d83612fe5565b7f526571756573746564206861736820646f6573206e6f74206d61746368000000815260200192915050565b60006126ea602083612fe5565b7f7265766f6b655265717565737428293a20416c7265616479207265766f6b6564815260200192915050565b6000612723604883612fe5565b7f617070726f7665507269766174655472616e7366657228293a2043616e27742081527f617070726f76652061206e6f6e2d6578697374696e67207072697661746520746020820152673930b739b332b91760c11b604082015260600192915050565b6000612793602d83612fe5565b7f757064617465436f6d6d69746d656e743a2070726576696f757320636f6d6d6981526c1d1b595b9d081a5b9d985b1a59609a1b602082015260400192915050565b60006127e2604283612fe5565b7f617070726f766543657274696669636174696f6e5265717565737428293a207281527f65717565737420616c726561647920617070726f766564206f72207265766f6b602082015261195960f21b604082015260600192915050565b600061284c603c83612fe5565b7f617070726f76653a2063616e277420617070726f7665207075626c696320636581527f72746966696361746573207573696e6720636f6d6d69746d656e747300000000602082015260400192915050565b60006128ab603383612fe5565b7f7265766f6b655265717565737428293a20596f752063616e2774207265766f6b8152726520617070726f76656420726571756573747360681b602082015260400192915050565b6000612900602083612fe5565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572815260200192915050565b6000612939602483612fe5565b7f7265766f6b65436572746966696361746528293a20416c7265616479207265768152631bdad95960e21b602082015260400192915050565b600061297f602e83612fe5565b7f436f6e747261637420696e7374616e63652068617320616c726561647920626581526d195b881a5b9a5d1a585b1a5e995960921b602082015260400192915050565b60006129cf600e83612fe5565b6d105b1c9958591e481a5cdcdd595960921b815260200192915050565b60006129f9603583612fe5565b7f4f6e6c79206f6e652070726976617465207472616e736665722063616e206265815274103932b8bab2b9ba32b21030ba1030903a34b6b29760591b602082015260400192915050565b6000612a50600d83612fe5565b6c24b73b30b634b210383937b7b360991b815260200192915050565b6000612a79602483612fe5565b7f756e61626c6520746f2066696e6420746865206d6967726174696f6e207265718152631d595cdd60e21b602082015260400192915050565b6000612abf603083612fe5565b7f696e697469616c697a653a2043616e6e6f74207573652061646472657373203081526f3c181030b9903a34329037bbb732b91760811b602082015260400192915050565b6000612b11603583612fe5565b7f6d6967726174696f6e207265717565737420666f72207468697320636572746981527466696361746520616c72656164792065786973747360581b602082015260400192915050565b805160009060a0840190612b6f858261235e565b5060208301518482036020860152612b8782826123a1565b9150506040830151612b9c604086018261237e565b506060830151612baf606086018261237e565b506080830151612bc2608086018261237e565b509392505050565b80516040830190612bdb848261235e565b506020820151610a9a6020850182612387565b80516080830190612bff848261235e565b506020820151612c126020850182612387565b506040820151612c256040850182612387565b506060820151610a9a606085018261237e565b6000612c44828761236d565b601482019150612c548286612390565b602082019150612c658284866123eb565b9695505050505050565b6000612c7b828661236d565b601482019150612c8b8285612390565b60208201915061066c828461240a565b6000612ca78285612390565b602082019150612cb78284612390565b5060200192915050565b6000611ba4828461240a565b60208101610fe3828461235e565b60a08101612ce9828861235e565b8181036020830152612cfb81876123a1565b9050612d0a6040830186612387565b612d1760608301856123e2565b8181036080830152611c6d81846123a1565b60a08101612d37828861235e565b8181036020830152612d4981876123a1565b9050612d586040830186612387565b612d176060830185612387565b60208101610fe3828461237e565b60208101610fe38284612387565b60208082528101611ba481846123a1565b60208101610fe382846123d9565b60208082528101610fe381612439565b60208082528101610fe381612486565b60208082528101610fe3816124d7565b60208082528101610fe38161251f565b60208082528101610fe38161256c565b60208082528101610fe3816125d5565b60208082528101610fe381612634565b60208082528101610fe3816126a4565b60208082528101610fe3816126dd565b60208082528101610fe381612716565b60208082528101610fe381612786565b60208082528101610fe3816127d5565b60208082528101610fe38161283f565b60208082528101610fe38161289e565b60208082528101610fe3816128f3565b60208082528101610fe38161292c565b60208082528101610fe381612972565b60208082528101610fe3816129c2565b60208082528101610fe3816129ec565b60208082528101610fe381612a43565b60208082528101610fe381612a6c565b60208082528101610fe381612ab2565b60208082528101610fe381612b04565b60208082528101611ba48184612b5b565b60408101610fe38284612bca565b60808101610fe38284612bee565b60608101612f4b8286612387565b612f58602083018561235e565b61090e6040830184612387565b60608101612f738286612387565b612f806020830185612387565b818103604083015261066c81846123a1565b60405181810167ffffffffffffffff81118282101715612fb157600080fd5b604052919050565b600067ffffffffffffffff821115612fd057600080fd5b506020601f91909101601f19160190565b5190565b90815260200190565b6000610fe382612ffe565b151590565b6001600160a01b031690565b6000610fe382612fee565b6000610fe3826107b6565b82818337506000910152565b60005b8381101561304757818101518382015260200161302f565b83811115610a9a5750506000910152565b6000610fe3826000610fe382613073565b601f01601f191690565b60601b90565b61308281612fee565b811461195557600080fd5b61308281612ff9565b613082816107b656fea365627a7a723158203d0010e2a742523bb98cf322c9fedfb0d76f7fb0ff76cf0859269a54d9cdb7f36c6578706572696d656e74616cf564736f6c63430005100040","sourceMap":"230:13161:7:-;;;;;;;;;","deployedSourceMap":"230:13161:7:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;230:13161:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4438:274;;;;;;;;;:::i;:::-;;9283:171;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;9460:404;;;;;;;;;:::i;:::-;;;;;;;;6785:374;;;;;;;;;:::i;2528:160::-;;;;;;;;;:::i;:::-;;;;;;;;11059:142;;;;;;;;;:::i;:::-;;;;;;;;;;12084:87;;;:::i;:::-;;;;;;;;3508:396;;;;;;;;;:::i;:::-;;;;;;;;1746:137:13;;;:::i;2694:134:7:-;;;;;;;;;:::i;1057:24::-;;;:::i;:::-;;;;;;;;2068:420;;;;;;;;;:::i;959:77:13:-;;;:::i;:::-;;;;;;;;1310:92;;;:::i;3357:145:7:-;;;;;;;;;:::i;7699:770::-;;;;;;;;;:::i;5903:876::-;;;;;;;;;:::i;9088:189::-;;;;;;;;;:::i;:::-;;;;;;;;8528:554;;;;;;;;;:::i;7189:507::-;;;;;;;;;:::i;2834:517::-;;;;;;;;;:::i;5546:351::-;;;;;;;;;:::i;9867:1019::-;;;;;;;;;:::i;741:142:13:-;;;;;;;;;:::i;10906:150:7:-;;;;;;;;;:::i;3910:522::-;;;;;;;;;:::i;4718:822::-;;;;;;;;;:::i;1024:27::-;;;:::i;11975:103::-;;;:::i;2032:107:13:-;;;;;;;;;:::i;4438:274:7:-;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;;;;;;;;;4527:35:7;;;;:19;:35;;;;;;;;4526:36;4518:85;;;;-1:-1:-1;;;4518:85:7;;;;;;;;;4613:35;;;;:19;:35;;;;;;:42;;-1:-1:-1;;4613:42:7;4651:4;4613:42;;;4671:34;4633:14;;4671:34;;;4438:274;:::o;9283:171::-;9362:25;;:::i;:::-;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;-1:-1:-1;9406:41:7;;;;:29;:41;;;;;;;;;9399:48;;;;;;;;;-1:-1:-1;;;;;9399:48:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1219:1:13;9283:171:7;;;:::o;9460:404::-;9545:7;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;9564:10:7;9601:1;9587:206;9609:27;;9604:1;:32;9587:206;;9661:32;;;;:29;:32;;;;;:46;;;:64;;9657:132;;;9773:1;-1:-1:-1;9766:8:7;;-1:-1:-1;9766:8:7;9657:132;9638:3;;9587:206;;;;9811:5;9803:54;;;;-1:-1:-1;;;9803:54:7;;;;;;;;;1219:1:13;9460:404:7;;;:::o;6785:374::-;6887:7;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;6906:17:7;6926:41;6950:5;6957:3;6962:4;6926:23;:41::i;:::-;6906:61;;6985:167;7033:9;7056:11;7132:9;7081:61;;;;;;;;;;;;;-1:-1:-1;;26:21;;;22:32;6:49;;7081:61:7;;;49:4:-1;25:18;;61:17;;-1:-1;;;;;182:15;-1:-1;;;179:29;160:49;;6985:34:7;:167::i;:::-;6978:174;6785:374;-1:-1:-1;;;;;6785:374:7:o;2528:160::-;2602:27;;:::i;:::-;2648:33;;;;:21;:33;;;;;;;;;2641:40;;;;;;;;;-1:-1:-1;;;;;2641:40:7;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;2641:40:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;2648:33;;2641:40;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;2641:40:7;;;-1:-1:-1;;2641:40:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2528:160;-1:-1:-1;;2528:160:7:o;11059:142::-;11120:4;11126;11132:13;11169:5;11158:39;;;;;;;;;;;;;;11151:46;;;;-1:-1:-1;11151:46:7;;-1:-1:-1;11059:142:7;-1:-1:-1;;11059:142:7:o;12084:87::-;12151:13;;;;;;;;;;;;-1:-1:-1;;;12151:13:7;;;;12084:87;;:::o;3508:396::-;3575:4;3591:35;;:::i;:::-;3629:33;;;;:21;:33;;;;;;;;;3591:71;;;;;;;;;-1:-1:-1;;;;;3591:71:7;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;3591:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;3629:33;;3591:71;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;3591:71:7;;;-1:-1:-1;;3591:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3693:32;;;:20;:32;;;;;;3757:25;;3591:71;;-1:-1:-1;3693:32:7;3743:39;;;;;:71;;;3798:7;:16;;;3743:71;:103;;;;;3831:7;:15;;;3830:16;3743:103;:154;;;;-1:-1:-1;3863:34:7;;;;:19;:34;;;;;;;;3862:35;3743:154;3736:161;3508:396;-1:-1:-1;;;;3508:396:7:o;1746:137:13:-;1163:9;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;1828:6;;1807:40;;1844:1;;-1:-1:-1;;;;;1828:6:13;;1807:40;;1844:1;;1807:40;1857:6;:19;;-1:-1:-1;;;;;;1857:19:13;;;1746:137::o;2694:134:7:-;2769:7;2795:26;;;:11;:26;;;;;;;2694:134::o;1057:24::-;;;-1:-1:-1;;;;;1057:24:7;;:::o;2068:420::-;1024:12:14;;;;;;;;:31;;;1040:15;:13;:15::i;:::-;1024:47;;;-1:-1:-1;1060:11:14;;;;1059:12;1024:47;1016:106;;;;-1:-1:-1;;;1016:106:14;;;;;;;;;1129:19;1152:12;;;;;;1151:13;1170:80;;;;1198:12;:19;;-1:-1:-1;;;;1198:19:14;;;;;1225:18;1213:4;1225:18;;;1170:80;-1:-1:-1;;;;;2183:23:7;;2175:91;;;;-1:-1:-1;;;2175:91:7;;;;;;;;;-1:-1:-1;;;;;2284:20:7;;2276:81;;;;-1:-1:-1;;;2276:81:7;;;;;;;;;2368:16;:36;;;2415:8;:30;;-1:-1:-1;;;;;;2415:30:7;-1:-1:-1;;;;;2415:30:7;;;;;2455:26;2474:6;2455:18;:26::i;:::-;1268:14:14;1264:55;;;1307:5;1292:20;;-1:-1:-1;;1292:20:14;;;1264:55;2068:420:7;;;;:::o;959:77:13:-;1023:6;;-1:-1:-1;;;;;1023:6:13;959:77;:::o;1310:92::-;1389:6;;1350:4;;-1:-1:-1;;;;;1389:6:13;1373:12;:10;:12::i;:::-;-1:-1:-1;;;;;1373:22:13;;1366:29;;1310:92;:::o;3357:145:7:-;3443:52;3467:5;;3443:52;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;3474:10:7;;-1:-1:-1;3486:8:7;;-1:-1:-1;3443:23:7;;-1:-1:-1;3443:52:7:i;7699:770::-;7896:4;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;7906:45:7;7954;;;:29;:45;;;;;8018:20;;-1:-1:-1;;;;;8018:20:7;8010:121;;;;-1:-1:-1;;;8010:121:7;;;;;;;;;8143:56;8158:14;:19;;;8179:11;8192:6;;8143:56;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:14;:56::i;:::-;8135:112;;;;-1:-1:-1;;;8135:112:7;;;;;;;;;8306:65;;;;;;;;-1:-1:-1;8306:65:7;;;;;;;;;;8258:45;;;:29;:45;;;;;;:113;;;;-1:-1:-1;;;;;;8258:113:7;-1:-1:-1;;;;;8258:113:7;;;;;;;;-1:-1:-1;8258:113:7;;;;8376:67;8258:45;8410:19;8431:11;8376:17;:67::i;:::-;-1:-1:-1;8461:4:7;;7699:770;-1:-1:-1;;;;;;7699:770:7:o;5903:876::-;6072:7;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;6099:40:7;6128:10;6099:28;:40::i;:::-;6091:119;;;;-1:-1:-1;;;6091:119:7;;;;;;;;;6221:35;;:::i;:::-;6259:33;;;;:21;:33;;;;;;;;;6221:71;;;;;;;;;-1:-1:-1;;;;;6221:71:7;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;6221:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;6259:33;;6221:71;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;6221:71:7;;;-1:-1:-1;;6221:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6310:17;;;;6221:71;;-1:-1:-1;6302:90:7;;;;-1:-1:-1;;;6302:90:7;;;;;;;;;6403:20;6412:10;6403:8;:20::i;:::-;6458:8;;6473:13;;6503:16;;6524:12;;;;6458:79;;-1:-1:-1;;;6458:79:7;;6434:21;;-1:-1:-1;;;;;6458:8:7;;:14;;:79;;6473:13;;6488;;6434:21;;6458:79;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6458:79:7;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;6458:79:7;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;6458:79:7;;;;;;;;;6434:103;-1:-1:-1;6547:50:7;6434:103;6580:3;6585:11;6547:17;:50::i;:::-;6607:32;;;;:20;:32;;;;;;:48;;;6700:13;;6671:70;;6642:13;;6628:10;;-1:-1:-1;;;;;6671:70:7;;;;6607:32;6671:70;6759:13;5903:876;-1:-1:-1;;;;;5903:876:7:o;9088:189::-;9177:29;;:::i;:::-;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;-1:-1:-1;9225:45:7;;;;:29;:45;;;;;;;;;9218:52;;;;;;;;;;-1:-1:-1;;;;;9218:52:7;;;;;;;;;;;9088:189::o;8528:554::-;8633:7;8652:11;8666:39;8690:14;8666:23;:39::i;:::-;8652:53;;8724:6;8723:7;8715:73;;;;-1:-1:-1;;;8715:73:7;;;;;;;;;8808:27;8806:29;;;;;;;;;;8876:132;;;;;;;;8907:10;8876:132;;;;;;;;;;;;;;;;-1:-1:-1;8876:132:7;;;;;;8840:33;;;:29;:33;;;;;;:168;;;;-1:-1:-1;;;;;;8840:168:7;-1:-1:-1;;;;;8840:168:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;8840:168:7;;;;;;;;;;;9018:40;;8806:29;;9018:40;;;9076:2;-1:-1:-1;;8528:554:7;;;;;:::o;7189:507::-;7289:45;7337;;;:29;:45;;;;;7401:20;;-1:-1:-1;;;;;7401:20:7;:36;7393:102;;;;-1:-1:-1;;;7393:102:7;;;;;;;;;7548:82;;;;;;;;7583:10;7548:82;;;;;;;;;;-1:-1:-1;7500:45:7;;;:29;:45;;;;;;:130;;;;-1:-1:-1;;;;;;7500:130:7;-1:-1:-1;;;;;7500:130:7;;;;;;;-1:-1:-1;7500:130:7;;;;;;;7640:52;;7500:45;;7583:10;7640:52;;;7189:507;;;:::o;2834:517::-;2968:25;2966:27;;;;;;;;;;3032:174;;;;;;;;-1:-1:-1;;;;;3032:174:7;;;;;;;;;;;;-1:-1:-1;3032:174:7;;;;;;;;;;;;;;;;;;;3004:25;;;:21;:25;;;;;:202;;;;-1:-1:-1;;;;;;3004:202:7;;;;;;;;;;;;-1:-1:-1;;2966:27:7;3032:174;;3004:25;;:202;;;;;;;;;;;;:::i;:::-;-1:-1:-1;3004:202:7;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;3004:202:7;;;;;-1:-1:-1;;3004:202:7;;;-1:-1:-1;;3004:202:7;;;;;;;;;;;;;;;;;;;;;;;;;3247:17;3258:5;3247:10;:17::i;:::-;3217:47;;;;3315:8;3280:44;;;;;;;;;;;;;;;;;3311:2;;-1:-1:-1;;;;;3280:44:7;;;;;;;;-1:-1:-1;3342:2:7;2834:517;-1:-1:-1;;;;2834:517:7:o;5546:351::-;5636:7;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;5655:17:7;5675:42;5699:5;5706:3;5711:5;5675:23;:42::i;:::-;5655:62;;5735:155;5776:9;5799:6;5870:9;5819:61;;;;;;;;;;;;;-1:-1:-1;;26:21;;;22:32;6:49;;5819:61:7;;;49:4:-1;25:18;;61:17;;-1:-1;;;;;182:15;-1:-1;;;179:29;160:49;;5735:27:7;:155::i;9867:1019::-;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;10038:34:7;10075:41;;;:29;:41;;;;;10130:16;;;;;;10129:17;10121:73;;;;-1:-1:-1;;;10121:73:7;;;;;;;;;10224:21;;;;10213:33;;;;:10;:33;;;;;;;;10212:34;10204:94;;;;-1:-1:-1;;;10204:94:7;;;;;;;;;10353:13;;10336:47;;;;-1:-1:-1;;;;;10353:13:7;;10368:7;;10377:5;;;;10336:47;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;10336:47:7;;;10326:58;;;;;;10310:7;:12;;;:74;10302:116;;;;-1:-1:-1;;;10302:116:7;;;;;;;;;10459:13;;10436:97;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;10459:13:7;;10474:7;;10436:97;10483:5;;;;;;10436:97;;10483:5;;;;10436:97;1:33:-1;99:1;81:16;;74:27;;;-1:-1;10502:21:7;;;;10490:34;;:11;:34;;;;;;;;;10436:97;;;;;;;;;;;;;;;10490:34;-1:-1:-1;10436:97:7;-1:-1:-1;10526:6:7;;-1:-1:-1;10526:6:7;;;;10436:97;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:22;:97::i;:::-;10428:123;;;;-1:-1:-1;;;10428:123:7;;;;;;;;;10556:16;;;:23;;-1:-1:-1;;10556:23:7;10575:4;10556:23;;;;;;10590:8;;10604:21;;;;10627:13;;10590:60;;-1:-1:-1;;;10590:60:7;;-1:-1:-1;;;;;10590:8:7;;;;:13;;:60;;10604:21;;10627:13;;;10642:7;;10590:60;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;10590:60:7;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;;;10696:4:7;10671:21;;;;;10660:33;;;;:10;:33;;;;;;;;:40;;-1:-1:-1;;10660:40:7;;;;;;;10729:21;;10752:34;;;:11;:34;;;;;;;10711:81;;:17;:81::i;:::-;10859:13;;;10836:21;;;10808:74;;10874:7;;-1:-1:-1;;;;;10859:13:7;;10836:21;10808:74;;10859:13;;10808:74;1219:1:13;9867:1019:7;;;;;;:::o;741:142:13:-;1024:12:14;;;;;;;;:31;;;1040:15;:13;:15::i;:::-;1024:47;;;-1:-1:-1;1060:11:14;;;;1059:12;1024:47;1016:106;;;;-1:-1:-1;;;1016:106:14;;;;;;;;;1129:19;1152:12;;;;;;1151:13;1170:80;;;;1198:12;:19;;-1:-1:-1;;;;1198:19:14;;;;;1225:18;1213:4;1225:18;;;1170:80;806:6:13;:15;;-1:-1:-1;;;;;;806:15:13;-1:-1:-1;;;;;806:15:13;;;;;;;;;;;836:40;;869:6;;;-1:-1:-1;;836:40:13;;-1:-1:-1;;836:40:13;1268:14:14;1264:55;;;1307:5;1292:20;;-1:-1:-1;;1292:20:14;;;1264:55;741:142:13;;:::o;10906:150:7:-;10994:12;11030:5;11037:3;11042:9;11019:33;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;11019:33:7;;;11012:40;;10906:150;;;;;:::o;3910:522::-;3972:36;4011:33;;;:21;:33;;;;;4077:13;;-1:-1:-1;;;;;4077:13:7;4063:10;:27;4055:105;;;;-1:-1:-1;;;4055:105:7;;;;;;;;;4179:15;;;;;;;;;4178:16;4170:61;;;;-1:-1:-1;;;4170:61:7;;;;;;;;;4250:16;;;;;;4249:17;4241:81;;;;-1:-1:-1;;;4241:81:7;;;;;;;;;4333:15;;;:22;;-1:-1:-1;;4333:22:7;;;;;4399:13;;4371:54;;4414:10;;-1:-1:-1;;;;;4399:13:7;;4371:54;;4333:22;;4371:54;3910:522;;:::o;4718:822::-;4875:7;1163:9:13;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;4902:40:7;4931:10;4902:28;:40::i;:::-;4894:119;;;;-1:-1:-1;;;4894:119:7;;;;;;;;;5024:35;;:::i;:::-;5062:33;;;;:21;:33;;;;;;;;;5024:71;;;;;;;;;-1:-1:-1;;;;;5024:71:7;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;5024:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;5062:33;;5024:71;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;5024:71:7;;;-1:-1:-1;;5024:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5114:17;;;;5024:71;;-1:-1:-1;5113:18:7;5105:103;;;;-1:-1:-1;;;5105:103:7;;;;;;;;;5219:20;5228:10;5219:8;:20::i;:::-;5274:8;;5289:13;;5319:16;;5345:12;;;;5274:84;;-1:-1:-1;;;5274:84:7;;5250:21;;-1:-1:-1;;;;;5274:8:7;;:14;;:84;;5289:13;;5304;;5337:6;;5274:84;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5274:84:7;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5274:84:7;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;5274:84:7;;;;;;;;;5368:32;;;;:20;:32;;;;;;:48;;;5461:13;;5432:70;;5250:108;;-1:-1:-1;5250:108:7;;5389:10;;-1:-1:-1;;;;;5432:70:7;;;;;;;5520:13;4718:822;-1:-1:-1;;;;;4718:822:7:o;1024:27::-;;;;:::o;11975:103::-;12062:8;;-1:-1:-1;;;;;12062:8:7;11975:103;:::o;2032:107:13:-;1163:9;:7;:9::i;:::-;1155:54;;;;-1:-1:-1;;;1155:54:13;;;;;;;;;2104:28;2123:8;2104:18;:28::i;:::-;2032:107;:::o;1409:498:14:-;1820:4;1864:17;1895:7;1409:498;:::o;867:96:9:-;946:10;867:96;:::o;11553:400:7:-;11660:4;11685:9;11660:4;11699:222;11723:6;:13;11719:1;:17;11699:222;;;11748:14;;:::i;:::-;11765:6;11772:1;11765:9;;;;;;;;;;;;;;11748:26;;11783:1;:6;;;11779:138;;;11831:6;;;;;11814:30;;;;11839:4;;11814:30;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;11814:30:7;;;11804:41;;;;;;11797:48;;11779:138;;;11897:4;11903:1;:6;;;11880:30;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;11880:30:7;;;11870:41;;;;;;11863:48;;11779:138;-1:-1:-1;11738:3:7;;11699:222;;;-1:-1:-1;11932:17:7;;;;11553:400;-1:-1:-1;;;11553:400:7:o;12486:295::-;12596:16;;;;:11;:16;;;;;;:39;;12588:97;;;;-1:-1:-1;;;12588:97:7;;;;;;;;;12690:16;;;;:11;:16;;;;;;;:30;;;12730:47;12702:3;;12748:10;;12730:47;;;;12709:11;;12730:47;;;;;;;;;;12486:295;;;:::o;13160:229::-;13240:4;13256:35;;:::i;:::-;13294:33;;;;:21;:33;;;;;;;;;13256:71;;;;;;;;;-1:-1:-1;;;;;13256:71:7;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;13256:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;13294:33;;13256:71;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;13256:71:7;;;-1:-1:-1;;13256:71:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;13346:16;;;13256:71;;-1:-1:-1;13345:17:7;:37;;;;;13367:7;:15;;;13366:16;13345:37;13338:44;13160:229;-1:-1:-1;;;13160:229:7:o;12204:279::-;12260:36;12299:33;;;:21;:33;;;;;12351:16;;;;;;12350:17;12342:44;;;;-1:-1:-1;;;12342:44:7;;;;;;;;;12453:16;;:23;;-1:-1:-1;;12453:23:7;12472:4;12453:23;;;-1:-1:-1;12204:279:7:o;12787:367::-;12863:4;;12917:1;12903:221;12925:27;;12920:1;:32;12903:221;;12977:32;;;;:29;:32;;;;;:46;;;:64;;12973:147;;;-1:-1:-1;13070:4:7;;-1:-1:-1;13092:13:7;;-1:-1:-1;13092:13:7;12973:147;12954:3;;12903:221;;;-1:-1:-1;13141:6:7;12787:367;-1:-1:-1;;12787:367:7:o;11204:346::-;11404:4;11414:16;11460:13;11475:7;11484:5;11443:47;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;11443:47:7;;;11433:58;;;;;;11414:77;;11503:43;11518:8;11528:9;11539:6;11503:14;:43::i;:::-;11496:50;11204:346;-1:-1:-1;;;;;;;11204:346:7:o;2240:225:13:-;-1:-1:-1;;;;;2313:22:13;;2305:73;;;;-1:-1:-1;;;2305:73:13;;;;;;;;;2414:6;;2393:38;;-1:-1:-1;;;;;2393:38:13;;;;2414:6;;2393:38;;2414:6;;2393:38;2441:6;:17;;-1:-1:-1;;;;;;2441:17:13;-1:-1:-1;;;;;2441:17:13;;;;;;;;;;2240:225::o;230:13161:7:-;;;;;;;;;-1:-1:-1;230:13161:7;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;-1:-1:-1;230:13161:7;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;-1:-1:-1;230:13161:7;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;230:13161:7;;;-1:-1:-1;230:13161:7;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;5:130:-1;72:20;;97:33;72:20;97:33;;172:373;;;323:3;316:4;308:6;304:17;300:27;290:2;;341:1;338;331:12;290:2;-1:-1;361:20;;401:18;390:30;;387:2;;;433:1;430;423:12;387:2;467:4;459:6;455:17;443:29;;518:3;510:4;502:6;498:17;488:8;484:32;481:41;478:2;;;535:1;532;525:12;478:2;283:262;;;;;;553:124;617:20;;642:30;617:20;642:30;;684:130;751:20;;776:33;751:20;776:33;;835:336;;;949:3;942:4;934:6;930:17;926:27;916:2;;967:1;964;957:12;916:2;-1:-1;987:20;;1027:18;1016:30;;1013:2;;;1059:1;1056;1049:12;1013:2;1093:4;1085:6;1081:17;1069:29;;1144:3;1136:4;1128:6;1124:17;1114:8;1110:32;1107:41;1104:2;;;1161:1;1158;1151:12;1180:440;;1281:3;1274:4;1266:6;1262:17;1258:27;1248:2;;1299:1;1296;1289:12;1248:2;1336:6;1323:20;1358:64;1373:48;1414:6;1373:48;;;1358:64;;;1349:73;;1442:6;1435:5;1428:21;1478:4;1470:6;1466:17;1511:4;1504:5;1500:16;1546:3;1537:6;1532:3;1528:16;1525:25;1522:2;;;1563:1;1560;1553:12;1522:2;1573:41;1607:6;1602:3;1597;1573:41;;;1241:379;;;;;;;;2124:436;;2233:3;2226:4;2218:6;2214:17;2210:27;2200:2;;2251:1;2248;2241:12;2200:2;2281:6;2275:13;2303:61;2318:45;2356:6;2318:45;;2303:61;2294:70;;2384:6;2377:5;2370:21;2420:4;2412:6;2408:17;2453:4;2446:5;2442:16;2488:3;2479:6;2474:3;2470:16;2467:25;2464:2;;;2505:1;2502;2495:12;2464:2;2515:39;2547:6;2542:3;2537;2515:39;;3045:458;;3153:4;3141:9;3136:3;3132:19;3128:30;3125:2;;;3171:1;3168;3161:12;3125:2;3189:20;3204:4;3189:20;;;3180:29;-1:-1;3259:1;3291:46;3333:3;3313:9;3291:46;;;3266:72;;-1:-1;3399:2;3432:49;3477:3;3453:22;;;3432:49;;;3425:4;3418:5;3414:16;3407:75;3359:134;3119:384;;;;;3647:134;3725:13;;3743:33;3725:13;3743:33;;3788:241;;3892:2;3880:9;3871:7;3867:23;3863:32;3860:2;;;3908:1;3905;3898:12;3860:2;3943:1;3960:53;4005:7;3985:9;3960:53;;4036:595;;;;4183:2;4171:9;4162:7;4158:23;4154:32;4151:2;;;4199:1;4196;4189:12;4151:2;4234:1;4251:53;4296:7;4276:9;4251:53;;;4241:63;;4213:97;4341:2;4359:53;4404:7;4395:6;4384:9;4380:22;4359:53;;;4349:63;;4320:98;4477:2;4466:9;4462:18;4449:32;4501:18;4493:6;4490:30;4487:2;;;4533:1;4530;4523:12;4487:2;4553:62;4607:7;4598:6;4587:9;4583:22;4553:62;;;4543:72;;4428:193;4145:486;;;;;;5240:484;;;;5377:2;5365:9;5356:7;5352:23;5348:32;5345:2;;;5393:1;5390;5383:12;5345:2;5428:31;;5479:18;5468:30;;5465:2;;;5511:1;5508;5501:12;5465:2;5539:64;5595:7;5586:6;5575:9;5571:22;5539:64;;;5529:74;;;;5407:202;5640:2;5658:50;5700:7;5691:6;5680:9;5676:22;5658:50;;5731:345;;5844:2;5832:9;5823:7;5819:23;5815:32;5812:2;;;5860:1;5857;5850:12;5812:2;5895:31;;5946:18;5935:30;;5932:2;;;5978:1;5975;5968:12;5932:2;5998:62;6052:7;6043:6;6032:9;6028:22;5998:62;;6083:589;;;;6227:2;6215:9;6206:7;6202:23;6198:32;6195:2;;;6243:1;6240;6233:12;6195:2;6278:31;;6329:18;6318:30;;6315:2;;;6361:1;6358;6351:12;6315:2;6381:62;6435:7;6426:6;6415:9;6411:22;6381:62;;;6371:72;;6257:192;6480:2;6498:53;6543:7;6534:6;6523:9;6519:22;6498:53;;;6488:63;;6459:98;6588:2;6606:50;6648:7;6639:6;6628:9;6624:22;6606:50;;6679:489;;;;6816:2;6804:9;6795:7;6791:23;6787:32;6784:2;;;6832:1;6829;6822:12;6784:2;6867:1;6884:52;6928:7;6908:9;6884:52;;;6874:62;;6846:96;6973:2;6991:53;7036:7;7027:6;7016:9;7012:22;6991:53;;;6981:63;;6952:98;7081:2;7099:53;7144:7;7135:6;7124:9;7120:22;7099:53;;7175:279;;7298:2;7286:9;7277:7;7273:23;7269:32;7266:2;;;7314:1;7311;7304:12;7266:2;7349:1;7366:72;7430:7;7410:9;7366:72;;7461:241;;7565:2;7553:9;7544:7;7540:23;7536:32;7533:2;;;7581:1;7578;7571:12;7533:2;7616:1;7633:53;7678:7;7658:9;7633:53;;7709:263;;7824:2;7812:9;7803:7;7799:23;7795:32;7792:2;;;7840:1;7837;7830:12;7792:2;7875:1;7892:64;7948:7;7928:9;7892:64;;7979:815;;;;;;8190:3;8178:9;8169:7;8165:23;8161:33;8158:2;;;8207:1;8204;8197:12;8158:2;8242:1;8259:53;8304:7;8284:9;8259:53;;;8249:63;;8221:97;8377:2;8366:9;8362:18;8349:32;8401:18;8393:6;8390:30;8387:2;;;8433:1;8430;8423:12;8387:2;8461:101;8554:7;8545:6;8534:9;8530:22;8461:101;;;8451:111;;;;8328:240;8599:2;8617:53;8662:7;8653:6;8642:9;8638:22;8617:53;;;8607:63;;8578:98;8707:2;8725:53;8770:7;8761:6;8750:9;8746:22;8725:53;;;8715:63;;8686:98;8152:642;;;;;;;;;8801:366;;;8922:2;8910:9;8901:7;8897:23;8893:32;8890:2;;;8938:1;8935;8928:12;8890:2;8973:1;8990:53;9035:7;9015:9;8990:53;;;8980:63;;8952:97;9080:2;9098:53;9143:7;9134:6;9123:9;9119:22;9098:53;;;9088:63;;9059:98;8884:283;;;;;;9174:595;;;;9321:2;9309:9;9300:7;9296:23;9292:32;9289:2;;;9337:1;9334;9327:12;9289:2;9372:1;9389:53;9434:7;9414:9;9389:53;;10378:941;;;;;;;10609:3;10597:9;10588:7;10584:23;10580:33;10577:2;;;10626:1;10623;10616:12;10577:2;10661:1;10678:53;10723:7;10703:9;10678:53;;;10668:63;;10640:97;10768:2;10786:53;10831:7;10822:6;10811:9;10807:22;10786:53;;;10776:63;;10747:98;10904:2;10893:9;10889:18;10876:32;10928:18;10920:6;10917:30;10914:2;;;10960:1;10957;10950:12;10914:2;10988:65;11045:7;11036:6;11025:9;11021:22;10988:65;;;10978:75;;;;10855:204;11118:2;11107:9;11103:18;11090:32;11142:18;11134:6;11131:30;11128:2;;;11174:1;11171;11164:12;11128:2;11202:101;11295:7;11286:6;11275:9;11271:22;11202:101;;;11192:111;;;;11069:240;10571:748;;;;;;;;;11326:626;;;;11481:2;11469:9;11460:7;11456:23;11452:32;11449:2;;;11497:1;11494;11487:12;11449:2;11532:1;11549:64;11605:7;11585:9;11549:64;;;11539:74;;11511:108;11650:2;11668:64;11724:7;11715:6;11704:9;11700:22;11668:64;;;11658:74;;11629:109;11790:2;11779:9;11775:18;11769:25;11814:18;11806:6;11803:30;11800:2;;;11846:1;11843;11836:12;11800:2;11866:70;11928:7;11919:6;11908:9;11904:22;11866:70;;12563:103;12636:24;12654:5;12636:24;;;12631:3;12624:37;12618:48;;;12793:152;12894:45;12914:24;12932:5;12914:24;;;12894:45;;12952:94;13019:21;13034:5;13019:21;;13164:103;13237:24;13255:5;13237:24;;13394:152;13495:45;13515:24;13533:5;13515:24;;;13495:45;;13553:343;;13663:38;13695:5;13663:38;;;13713:70;13776:6;13771:3;13713:70;;;13706:77;;13788:52;13833:6;13828:3;13821:4;13814:5;13810:16;13788:52;;;13861:29;13883:6;13861:29;;;13852:39;;;;13643:253;-1:-1;;;13643:253;14567:160;14667:54;14715:5;14667:54;;14851:142;14942:45;14981:5;14942:45;;15025:313;;15159:89;15241:6;15236:3;15159:89;;;15152:96;;15260:43;15296:6;15291:3;15284:5;15260:43;;;-1:-1;;15316:16;;15145:193;15700:360;;15830:39;15863:5;15830:39;;;15881:89;15963:6;15958:3;15881:89;;;15874:96;;15975:52;16020:6;16015:3;16008:4;16001:5;15997:16;15975:52;;;16039:16;;;;;15810:250;-1:-1;;15810:250;16068:380;;16228:67;16292:2;16287:3;16228:67;;;16328:34;16308:55;;-1:-1;;;16392:2;16383:12;;16376:35;16439:2;16430:12;;16214:234;-1:-1;;16214:234;16457:384;;16617:67;16681:2;16676:3;16617:67;;;16717:34;16697:55;;-1:-1;;;16781:2;16772:12;;16765:39;16832:2;16823:12;;16603:238;-1:-1;;16603:238;16850:375;;17010:67;17074:2;17069:3;17010:67;;;17110:34;17090:55;;-1:-1;;;17174:2;17165:12;;17158:30;17216:2;17207:12;;16996:229;-1:-1;;16996:229;17234:380;;17394:67;17458:2;17453:3;17394:67;;;17494:34;17474:55;;-1:-1;;;17558:2;17549:12;;17542:35;17605:2;17596:12;;17380:234;-1:-1;;17380:234;17623:439;;17783:67;17847:2;17842:3;17783:67;;;17883:34;17863:55;;17952:34;17947:2;17938:12;;17931:56;-1:-1;;;18016:2;18007:12;;18000:25;18053:2;18044:12;;17769:293;-1:-1;;17769:293;18071:392;;18231:67;18295:2;18290:3;18231:67;;;18331:34;18311:55;;18400:25;18395:2;18386:12;;18379:47;18454:2;18445:12;;18217:246;-1:-1;;18217:246;18472:446;;18632:67;18696:2;18691:3;18632:67;;;18732:34;18712:55;;18801:34;18796:2;18787:12;;18780:56;-1:-1;;;18865:2;18856:12;;18849:32;18909:2;18900:12;;18618:300;-1:-1;;18618:300;18927:329;;19087:67;19151:2;19146:3;19087:67;;;19187:31;19167:52;;19247:2;19238:12;;19073:183;-1:-1;;19073:183;19265:332;;19425:67;19489:2;19484:3;19425:67;;;19525:34;19505:55;;19588:2;19579:12;;19411:186;-1:-1;;19411:186;19606:446;;19766:67;19830:2;19825:3;19766:67;;;19866:34;19846:55;;19935:34;19930:2;19921:12;;19914:56;-1:-1;;;19999:2;19990:12;;19983:32;20043:2;20034:12;;19752:300;-1:-1;;19752:300;20061:382;;20221:67;20285:2;20280:3;20221:67;;;20321:34;20301:55;;-1:-1;;;20385:2;20376:12;;20369:37;20434:2;20425:12;;20207:236;-1:-1;;20207:236;20452:440;;20612:67;20676:2;20671:3;20612:67;;;20712:34;20692:55;;20781:34;20776:2;20767:12;;20760:56;-1:-1;;;20845:2;20836:12;;20829:26;20883:2;20874:12;;20598:294;-1:-1;;20598:294;20901:397;;21061:67;21125:2;21120:3;21061:67;;;21161:34;21141:55;;21230:30;21225:2;21216:12;;21209:52;21289:2;21280:12;;21047:251;-1:-1;;21047:251;21307:388;;21467:67;21531:2;21526:3;21467:67;;;21567:34;21547:55;;-1:-1;;;21631:2;21622:12;;21615:43;21686:2;21677:12;;21453:242;-1:-1;;21453:242;21704:332;;21864:67;21928:2;21923:3;21864:67;;;21964:34;21944:55;;22027:2;22018:12;;21850:186;-1:-1;;21850:186;22045:373;;22205:67;22269:2;22264:3;22205:67;;;22305:34;22285:55;;-1:-1;;;22369:2;22360:12;;22353:28;22409:2;22400:12;;22191:227;-1:-1;;22191:227;22427:383;;22587:67;22651:2;22646:3;22587:67;;;22687:34;22667:55;;-1:-1;;;22751:2;22742:12;;22735:38;22801:2;22792:12;;22573:237;-1:-1;;22573:237;22819:314;;22979:67;23043:2;23038:3;22979:67;;;-1:-1;;;23059:37;;23124:2;23115:12;;22965:168;-1:-1;;22965:168;23142:390;;23302:67;23366:2;23361:3;23302:67;;;23402:34;23382:55;;-1:-1;;;23466:2;23457:12;;23450:45;23523:2;23514:12;;23288:244;-1:-1;;23288:244;23541:313;;23701:67;23765:2;23760:3;23701:67;;;-1:-1;;;23781:36;;23845:2;23836:12;;23687:167;-1:-1;;23687:167;23863:373;;24023:67;24087:2;24082:3;24023:67;;;24123:34;24103:55;;-1:-1;;;24187:2;24178:12;;24171:28;24227:2;24218:12;;24009:227;-1:-1;;24009:227;24245:385;;24405:67;24469:2;24464:3;24405:67;;;24505:34;24485:55;;-1:-1;;;24569:2;24560:12;;24553:40;24621:2;24612:12;;24391:239;-1:-1;;24391:239;24639:390;;24799:67;24863:2;24858:3;24799:67;;;24899:34;24879:55;;-1:-1;;;24963:2;24954:12;;24947:45;25020:2;25011:12;;24785:244;-1:-1;;24785:244;25116:1048;25360:23;;25116:1048;;25293:4;25284:14;;;25389:63;25288:3;25360:23;25389:63;;;25313:145;25531:4;25524:5;25520:16;25514:23;25583:3;25577:4;25573:14;25566:4;25561:3;25557:14;25550:38;25603:67;25665:4;25651:12;25603:67;;;25595:75;;25468:214;25759:4;25752:5;25748:16;25742:23;25771:57;25822:4;25817:3;25813:14;25799:12;25771:57;;;25692:142;25910:4;25903:5;25899:16;25893:23;25922:57;25973:4;25968:3;25964:14;25950:12;25922:57;;;25844:141;26063:4;26056:5;26052:16;26046:23;26075:57;26126:4;26121:3;26117:14;26103:12;26075:57;;;-1:-1;26155:4;25266:898;-1:-1;;;25266:898;26254:507;26494:23;;26427:4;26418:14;;;26523:63;26422:3;26494:23;26523:63;;;26447:145;26665:4;26658:5;26654:16;26648:23;26677:63;26734:4;26729:3;26725:14;26711:12;26677:63;;26843:814;27075:23;;27008:4;26999:14;;;27104:63;27003:3;27075:23;27104:63;;;27028:145;27255:4;27248:5;27244:16;27238:23;27267:63;27324:4;27319:3;27315:14;27301:12;27267:63;;;27183:153;27409:4;27402:5;27398:16;27392:23;27421:63;27478:4;27473:3;27469:14;27455:12;27421:63;;;27346:144;27567:4;27560:5;27556:16;27550:23;27579:57;27630:4;27625:3;27621:14;27607:12;27579:57;;28053:564;;28258:75;28329:3;28320:6;28258:75;;;28355:2;28350:3;28346:12;28339:19;;28369:75;28440:3;28431:6;28369:75;;;28466:2;28461:3;28457:12;28450:19;;28487:105;28588:3;28579:6;28571;28487:105;;;28480:112;28246:371;-1:-1;;;;;;28246:371;28624:544;;28819:75;28890:3;28881:6;28819:75;;;28916:2;28911:3;28907:12;28900:19;;28930:75;29001:3;28992:6;28930:75;;;29027:2;29022:3;29018:12;29011:19;;29048:95;29139:3;29130:6;29048:95;;29175:383;;29322:75;29393:3;29384:6;29322:75;;;29419:2;29414:3;29410:12;29403:19;;29433:75;29504:3;29495:6;29433:75;;;-1:-1;29530:2;29521:12;;29310:248;-1:-1;;29310:248;29565:266;;29711:95;29802:3;29793:6;29711:95;;29838:213;29956:2;29941:18;;29970:71;29945:9;30014:6;29970:71;;30058:831;30326:3;30311:19;;30341:71;30315:9;30385:6;30341:71;;;30460:9;30454:4;30450:20;30445:2;30434:9;30430:18;30423:48;30485:76;30556:4;30547:6;30485:76;;;30477:84;;30572:70;30638:2;30627:9;30623:18;30614:6;30572:70;;;30653:80;30729:2;30718:9;30714:18;30705:6;30653:80;;;30782:9;30776:4;30772:20;30766:3;30755:9;30751:19;30744:49;30807:72;30874:4;30865:6;30807:72;;30896:815;31156:3;31141:19;;31171:71;31145:9;31215:6;31171:71;;;31290:9;31284:4;31280:20;31275:2;31264:9;31260:18;31253:48;31315:76;31386:4;31377:6;31315:76;;;31307:84;;31402:70;31468:2;31457:9;31453:18;31444:6;31402:70;;;31483:72;31551:2;31540:9;31536:18;31527:6;31483:72;;31718:201;31830:2;31815:18;;31844:65;31819:9;31882:6;31844:65;;31926:213;32044:2;32029:18;;32058:71;32033:9;32102:6;32058:71;;32146:297;32282:2;32296:47;;;32267:18;;32357:76;32267:18;32419:6;32357:76;;32450:247;32585:2;32570:18;;32599:88;32574:9;32660:6;32599:88;;33228:407;33419:2;33433:47;;;33404:18;;33494:131;33404:18;33494:131;;33642:407;33833:2;33847:47;;;33818:18;;33908:131;33818:18;33908:131;;34056:407;34247:2;34261:47;;;34232:18;;34322:131;34232:18;34322:131;;34470:407;34661:2;34675:47;;;34646:18;;34736:131;34646:18;34736:131;;34884:407;35075:2;35089:47;;;35060:18;;35150:131;35060:18;35150:131;;35298:407;35489:2;35503:47;;;35474:18;;35564:131;35474:18;35564:131;;35712:407;35903:2;35917:47;;;35888:18;;35978:131;35888:18;35978:131;;36126:407;36317:2;36331:47;;;36302:18;;36392:131;36302:18;36392:131;;36540:407;36731:2;36745:47;;;36716:18;;36806:131;36716:18;36806:131;;36954:407;37145:2;37159:47;;;37130:18;;37220:131;37130:18;37220:131;;37368:407;37559:2;37573:47;;;37544:18;;37634:131;37544:18;37634:131;;37782:407;37973:2;37987:47;;;37958:18;;38048:131;37958:18;38048:131;;38196:407;38387:2;38401:47;;;38372:18;;38462:131;38372:18;38462:131;;38610:407;38801:2;38815:47;;;38786:18;;38876:131;38786:18;38876:131;;39024:407;39215:2;39229:47;;;39200:18;;39290:131;39200:18;39290:131;;39438:407;39629:2;39643:47;;;39614:18;;39704:131;39614:18;39704:131;;39852:407;40043:2;40057:47;;;40028:18;;40118:131;40028:18;40118:131;;40266:407;40457:2;40471:47;;;40442:18;;40532:131;40442:18;40532:131;;40680:407;40871:2;40885:47;;;40856:18;;40946:131;40856:18;40946:131;;41094:407;41285:2;41299:47;;;41270:18;;41360:131;41270:18;41360:131;;41508:407;41699:2;41713:47;;;41684:18;;41774:131;41684:18;41774:131;;41922:407;42113:2;42127:47;;;42098:18;;42188:131;42098:18;42188:131;;42336:407;42527:2;42541:47;;;42512:18;;42602:131;42512:18;42602:131;;42750:413;42944:2;42958:47;;;42929:18;;43019:134;42929:18;43139:6;43019:134;;43170:373;43368:2;43353:18;;43382:151;43357:9;43506:6;43382:151;;43550:358;43740:3;43725:19;;43755:143;43729:9;43871:6;43755:143;;44135:435;44309:2;44294:18;;44323:71;44298:9;44367:6;44323:71;;;44405:72;44473:2;44462:9;44458:18;44449:6;44405:72;;;44488;44556:2;44545:9;44541:18;44532:6;44488:72;;44577:523;44771:2;44756:18;;44785:71;44760:9;44829:6;44785:71;;;44867:72;44935:2;44924:9;44920:18;44911:6;44867:72;;;44987:9;44981:4;44977:20;44972:2;44961:9;44957:18;44950:48;45012:78;45085:4;45076:6;45012:78;;45107:256;45169:2;45163:9;45195:17;;;45270:18;45255:34;;45291:22;;;45252:62;45249:2;;;45327:1;45324;45317:12;45249:2;45343;45336:22;45147:216;;-1:-1;45147:216;45370:321;;45513:18;45505:6;45502:30;45499:2;;;45545:1;45542;45535:12;45499:2;-1:-1;45676:4;45612;45589:17;;;;-1:-1;;45585:33;45666:15;;45436:255;46352:117;46435:12;;46406:63;46734:152;46826:19;;;46875:4;46866:14;;46819:67;47391:91;;47453:24;47471:5;47453:24;;47489:85;47555:13;47548:21;;47531:43;47738:121;-1:-1;;;;;47800:54;;47783:76;47945:155;;48041:54;48089:5;48041:54;;48239:116;;48326:24;48344:5;48326:24;;48363:145;48444:6;48439:3;48434;48421:30;-1:-1;48500:1;48482:16;;48475:27;48414:94;48517:268;48582:1;48589:101;48603:6;48600:1;48597:13;48589:101;;;48670:11;;;48664:18;48651:11;;;48644:39;48625:2;48618:10;48589:101;;;48705:6;48702:1;48699:13;48696:2;;;-1:-1;;48770:1;48752:16;;48745:27;48566:219;48793:95;;48857:26;48877:5;48976:89;49040:20;49054:5;49040:20;;49153:97;49241:2;49221:14;-1:-1;;49217:28;;49201:49;49258:94;49332:2;49328:14;;49300:52;49360:117;49429:24;49447:5;49429:24;;;49422:5;49419:35;49409:2;;49468:1;49465;49458:12;49484:111;49550:21;49565:5;49550:21;;49602:117;49671:24;49689:5;49671:24;","source":"pragma solidity ^0.5.6;\\npragma experimental ABIEncoderV2;\\n\\nimport \\"@openzeppelin/upgrades/contracts/Initializable.sol\\";\\nimport \\"@openzeppelin/contracts-ethereum-package/contracts/ownership/Ownable.sol\\";\\n\\nimport \\"./Registry.sol\\";\\n\\ncontract Issuer is Initializable, Ownable {\\n    event CertificationRequested(address indexed _owner, uint256 indexed _id, string indexed _deviceId);\\n    event CertificationRequestApproved(address indexed _owner, uint256 indexed _id, uint256 indexed _certificateId);\\n    event CertificationRequestRevoked(address indexed _owner, uint256 indexed _id);\\n\\n\\tevent CommitmentUpdated(address indexed _owner, uint256 indexed _id, bytes32 _commitment);\\n\\tevent MigrateToPublicRequested(address indexed _owner, uint256 indexed _id);\\n\\tevent PrivateTransferRequested(address indexed _owner, uint256 indexed _certificateId);\\n\\tevent CertificateMigratedToPublic(uint256 indexed _certificateId, address indexed _owner, uint256 indexed _amount);\\n    event CertificateRevoked(uint256 indexed _certificateId);\\n\\n    int public certificateTopic;\\n    Registry public registry;\\n\\n    mapping(uint256 => CertificationRequest) private certificationRequests;\\n    mapping(uint256 => uint256) private requestToCertificate;\\n\\n\\tuint256 private requestMigrateToPublicNonce;\\n\\tuint256 private requestPrivateTransferNonce;\\n    uint256 private certificationRequestNonce;\\n\\n\\tmapping(uint256 => RequestStateChange) private requestMigrateToPublicStorage;\\n\\tmapping(uint256 => PrivateTransferRequest) private requestPrivateTransferStorage;\\n\\n\\tmapping(uint256 => bool) private migrations;\\n    mapping(uint256 => bool) private revokedCertificates;\\n\\tmapping(uint256 => bytes32) private commitments;\\n\\n    struct CertificationRequest {\\n        address owner;\\n        bytes data;\\n        bool approved;\\n        bool revoked;\\n        bool isPrivate;\\n    }\\n\\n    struct PrivateTransferRequest {\\n\\t\\taddress owner;\\n\\t\\tbytes32 hash;\\n\\t}\\n\\n\\tstruct RequestStateChange {\\n\\t\\taddress owner;\\n\\t\\tuint256 certificateId;\\n\\t\\tbytes32 hash;\\n\\t\\tbool approved;\\n\\t}\\n\\n\\tstruct Proof {\\n\\t\\tbool left;\\n\\t\\tbytes32 hash;\\n\\t}\\n\\n    function initialize(int _certificateTopic, address _registry, address _owner) public initializer {\\n        require(_registry != address(0), \\"initialize: Cannot use address 0x0 as registry address.\\");\\n        require(_owner != address(0), \\"initialize: Cannot use address 0x0 as the owner.\\");\\n\\n        certificateTopic = _certificateTopic;\\n\\n        registry = Registry(_registry);\\n        Ownable.initialize(_owner);\\n    }\\n\\n\\t/*\\n\\t\\tCertification requests\\n\\t*/\\n\\n    function getCertificationRequest(uint256 _requestId) public view returns (CertificationRequest memory) {\\n        return certificationRequests[_requestId];\\n    }\\n\\n    function getCertificateCommitment(uint certificateId) public view returns (bytes32) {\\n        return commitments[certificateId];\\n    }\\n\\n    function requestCertificationFor(bytes memory _data, address _owner, bool _private) public returns (uint256) {\\n        uint256 id = ++certificationRequestNonce;\\n\\n        certificationRequests[id] = CertificationRequest({\\n            owner: _owner,\\n            data: _data,\\n            approved: false,\\n            revoked: false,\\n            isPrivate: _private\\n        });\\n\\n        (,, string memory deviceId) = decodeData(_data);\\n\\n        emit CertificationRequested(_owner, id, deviceId);\\n\\n        return id;\\n    }\\n\\n    function requestCertification(bytes calldata _data, bool _private) external {\\n        requestCertificationFor(_data, msg.sender, _private);\\n    }\\n\\n    function isRequestValid(uint256 _requestId) external view returns (bool) {\\n        CertificationRequest memory request = certificationRequests[_requestId];\\n        uint certificateId = requestToCertificate[_requestId];\\n\\n        return _requestId <= certificationRequestNonce\\n            && request.approved\\n            && !request.revoked\\n            && !revokedCertificates[certificateId];\\n    }\\n\\n    function revokeRequest(uint256 _requestId) external {\\n        CertificationRequest storage request = certificationRequests[_requestId];\\n\\n        require(msg.sender == request.owner, \\"revokeRequest(): Only the request creator can revoke the request.\\");\\n        require(!request.revoked, \\"revokeRequest(): Already revoked\\");\\n        require(!request.approved, \\"revokeRequest(): You can\'t revoke approved requests\\");\\n\\n        request.revoked = true;\\n\\n        emit CertificationRequestRevoked(request.owner, _requestId);\\n    }\\n\\n    function revokeCertificate(uint256 _certificateId) external onlyOwner {\\n        require(!revokedCertificates[_certificateId], \\"revokeCertificate(): Already revoked\\");\\n        revokedCertificates[_certificateId] = true;\\n\\n        emit CertificateRevoked(_certificateId);\\n    }\\n\\n    function approveCertificationRequest(\\n        uint256 _requestId,\\n        uint256 _value,\\n        bytes memory _validityData\\n    ) public onlyOwner returns (uint256) {\\n        require(_requestNotApprovedOrRevoked(_requestId), \\"approveCertificationRequest(): request already approved or revoked\\");\\n\\n        CertificationRequest memory request = certificationRequests[_requestId];\\n        require(!request.isPrivate, \\"CertificationRequest(): please use commitments for private certification\\");\\n\\n        _approve(_requestId);\\n\\n        uint256 certificateId = registry.issue(request.owner, _validityData, certificateTopic, _value, request.data);\\n        requestToCertificate[_requestId] = certificateId;\\n\\n        emit CertificationRequestApproved(request.owner, _requestId, certificateId);\\n\\n        return certificateId;\\n    }\\n\\n    function issue(address _to, uint256 _value, bytes memory _data) public onlyOwner returns (uint256) {\\n        uint256 requestId = requestCertificationFor(_data, _to, false);\\n\\n        return approveCertificationRequest(\\n            requestId,\\n            _value,\\n            abi.encodeWithSignature(\\"isRequestValid(uint256)\\", requestId)\\n        );\\n    }\\n\\n    function approveCertificationRequestPrivate(\\n        uint256 _requestId,\\n        bytes32 _commitment,\\n        bytes memory _validityData\\n    ) public onlyOwner returns (uint256) {\\n        require(_requestNotApprovedOrRevoked(_requestId), \\"approveCertificationRequest(): request already approved or revoked\\");\\n\\n        CertificationRequest memory request = certificationRequests[_requestId];\\n        require(request.isPrivate, \\"approve: can\'t approve public certificates using commitments\\");\\n\\n        _approve(_requestId);\\n\\n        uint256 certificateId = registry.issue(request.owner, _validityData, certificateTopic, 0, request.data);\\n        _updateCommitment(certificateId, 0x0, _commitment);\\n        requestToCertificate[_requestId] = certificateId;\\n\\n        emit CertificationRequestApproved(request.owner, _requestId, certificateId);\\n\\n        return certificateId;\\n    }\\n\\n    function issuePrivate(address _to, bytes32 _commitment, bytes memory _data) public onlyOwner returns (uint256) {\\n        uint256 requestId = requestCertificationFor(_data, _to, true);\\n\\n        return approveCertificationRequestPrivate(\\n            requestId,\\n            _commitment,\\n            abi.encodeWithSignature(\\"isRequestValid(uint256)\\", requestId)\\n        );\\n    }\\n\\n\\t/*\\n\\t\\tPrivate transfer\\n\\t*/\\n\\tfunction requestPrivateTransfer(uint256 _certificateId, bytes32 _ownerAddressLeafHash) external {\\n\\t\\tPrivateTransferRequest storage currentRequest = requestPrivateTransferStorage[_certificateId];\\n\\n        require(currentRequest.owner == address(0x0), \\"Only one private transfer can be requested at a time.\\");\\n\\n\\t\\trequestPrivateTransferStorage[_certificateId] = PrivateTransferRequest({\\n\\t\\t\\towner: msg.sender,\\n\\t\\t\\thash: _ownerAddressLeafHash\\n\\t\\t});\\n\\n\\t\\temit PrivateTransferRequested(msg.sender, _certificateId);\\n\\t}\\n\\n\\tfunction approvePrivateTransfer(\\n        uint256 _certificateId,\\n        Proof[] calldata _proof,\\n        bytes32 _previousCommitment,\\n        bytes32 _commitment\\n    ) external onlyOwner returns (bool) {\\n\\t\\tPrivateTransferRequest storage pendingRequest = requestPrivateTransferStorage[_certificateId];\\n\\n        require(pendingRequest.owner != address(0x0), \\"approvePrivateTransfer(): Can\'t approve a non-existing private transfer.\\");\\n\\t\\trequire(validateMerkle(pendingRequest.hash, _commitment, _proof), \\"approvePrivateTransfer(): Wrong merkle tree\\");\\n\\n        requestPrivateTransferStorage[_certificateId] = PrivateTransferRequest({\\n\\t\\t\\towner: address(0x0),\\n\\t\\t\\thash: \'\'\\n\\t\\t});\\n\\n\\t\\t_updateCommitment(_certificateId, _previousCommitment, _commitment);\\n\\n        return true;\\n\\t}\\n\\n\\t/*\\n\\t\\tMigrate to public certificate (public issue)\\n\\t*/\\n\\n\\tfunction requestMigrateToPublic(uint256 _certificateId, bytes32 _ownerAddressLeafHash) external returns (uint256) {\\n        bool exists = _migrationRequestExists(_certificateId);\\n        require(!exists, \\"migration request for this certificate already exists\\");\\n\\n\\t\\tuint256 id = ++requestMigrateToPublicNonce;\\n\\n\\t\\trequestMigrateToPublicStorage[id] = RequestStateChange({\\n\\t\\t\\towner: msg.sender,\\n\\t\\t\\thash: _ownerAddressLeafHash,\\n\\t\\t\\tcertificateId: _certificateId,\\n\\t\\t\\tapproved: false\\n\\t\\t});\\n\\n\\t\\temit MigrateToPublicRequested(msg.sender, id);\\n\\n        return id;\\n\\t}\\n\\n    function getPrivateTransferRequest(uint _certificateId) external view onlyOwner returns (PrivateTransferRequest memory) {\\n        return requestPrivateTransferStorage[_certificateId];\\n    }\\n\\n    function getMigrationRequest(uint _requestId) external view onlyOwner returns (RequestStateChange memory) {\\n        return requestMigrateToPublicStorage[_requestId];\\n    }\\n\\n    function getMigrationRequestId(uint _certificateId) external view onlyOwner returns (uint256) {\\n        bool found = false;\\n\\n\\t\\tfor (uint i = 1; i <= requestMigrateToPublicNonce; i++) {\\n            if (requestMigrateToPublicStorage[i].certificateId == _certificateId) {\\n                found = true;\\n\\t\\t\\t    return i;\\n            }\\n\\t\\t}\\n\\n        require(found, \\"unable to find the migration request\\");\\n    }\\n\\n\\tfunction migrateToPublic(\\n        uint256 _requestId,\\n        uint256 _volume,\\n        string calldata _salt,\\n        Proof[] calldata _proof\\n    ) external onlyOwner {\\n\\t\\tRequestStateChange storage request = requestMigrateToPublicStorage[_requestId];\\n\\n\\t\\trequire(!request.approved, \\"migrateToPublic(): Request already approved\\");\\n        require(!migrations[request.certificateId], \\"migrateToPublic(): certificate already migrated\\");\\n\\t\\trequire(request.hash == keccak256(abi.encodePacked(request.owner, _volume, _salt)), \\"Requested hash does not match\\");\\n        require(validateOwnershipProof(request.owner, _volume, _salt, commitments[request.certificateId], _proof), \\"Invalid proof\\");\\n\\n\\t\\trequest.approved = true;\\n\\n        registry.mint(request.certificateId, request.owner, _volume);\\n        migrations[request.certificateId] = true;\\n\\n        _updateCommitment(request.certificateId, commitments[request.certificateId], 0x0);\\n\\n        emit CertificateMigratedToPublic(request.certificateId, request.owner, _volume);\\n\\t}\\n\\n\\t/*\\n\\t\\tUtils\\n\\t*/\\n\\n\\tfunction encodeData(uint _from, uint _to, string memory _deviceId) public pure returns (bytes memory) {\\n\\t\\treturn abi.encode(_from, _to, _deviceId);\\n\\t}\\n\\n\\tfunction decodeData(bytes memory _data) public pure returns (uint, uint, string memory) {\\n\\t\\treturn abi.decode(_data, (uint, uint, string));\\n\\t}\\n\\n\\tfunction validateOwnershipProof(\\n        address _ownerAddress,\\n        uint _volume,\\n        string memory _salt,\\n        bytes32 _rootHash,\\n        Proof[] memory _proof\\n    ) private pure returns (bool) {\\n\\t\\tbytes32 leafHash = keccak256(abi.encodePacked(_ownerAddress, _volume, _salt));\\n\\n\\t\\treturn validateMerkle(leafHash, _rootHash, _proof);\\n\\t}\\n\\n\\tfunction validateMerkle(bytes32 _leafHash, bytes32 _rootHash, Proof[] memory _proof) private pure returns (bool) {\\n\\t\\tbytes32 hash = _leafHash;\\n\\n\\t\\tfor (uint256 i = 0; i < _proof.length; i++) {\\n\\t\\t\\tProof memory p = _proof[i];\\n\\t\\t\\tif (p.left) {\\n\\t\\t\\t\\thash = keccak256(abi.encodePacked(p.hash, hash));\\n\\t\\t\\t} else {\\n\\t\\t\\t\\thash = keccak256(abi.encodePacked(hash, p.hash));\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\treturn _rootHash == hash;\\n\\t}\\n\\n\\t/*\\n\\t\\tInfo\\n\\t*/\\n\\n    function getRegistryAddress() external view returns (address) {\\n        return address(registry);\\n    }\\n\\n    function version() external pure returns (string memory) {\\n        return \\"v0.1\\";\\n    }\\n\\n\\t/*\\n\\t\\tPrivate methods\\n\\t*/\\n\\n    function _approve(uint256 _requestId) private {\\n        CertificationRequest storage request = certificationRequests[_requestId];\\n        require(!request.approved, \\"Already issued\\"); //consider checking topic and other params from request\\n\\n        request.approved = true;\\n    }\\n\\n\\tfunction _updateCommitment(uint256 _id, bytes32 _previousCommitment, bytes32 _commitment) private {\\n\\t\\trequire(commitments[_id] == _previousCommitment, \\"updateCommitment: previous commitment invalid\\");\\n\\n\\t\\tcommitments[_id] = _commitment;\\n\\n\\t\\temit CommitmentUpdated(msg.sender, _id, _commitment);\\n\\t}\\n\\n    function _migrationRequestExists(uint _certificateId) private view returns (bool) {\\n        bool exists = false;\\n\\n\\t\\tfor (uint i = 1; i <= requestMigrateToPublicNonce; i++) {\\n            if (requestMigrateToPublicStorage[i].certificateId == _certificateId) {\\n                exists = true;\\n                return exists;\\n            }\\n\\t\\t}\\n\\n        return exists;\\n    }\\n\\n    function _requestNotApprovedOrRevoked(uint256 _requestId) private view returns (bool) {\\n        CertificationRequest memory request = certificationRequests[_requestId];\\n\\n        return !request.approved && !request.revoked;\\n    }\\n}","sourcePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Issuer.sol","ast":{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Issuer.sol","exportedSymbols":{"Issuer":[2125]},"id":2126,"nodeType":"SourceUnit","nodes":[{"id":947,"literals":["solidity","^","0.5",".6"],"nodeType":"PragmaDirective","src":"0:23:7"},{"id":948,"literals":["experimental","ABIEncoderV2"],"nodeType":"PragmaDirective","src":"24:33:7"},{"absolutePath":"@openzeppelin/upgrades/contracts/Initializable.sol","file":"@openzeppelin/upgrades/contracts/Initializable.sol","id":949,"nodeType":"ImportDirective","scope":2126,"sourceUnit":3048,"src":"59:60:7","symbolAliases":[],"unitAlias":""},{"absolutePath":"@openzeppelin/contracts-ethereum-package/contracts/ownership/Ownable.sol","file":"@openzeppelin/contracts-ethereum-package/contracts/ownership/Ownable.sol","id":950,"nodeType":"ImportDirective","scope":2126,"sourceUnit":2979,"src":"120:82:7","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol","file":"./Registry.sol","id":951,"nodeType":"ImportDirective","scope":2126,"sourceUnit":2567,"src":"204:24:7","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":952,"name":"Initializable","nodeType":"UserDefinedTypeName","referencedDeclaration":3047,"src":"249:13:7","typeDescriptions":{"typeIdentifier":"t_contract$_Initializable_$3047","typeString":"contract Initializable"}},"id":953,"nodeType":"InheritanceSpecifier","src":"249:13:7"},{"arguments":null,"baseName":{"contractScope":null,"id":954,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":2978,"src":"264:7:7","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$2978","typeString":"contract Ownable"}},"id":955,"nodeType":"InheritanceSpecifier","src":"264:7:7"}],"contractDependencies":[2596,2978,3047],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":2125,"linearizedBaseContracts":[2125,2978,2596,3047],"name":"Issuer","nodeType":"ContractDefinition","nodes":[{"anonymous":false,"documentation":null,"id":963,"name":"CertificationRequested","nodeType":"EventDefinition","parameters":{"id":962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":957,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":963,"src":"307:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":956,"name":"address","nodeType":"ElementaryTypeName","src":"307:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":959,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":963,"src":"331:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":958,"name":"uint256","nodeType":"ElementaryTypeName","src":"331:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":961,"indexed":true,"name":"_deviceId","nodeType":"VariableDeclaration","scope":963,"src":"352:24:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":960,"name":"string","nodeType":"ElementaryTypeName","src":"352:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"306:71:7"},"src":"278:100:7"},{"anonymous":false,"documentation":null,"id":971,"name":"CertificationRequestApproved","nodeType":"EventDefinition","parameters":{"id":970,"nodeType":"ParameterList","parameters":[{"constant":false,"id":965,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":971,"src":"418:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":964,"name":"address","nodeType":"ElementaryTypeName","src":"418:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":967,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":971,"src":"442:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":966,"name":"uint256","nodeType":"ElementaryTypeName","src":"442:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":969,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":971,"src":"463:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":968,"name":"uint256","nodeType":"ElementaryTypeName","src":"463:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"417:77:7"},"src":"383:112:7"},{"anonymous":false,"documentation":null,"id":977,"name":"CertificationRequestRevoked","nodeType":"EventDefinition","parameters":{"id":976,"nodeType":"ParameterList","parameters":[{"constant":false,"id":973,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":977,"src":"534:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":972,"name":"address","nodeType":"ElementaryTypeName","src":"534:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":975,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":977,"src":"558:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":974,"name":"uint256","nodeType":"ElementaryTypeName","src":"558:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"533:45:7"},"src":"500:79:7"},{"anonymous":false,"documentation":null,"id":985,"name":"CommitmentUpdated","nodeType":"EventDefinition","parameters":{"id":984,"nodeType":"ParameterList","parameters":[{"constant":false,"id":979,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":985,"src":"606:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":978,"name":"address","nodeType":"ElementaryTypeName","src":"606:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":981,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":985,"src":"630:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":980,"name":"uint256","nodeType":"ElementaryTypeName","src":"630:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":983,"indexed":false,"name":"_commitment","nodeType":"VariableDeclaration","scope":985,"src":"651:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":982,"name":"bytes32","nodeType":"ElementaryTypeName","src":"651:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"605:66:7"},"src":"582:90:7"},{"anonymous":false,"documentation":null,"id":991,"name":"MigrateToPublicRequested","nodeType":"EventDefinition","parameters":{"id":990,"nodeType":"ParameterList","parameters":[{"constant":false,"id":987,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":991,"src":"705:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":986,"name":"address","nodeType":"ElementaryTypeName","src":"705:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":989,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":991,"src":"729:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":988,"name":"uint256","nodeType":"ElementaryTypeName","src":"729:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"704:45:7"},"src":"674:76:7"},{"anonymous":false,"documentation":null,"id":997,"name":"PrivateTransferRequested","nodeType":"EventDefinition","parameters":{"id":996,"nodeType":"ParameterList","parameters":[{"constant":false,"id":993,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":997,"src":"783:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":992,"name":"address","nodeType":"ElementaryTypeName","src":"783:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":995,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":997,"src":"807:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":994,"name":"uint256","nodeType":"ElementaryTypeName","src":"807:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"782:56:7"},"src":"752:87:7"},{"anonymous":false,"documentation":null,"id":1005,"name":"CertificateMigratedToPublic","nodeType":"EventDefinition","parameters":{"id":1004,"nodeType":"ParameterList","parameters":[{"constant":false,"id":999,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1005,"src":"875:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":998,"name":"uint256","nodeType":"ElementaryTypeName","src":"875:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1001,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":1005,"src":"907:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1000,"name":"address","nodeType":"ElementaryTypeName","src":"907:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1003,"indexed":true,"name":"_amount","nodeType":"VariableDeclaration","scope":1005,"src":"931:23:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1002,"name":"uint256","nodeType":"ElementaryTypeName","src":"931:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"874:81:7"},"src":"841:115:7"},{"anonymous":false,"documentation":null,"id":1009,"name":"CertificateRevoked","nodeType":"EventDefinition","parameters":{"id":1008,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1007,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1009,"src":"986:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1006,"name":"uint256","nodeType":"ElementaryTypeName","src":"986:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"985:32:7"},"src":"961:57:7"},{"constant":false,"id":1011,"name":"certificateTopic","nodeType":"VariableDeclaration","scope":2125,"src":"1024:27:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":1010,"name":"int","nodeType":"ElementaryTypeName","src":"1024:3:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"public"},{"constant":false,"id":1013,"name":"registry","nodeType":"VariableDeclaration","scope":2125,"src":"1057:24:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"},"typeName":{"contractScope":null,"id":1012,"name":"Registry","nodeType":"UserDefinedTypeName","referencedDeclaration":2566,"src":"1057:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"value":null,"visibility":"public"},{"constant":false,"id":1017,"name":"certificationRequests","nodeType":"VariableDeclaration","scope":2125,"src":"1088:70:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest)"},"typeName":{"id":1016,"keyType":{"id":1014,"name":"uint256","nodeType":"ElementaryTypeName","src":"1096:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1088:40:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest)"},"valueType":{"contractScope":null,"id":1015,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"1107:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}}},"value":null,"visibility":"private"},{"constant":false,"id":1021,"name":"requestToCertificate","nodeType":"VariableDeclaration","scope":2125,"src":"1164:56:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":1020,"keyType":{"id":1018,"name":"uint256","nodeType":"ElementaryTypeName","src":"1172:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1164:27:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":1019,"name":"uint256","nodeType":"ElementaryTypeName","src":"1183:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"private"},{"constant":false,"id":1023,"name":"requestMigrateToPublicNonce","nodeType":"VariableDeclaration","scope":2125,"src":"1224:43:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1022,"name":"uint256","nodeType":"ElementaryTypeName","src":"1224:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"private"},{"constant":false,"id":1025,"name":"requestPrivateTransferNonce","nodeType":"VariableDeclaration","scope":2125,"src":"1270:43:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1024,"name":"uint256","nodeType":"ElementaryTypeName","src":"1270:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"private"},{"constant":false,"id":1027,"name":"certificationRequestNonce","nodeType":"VariableDeclaration","scope":2125,"src":"1319:41:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1026,"name":"uint256","nodeType":"ElementaryTypeName","src":"1319:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"private"},{"constant":false,"id":1031,"name":"requestMigrateToPublicStorage","nodeType":"VariableDeclaration","scope":2125,"src":"1364:76:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange)"},"typeName":{"id":1030,"keyType":{"id":1028,"name":"uint256","nodeType":"ElementaryTypeName","src":"1372:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1364:38:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange)"},"valueType":{"contractScope":null,"id":1029,"name":"RequestStateChange","nodeType":"UserDefinedTypeName","referencedDeclaration":1072,"src":"1383:18:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"}}},"value":null,"visibility":"private"},{"constant":false,"id":1035,"name":"requestPrivateTransferStorage","nodeType":"VariableDeclaration","scope":2125,"src":"1443:80:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest)"},"typeName":{"id":1034,"keyType":{"id":1032,"name":"uint256","nodeType":"ElementaryTypeName","src":"1451:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1443:42:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest)"},"valueType":{"contractScope":null,"id":1033,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"1462:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}}},"value":null,"visibility":"private"},{"constant":false,"id":1039,"name":"migrations","nodeType":"VariableDeclaration","scope":2125,"src":"1527:43:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"typeName":{"id":1038,"keyType":{"id":1036,"name":"uint256","nodeType":"ElementaryTypeName","src":"1535:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1527:24:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"valueType":{"id":1037,"name":"bool","nodeType":"ElementaryTypeName","src":"1546:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"private"},{"constant":false,"id":1043,"name":"revokedCertificates","nodeType":"VariableDeclaration","scope":2125,"src":"1576:52:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"typeName":{"id":1042,"keyType":{"id":1040,"name":"uint256","nodeType":"ElementaryTypeName","src":"1584:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1576:24:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"valueType":{"id":1041,"name":"bool","nodeType":"ElementaryTypeName","src":"1595:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"private"},{"constant":false,"id":1047,"name":"commitments","nodeType":"VariableDeclaration","scope":2125,"src":"1631:47:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"typeName":{"id":1046,"keyType":{"id":1044,"name":"uint256","nodeType":"ElementaryTypeName","src":"1639:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1631:27:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"valueType":{"id":1045,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1650:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"value":null,"visibility":"private"},{"canonicalName":"Issuer.CertificationRequest","id":1058,"members":[{"constant":false,"id":1049,"name":"owner","nodeType":"VariableDeclaration","scope":1058,"src":"1723:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1048,"name":"address","nodeType":"ElementaryTypeName","src":"1723:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1051,"name":"data","nodeType":"VariableDeclaration","scope":1058,"src":"1746:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":1050,"name":"bytes","nodeType":"ElementaryTypeName","src":"1746:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":1053,"name":"approved","nodeType":"VariableDeclaration","scope":1058,"src":"1766:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1052,"name":"bool","nodeType":"ElementaryTypeName","src":"1766:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":1055,"name":"revoked","nodeType":"VariableDeclaration","scope":1058,"src":"1789:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1054,"name":"bool","nodeType":"ElementaryTypeName","src":"1789:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":1057,"name":"isPrivate","nodeType":"VariableDeclaration","scope":1058,"src":"1811:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1056,"name":"bool","nodeType":"ElementaryTypeName","src":"1811:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"name":"CertificationRequest","nodeType":"StructDefinition","scope":2125,"src":"1685:147:7","visibility":"public"},{"canonicalName":"Issuer.PrivateTransferRequest","id":1063,"members":[{"constant":false,"id":1060,"name":"owner","nodeType":"VariableDeclaration","scope":1063,"src":"1872:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1059,"name":"address","nodeType":"ElementaryTypeName","src":"1872:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1062,"name":"hash","nodeType":"VariableDeclaration","scope":1063,"src":"1889:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1061,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1889:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"name":"PrivateTransferRequest","nodeType":"StructDefinition","scope":2125,"src":"1838:67:7","visibility":"public"},{"canonicalName":"Issuer.RequestStateChange","id":1072,"members":[{"constant":false,"id":1065,"name":"owner","nodeType":"VariableDeclaration","scope":1072,"src":"1938:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1064,"name":"address","nodeType":"ElementaryTypeName","src":"1938:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1067,"name":"certificateId","nodeType":"VariableDeclaration","scope":1072,"src":"1955:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1066,"name":"uint256","nodeType":"ElementaryTypeName","src":"1955:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1069,"name":"hash","nodeType":"VariableDeclaration","scope":1072,"src":"1980:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1068,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1980:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1071,"name":"approved","nodeType":"VariableDeclaration","scope":1072,"src":"1996:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1070,"name":"bool","nodeType":"ElementaryTypeName","src":"1996:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"name":"RequestStateChange","nodeType":"StructDefinition","scope":2125,"src":"1908:105:7","visibility":"public"},{"canonicalName":"Issuer.Proof","id":1077,"members":[{"constant":false,"id":1074,"name":"left","nodeType":"VariableDeclaration","scope":1077,"src":"2033:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1073,"name":"bool","nodeType":"ElementaryTypeName","src":"2033:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":1076,"name":"hash","nodeType":"VariableDeclaration","scope":1077,"src":"2046:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1075,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2046:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"name":"Proof","nodeType":"StructDefinition","scope":2125,"src":"2016:46:7","visibility":"public"},{"body":{"id":1122,"nodeType":"Block","src":"2165:323:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1093,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1089,"name":"_registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1081,"src":"2183:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1091,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2204:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1090,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2196:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1092,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2196:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2183:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"696e697469616c697a653a2043616e6e6f742075736520616464726573732030783020617320726567697374727920616464726573732e","id":1094,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2208:57:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_589acc6309418f163d13602d6b088cf4743f21cf0b5377b088a8ce23cff464b6","typeString":"literal_string \\"initialize: Cannot use address 0x0 as registry address.\\""},"value":"initialize: Cannot use address 0x0 as registry address."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_589acc6309418f163d13602d6b088cf4743f21cf0b5377b088a8ce23cff464b6","typeString":"literal_string \\"initialize: Cannot use address 0x0 as registry address.\\""}],"id":1088,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"2175:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2175:91:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1096,"nodeType":"ExpressionStatement","src":"2175:91:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1098,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1083,"src":"2284:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1100,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2302:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1099,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2294:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1101,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2294:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2284:20:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"696e697469616c697a653a2043616e6e6f742075736520616464726573732030783020617320746865206f776e65722e","id":1103,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2306:50:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_eb346e279ea4471e91dc27b97ece3d67f2a7e281ccadd2f9fba878fc46450eda","typeString":"literal_string \\"initialize: Cannot use address 0x0 as the owner.\\""},"value":"initialize: Cannot use address 0x0 as the owner."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_eb346e279ea4471e91dc27b97ece3d67f2a7e281ccadd2f9fba878fc46450eda","typeString":"literal_string \\"initialize: Cannot use address 0x0 as the owner.\\""}],"id":1097,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"2276:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1104,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2276:81:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1105,"nodeType":"ExpressionStatement","src":"2276:81:7"},{"expression":{"argumentTypes":null,"id":1108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1106,"name":"certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1011,"src":"2368:16:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1107,"name":"_certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1079,"src":"2387:17:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2368:36:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":1109,"nodeType":"ExpressionStatement","src":"2368:36:7"},{"expression":{"argumentTypes":null,"id":1114,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1110,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"2415:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1112,"name":"_registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1081,"src":"2435:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":1111,"name":"Registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2566,"src":"2426:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Registry_$2566_$","typeString":"type(contract Registry)"}},"id":1113,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2426:19:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"src":"2415:30:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1115,"nodeType":"ExpressionStatement","src":"2415:30:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1119,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1083,"src":"2474:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":1116,"name":"Ownable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2978,"src":"2455:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Ownable_$2978_$","typeString":"type(contract Ownable)"}},"id":1118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"initialize","nodeType":"MemberAccess","referencedDeclaration":2889,"src":"2455:18:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":1120,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2455:26:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1121,"nodeType":"ExpressionStatement","src":"2455:26:7"}]},"documentation":null,"id":1123,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1086,"modifierName":{"argumentTypes":null,"id":1085,"name":"initializer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3022,"src":"2153:11:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2153:11:7"}],"name":"initialize","nodeType":"FunctionDefinition","parameters":{"id":1084,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1079,"name":"_certificateTopic","nodeType":"VariableDeclaration","scope":1123,"src":"2088:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":1078,"name":"int","nodeType":"ElementaryTypeName","src":"2088:3:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1081,"name":"_registry","nodeType":"VariableDeclaration","scope":1123,"src":"2111:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1080,"name":"address","nodeType":"ElementaryTypeName","src":"2111:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1083,"name":"_owner","nodeType":"VariableDeclaration","scope":1123,"src":"2130:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1082,"name":"address","nodeType":"ElementaryTypeName","src":"2130:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2087:58:7"},"returnParameters":{"id":1087,"nodeType":"ParameterList","parameters":[],"src":"2165:0:7"},"scope":2125,"src":"2068:420:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1134,"nodeType":"Block","src":"2631:57:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1130,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"2648:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1132,"indexExpression":{"argumentTypes":null,"id":1131,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1125,"src":"2670:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2648:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"functionReturnParameters":1129,"id":1133,"nodeType":"Return","src":"2641:40:7"}]},"documentation":null,"id":1135,"implemented":true,"kind":"function","modifiers":[],"name":"getCertificationRequest","nodeType":"FunctionDefinition","parameters":{"id":1126,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1125,"name":"_requestId","nodeType":"VariableDeclaration","scope":1135,"src":"2561:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1124,"name":"uint256","nodeType":"ElementaryTypeName","src":"2561:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2560:20:7"},"returnParameters":{"id":1129,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1128,"name":"","nodeType":"VariableDeclaration","scope":1135,"src":"2602:27:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1127,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"2602:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"src":"2601:29:7"},"scope":2125,"src":"2528:160:7","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1146,"nodeType":"Block","src":"2778:50:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1142,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"2795:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":1144,"indexExpression":{"argumentTypes":null,"id":1143,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1137,"src":"2807:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2795:26:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":1141,"id":1145,"nodeType":"Return","src":"2788:33:7"}]},"documentation":null,"id":1147,"implemented":true,"kind":"function","modifiers":[],"name":"getCertificateCommitment","nodeType":"FunctionDefinition","parameters":{"id":1138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1137,"name":"certificateId","nodeType":"VariableDeclaration","scope":1147,"src":"2728:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1136,"name":"uint","nodeType":"ElementaryTypeName","src":"2728:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2727:20:7"},"returnParameters":{"id":1141,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1140,"name":"","nodeType":"VariableDeclaration","scope":1147,"src":"2769:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1139,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2769:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2768:9:7"},"scope":2125,"src":"2694:134:7","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1189,"nodeType":"Block","src":"2943:408:7","statements":[{"assignments":[1159],"declarations":[{"constant":false,"id":1159,"name":"id","nodeType":"VariableDeclaration","scope":1189,"src":"2953:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1158,"name":"uint256","nodeType":"ElementaryTypeName","src":"2953:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1162,"initialValue":{"argumentTypes":null,"id":1161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2966:27:7","subExpression":{"argumentTypes":null,"id":1160,"name":"certificationRequestNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1027,"src":"2968:25:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2953:40:7"},{"expression":{"argumentTypes":null,"id":1173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1163,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"3004:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1165,"indexExpression":{"argumentTypes":null,"id":1164,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1159,"src":"3026:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3004:25:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1167,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1151,"src":"3074:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1168,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1149,"src":"3100:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"hexValue":"66616c7365","id":1169,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3129:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"hexValue":"66616c7365","id":1170,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3157:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"id":1171,"name":"_private","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1153,"src":"3187:8:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1166,"name":"CertificationRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1058,"src":"3032:20:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_CertificationRequest_$1058_storage_ptr_$","typeString":"type(struct Issuer.CertificationRequest storage pointer)"}},"id":1172,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","data","approved","revoked","isPrivate"],"nodeType":"FunctionCall","src":"3032:174:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory","typeString":"struct Issuer.CertificationRequest memory"}},"src":"3004:202:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"id":1174,"nodeType":"ExpressionStatement","src":"3004:202:7"},{"assignments":[null,null,1176],"declarations":[null,null,{"constant":false,"id":1176,"name":"deviceId","nodeType":"VariableDeclaration","scope":1189,"src":"3221:22:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1175,"name":"string","nodeType":"ElementaryTypeName","src":"3221:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"id":1180,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1178,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1149,"src":"3258:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1177,"name":"decodeData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1886,"src":"3247:10:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$_t_uint256_$_t_string_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint256,uint256,string memory)"}},"id":1179,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3247:17:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_string_memory_ptr_$","typeString":"tuple(uint256,uint256,string memory)"}},"nodeType":"VariableDeclarationStatement","src":"3217:47:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1182,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1151,"src":"3303:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1183,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1159,"src":"3311:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1184,"name":"deviceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1176,"src":"3315:8:7","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":1181,"name":"CertificationRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":963,"src":"3280:22:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,uint256,string memory)"}},"id":1185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3280:44:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1186,"nodeType":"EmitStatement","src":"3275:49:7"},{"expression":{"argumentTypes":null,"id":1187,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1159,"src":"3342:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1157,"id":1188,"nodeType":"Return","src":"3335:9:7"}]},"documentation":null,"id":1190,"implemented":true,"kind":"function","modifiers":[],"name":"requestCertificationFor","nodeType":"FunctionDefinition","parameters":{"id":1154,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1149,"name":"_data","nodeType":"VariableDeclaration","scope":1190,"src":"2867:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1148,"name":"bytes","nodeType":"ElementaryTypeName","src":"2867:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":1151,"name":"_owner","nodeType":"VariableDeclaration","scope":1190,"src":"2887:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1150,"name":"address","nodeType":"ElementaryTypeName","src":"2887:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1153,"name":"_private","nodeType":"VariableDeclaration","scope":1190,"src":"2903:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1152,"name":"bool","nodeType":"ElementaryTypeName","src":"2903:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2866:51:7"},"returnParameters":{"id":1157,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1156,"name":"","nodeType":"VariableDeclaration","scope":1190,"src":"2934:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1155,"name":"uint256","nodeType":"ElementaryTypeName","src":"2934:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2933:9:7"},"scope":2125,"src":"2834:517:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1204,"nodeType":"Block","src":"3433:69:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1198,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1192,"src":"3467:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1199,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"3474:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3474:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1201,"name":"_private","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1194,"src":"3486:8:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1197,"name":"requestCertificationFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1190,"src":"3443:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function (bytes memory,address,bool) returns (uint256)"}},"id":1202,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3443:52:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1203,"nodeType":"ExpressionStatement","src":"3443:52:7"}]},"documentation":null,"id":1205,"implemented":true,"kind":"function","modifiers":[],"name":"requestCertification","nodeType":"FunctionDefinition","parameters":{"id":1195,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1192,"name":"_data","nodeType":"VariableDeclaration","scope":1205,"src":"3387:20:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":1191,"name":"bytes","nodeType":"ElementaryTypeName","src":"3387:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":1194,"name":"_private","nodeType":"VariableDeclaration","scope":1205,"src":"3409:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1193,"name":"bool","nodeType":"ElementaryTypeName","src":"3409:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"3386:37:7"},"returnParameters":{"id":1196,"nodeType":"ParameterList","parameters":[],"src":"3433:0:7"},"scope":2125,"src":"3357:145:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1240,"nodeType":"Block","src":"3581:323:7","statements":[{"assignments":[1213],"declarations":[{"constant":false,"id":1213,"name":"request","nodeType":"VariableDeclaration","scope":1240,"src":"3591:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1212,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"3591:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1217,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1214,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"3629:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1216,"indexExpression":{"argumentTypes":null,"id":1215,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1207,"src":"3651:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3629:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3591:71:7"},{"assignments":[1219],"declarations":[{"constant":false,"id":1219,"name":"certificateId","nodeType":"VariableDeclaration","scope":1240,"src":"3672:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1218,"name":"uint","nodeType":"ElementaryTypeName","src":"3672:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1223,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1220,"name":"requestToCertificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1021,"src":"3693:20:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":1222,"indexExpression":{"argumentTypes":null,"id":1221,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1207,"src":"3714:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3693:32:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3672:53:7"},{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":1238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":1233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":1229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1224,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1207,"src":"3743:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":1225,"name":"certificationRequestNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1027,"src":"3757:25:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3743:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1227,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1213,"src":"3798:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1228,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"3798:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3743:71:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":1232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3830:16:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1230,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1213,"src":"3831:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1231,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"3831:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3743:103:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":1237,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3862:35:7","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1234,"name":"revokedCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1043,"src":"3863:19:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1236,"indexExpression":{"argumentTypes":null,"id":1235,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1219,"src":"3883:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3863:34:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3743:154:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":1211,"id":1239,"nodeType":"Return","src":"3736:161:7"}]},"documentation":null,"id":1241,"implemented":true,"kind":"function","modifiers":[],"name":"isRequestValid","nodeType":"FunctionDefinition","parameters":{"id":1208,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1207,"name":"_requestId","nodeType":"VariableDeclaration","scope":1241,"src":"3532:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1206,"name":"uint256","nodeType":"ElementaryTypeName","src":"3532:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3531:20:7"},"returnParameters":{"id":1211,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1210,"name":"","nodeType":"VariableDeclaration","scope":1241,"src":"3575:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1209,"name":"bool","nodeType":"ElementaryTypeName","src":"3575:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"3574:6:7"},"scope":2125,"src":"3508:396:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1287,"nodeType":"Block","src":"3962:470:7","statements":[{"assignments":[1247],"declarations":[{"constant":false,"id":1247,"name":"request","nodeType":"VariableDeclaration","scope":1287,"src":"3972:36:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1246,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"3972:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1251,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1248,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"4011:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1250,"indexExpression":{"argumentTypes":null,"id":1249,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1243,"src":"4033:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4011:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3972:72:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1257,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1253,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"4063:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1254,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4063:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1255,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4077:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1256,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"4077:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4063:27:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b655265717565737428293a204f6e6c792074686520726571756573742063726561746f722063616e207265766f6b652074686520726571756573742e","id":1258,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4092:67:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_44b8c81a235ab2ce003885754cbbe6bc826333429a2148e9c069826766d88dc1","typeString":"literal_string \\"revokeRequest(): Only the request creator can revoke the request.\\""},"value":"revokeRequest(): Only the request creator can revoke the request."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_44b8c81a235ab2ce003885754cbbe6bc826333429a2148e9c069826766d88dc1","typeString":"literal_string \\"revokeRequest(): Only the request creator can revoke the request.\\""}],"id":1252,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4055:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1259,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4055:105:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1260,"nodeType":"ExpressionStatement","src":"4055:105:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4178:16:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1262,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4179:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1263,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"4179:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b655265717565737428293a20416c7265616479207265766f6b6564","id":1265,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4196:34:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6ae6fcba86df95fec30b2f801286a116b46751c59995cbbb66c32b240d902bd1","typeString":"literal_string \\"revokeRequest(): Already revoked\\""},"value":"revokeRequest(): Already revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6ae6fcba86df95fec30b2f801286a116b46751c59995cbbb66c32b240d902bd1","typeString":"literal_string \\"revokeRequest(): Already revoked\\""}],"id":1261,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4170:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4170:61:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1267,"nodeType":"ExpressionStatement","src":"4170:61:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4249:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1269,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4250:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1270,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"4250:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b655265717565737428293a20596f752063616e2774207265766f6b6520617070726f766564207265717565737473","id":1272,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4268:53:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_95059f4f0a881efd010f412645a4efdd69707df5afc41b084b9057dee498f6c9","typeString":"literal_string \\"revokeRequest(): You can\'t revoke approved requests\\""},"value":"revokeRequest(): You can\'t revoke approved requests"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_95059f4f0a881efd010f412645a4efdd69707df5afc41b084b9057dee498f6c9","typeString":"literal_string \\"revokeRequest(): You can\'t revoke approved requests\\""}],"id":1268,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4241:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1273,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4241:81:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1274,"nodeType":"ExpressionStatement","src":"4241:81:7"},{"expression":{"argumentTypes":null,"id":1279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1275,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4333:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"4333:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1278,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4351:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4333:22:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1280,"nodeType":"ExpressionStatement","src":"4333:22:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1282,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4399:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1283,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"4399:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1284,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1243,"src":"4414:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1281,"name":"CertificationRequestRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":977,"src":"4371:27:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":1285,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4371:54:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1286,"nodeType":"EmitStatement","src":"4366:59:7"}]},"documentation":null,"id":1288,"implemented":true,"kind":"function","modifiers":[],"name":"revokeRequest","nodeType":"FunctionDefinition","parameters":{"id":1244,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1243,"name":"_requestId","nodeType":"VariableDeclaration","scope":1288,"src":"3933:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1242,"name":"uint256","nodeType":"ElementaryTypeName","src":"3933:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3932:20:7"},"returnParameters":{"id":1245,"nodeType":"ParameterList","parameters":[],"src":"3962:0:7"},"scope":2125,"src":"3910:522:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1313,"nodeType":"Block","src":"4508:204:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4526:36:7","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1296,"name":"revokedCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1043,"src":"4527:19:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1298,"indexExpression":{"argumentTypes":null,"id":1297,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1290,"src":"4547:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4527:35:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b65436572746966696361746528293a20416c7265616479207265766f6b6564","id":1300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4564:38:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_996f91aa26be5185eb49545e35c5477f115dddfca83d9a86546fb6b9e022506f","typeString":"literal_string \\"revokeCertificate(): Already revoked\\""},"value":"revokeCertificate(): Already revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_996f91aa26be5185eb49545e35c5477f115dddfca83d9a86546fb6b9e022506f","typeString":"literal_string \\"revokeCertificate(): Already revoked\\""}],"id":1295,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4518:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4518:85:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1302,"nodeType":"ExpressionStatement","src":"4518:85:7"},{"expression":{"argumentTypes":null,"id":1307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1303,"name":"revokedCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1043,"src":"4613:19:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1305,"indexExpression":{"argumentTypes":null,"id":1304,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1290,"src":"4633:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4613:35:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1306,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4651:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4613:42:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1308,"nodeType":"ExpressionStatement","src":"4613:42:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1310,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1290,"src":"4690:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1309,"name":"CertificateRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"4671:18:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1311,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4671:34:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1312,"nodeType":"EmitStatement","src":"4666:39:7"}]},"documentation":null,"id":1314,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1293,"modifierName":{"argumentTypes":null,"id":1292,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"4498:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4498:9:7"}],"name":"revokeCertificate","nodeType":"FunctionDefinition","parameters":{"id":1291,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1290,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1314,"src":"4465:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1289,"name":"uint256","nodeType":"ElementaryTypeName","src":"4465:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4464:24:7"},"returnParameters":{"id":1294,"nodeType":"ParameterList","parameters":[],"src":"4508:0:7"},"scope":2125,"src":"4438:274:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1379,"nodeType":"Block","src":"4884:656:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1329,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"4931:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1328,"name":"_requestNotApprovedOrRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2124,"src":"4902:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":1330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4902:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f766543657274696669636174696f6e5265717565737428293a207265717565737420616c726561647920617070726f766564206f72207265766f6b6564","id":1331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4944:68:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""},"value":"approveCertificationRequest(): request already approved or revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""}],"id":1327,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4894:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4894:119:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1333,"nodeType":"ExpressionStatement","src":"4894:119:7"},{"assignments":[1335],"declarations":[{"constant":false,"id":1335,"name":"request","nodeType":"VariableDeclaration","scope":1379,"src":"5024:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1334,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"5024:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1339,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1336,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"5062:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1338,"indexExpression":{"argumentTypes":null,"id":1337,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5084:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5062:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"5024:71:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"5113:18:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1341,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5114:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1342,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"isPrivate","nodeType":"MemberAccess","referencedDeclaration":1057,"src":"5114:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"43657274696669636174696f6e5265717565737428293a20706c656173652075736520636f6d6d69746d656e747320666f7220707269766174652063657274696669636174696f6e","id":1344,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5133:74:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_5cc054a2b261747f1a9f372ddbf5fcdbb3dc911299e8d3982fc2357a68739da6","typeString":"literal_string \\"CertificationRequest(): please use commitments for private certification\\""},"value":"CertificationRequest(): please use commitments for private certification"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5cc054a2b261747f1a9f372ddbf5fcdbb3dc911299e8d3982fc2357a68739da6","typeString":"literal_string \\"CertificationRequest(): please use commitments for private certification\\""}],"id":1340,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"5105:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5105:103:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1346,"nodeType":"ExpressionStatement","src":"5105:103:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1348,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5228:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1347,"name":"_approve","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2030,"src":"5219:8:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1349,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5219:20:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1350,"nodeType":"ExpressionStatement","src":"5219:20:7"},{"assignments":[1352],"declarations":[{"constant":false,"id":1352,"name":"certificateId","nodeType":"VariableDeclaration","scope":1379,"src":"5250:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1351,"name":"uint256","nodeType":"ElementaryTypeName","src":"5250:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1363,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1355,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5289:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1356,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"5289:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1357,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1320,"src":"5304:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1358,"name":"certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1011,"src":"5319:16:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"id":1359,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1318,"src":"5337:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1360,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5345:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1361,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":1051,"src":"5345:12:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":1353,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"5274:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"issue","nodeType":"MemberAccess","referencedDeclaration":2229,"src":"5274:14:7","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$_t_int256_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (address,bytes memory,int256,uint256,bytes memory) external returns (uint256)"}},"id":1362,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5274:84:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5250:108:7"},{"expression":{"argumentTypes":null,"id":1368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1364,"name":"requestToCertificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1021,"src":"5368:20:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":1366,"indexExpression":{"argumentTypes":null,"id":1365,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5389:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5368:32:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1367,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1352,"src":"5403:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5368:48:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1369,"nodeType":"ExpressionStatement","src":"5368:48:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1371,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5461:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1372,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"5461:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1373,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5476:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1374,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1352,"src":"5488:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1370,"name":"CertificationRequestApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":971,"src":"5432:28:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":1375,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5432:70:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1376,"nodeType":"EmitStatement","src":"5427:75:7"},{"expression":{"argumentTypes":null,"id":1377,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1352,"src":"5520:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1326,"id":1378,"nodeType":"Return","src":"5513:20:7"}]},"documentation":null,"id":1380,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1323,"modifierName":{"argumentTypes":null,"id":1322,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"4856:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4856:9:7"}],"name":"approveCertificationRequest","nodeType":"FunctionDefinition","parameters":{"id":1321,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1316,"name":"_requestId","nodeType":"VariableDeclaration","scope":1380,"src":"4764:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1315,"name":"uint256","nodeType":"ElementaryTypeName","src":"4764:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1318,"name":"_value","nodeType":"VariableDeclaration","scope":1380,"src":"4792:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1317,"name":"uint256","nodeType":"ElementaryTypeName","src":"4792:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1320,"name":"_validityData","nodeType":"VariableDeclaration","scope":1380,"src":"4816:26:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1319,"name":"bytes","nodeType":"ElementaryTypeName","src":"4816:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4754:94:7"},"returnParameters":{"id":1326,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1325,"name":"","nodeType":"VariableDeclaration","scope":1380,"src":"4875:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1324,"name":"uint256","nodeType":"ElementaryTypeName","src":"4875:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4874:9:7"},"scope":2125,"src":"4718:822:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1411,"nodeType":"Block","src":"5645:252:7","statements":[{"assignments":[1394],"declarations":[{"constant":false,"id":1394,"name":"requestId","nodeType":"VariableDeclaration","scope":1411,"src":"5655:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1393,"name":"uint256","nodeType":"ElementaryTypeName","src":"5655:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1400,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1396,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1386,"src":"5699:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1397,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1382,"src":"5706:3:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"hexValue":"66616c7365","id":1398,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5711:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1395,"name":"requestCertificationFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1190,"src":"5675:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function (bytes memory,address,bool) returns (uint256)"}},"id":1399,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5675:42:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5655:62:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1402,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1394,"src":"5776:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1403,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1384,"src":"5799:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"69735265717565737456616c69642875696e7432353629","id":1406,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5843:25:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},"value":"isRequestValid(uint256)"},{"argumentTypes":null,"id":1407,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1394,"src":"5870:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1404,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"5819:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1405,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodeWithSignature","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5819:23:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithsignature_pure$_t_string_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (string memory) pure returns (bytes memory)"}},"id":1408,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5819:61:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1401,"name":"approveCertificationRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1380,"src":"5735:27:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,bytes memory) returns (uint256)"}},"id":1409,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5735:155:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1392,"id":1410,"nodeType":"Return","src":"5728:162:7"}]},"documentation":null,"id":1412,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1389,"modifierName":{"argumentTypes":null,"id":1388,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"5617:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5617:9:7"}],"name":"issue","nodeType":"FunctionDefinition","parameters":{"id":1387,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1382,"name":"_to","nodeType":"VariableDeclaration","scope":1412,"src":"5561:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1381,"name":"address","nodeType":"ElementaryTypeName","src":"5561:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1384,"name":"_value","nodeType":"VariableDeclaration","scope":1412,"src":"5574:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1383,"name":"uint256","nodeType":"ElementaryTypeName","src":"5574:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1386,"name":"_data","nodeType":"VariableDeclaration","scope":1412,"src":"5590:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1385,"name":"bytes","nodeType":"ElementaryTypeName","src":"5590:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"5560:49:7"},"returnParameters":{"id":1392,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1391,"name":"","nodeType":"VariableDeclaration","scope":1412,"src":"5636:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1390,"name":"uint256","nodeType":"ElementaryTypeName","src":"5636:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5635:9:7"},"scope":2125,"src":"5546:351:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1482,"nodeType":"Block","src":"6081:698:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1427,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6128:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1426,"name":"_requestNotApprovedOrRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2124,"src":"6099:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":1428,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6099:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f766543657274696669636174696f6e5265717565737428293a207265717565737420616c726561647920617070726f766564206f72207265766f6b6564","id":1429,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6141:68:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""},"value":"approveCertificationRequest(): request already approved or revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""}],"id":1425,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"6091:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1430,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6091:119:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1431,"nodeType":"ExpressionStatement","src":"6091:119:7"},{"assignments":[1433],"declarations":[{"constant":false,"id":1433,"name":"request","nodeType":"VariableDeclaration","scope":1482,"src":"6221:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1432,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"6221:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1437,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1434,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"6259:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1436,"indexExpression":{"argumentTypes":null,"id":1435,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6281:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6259:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"6221:71:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1439,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6310:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1440,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"isPrivate","nodeType":"MemberAccess","referencedDeclaration":1057,"src":"6310:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f76653a2063616e277420617070726f7665207075626c696320636572746966696361746573207573696e6720636f6d6d69746d656e7473","id":1441,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6329:62:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_87ec45055b4fd2bad7287f8aee952199d4c82c52fd80c577dc718bc200804057","typeString":"literal_string \\"approve: can\'t approve public certificates using commitments\\""},"value":"approve: can\'t approve public certificates using commitments"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_87ec45055b4fd2bad7287f8aee952199d4c82c52fd80c577dc718bc200804057","typeString":"literal_string \\"approve: can\'t approve public certificates using commitments\\""}],"id":1438,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"6302:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6302:90:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1443,"nodeType":"ExpressionStatement","src":"6302:90:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1445,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6412:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1444,"name":"_approve","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2030,"src":"6403:8:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1446,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6403:20:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1447,"nodeType":"ExpressionStatement","src":"6403:20:7"},{"assignments":[1449],"declarations":[{"constant":false,"id":1449,"name":"certificateId","nodeType":"VariableDeclaration","scope":1482,"src":"6434:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1448,"name":"uint256","nodeType":"ElementaryTypeName","src":"6434:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1460,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1452,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6473:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1453,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"6473:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1454,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1418,"src":"6488:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1455,"name":"certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1011,"src":"6503:16:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"hexValue":"30","id":1456,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6521:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1457,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6524:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1458,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":1051,"src":"6524:12:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":1450,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"6458:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"issue","nodeType":"MemberAccess","referencedDeclaration":2229,"src":"6458:14:7","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$_t_int256_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (address,bytes memory,int256,uint256,bytes memory) external returns (uint256)"}},"id":1459,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6458:79:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6434:103:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1462,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6565:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"307830","id":1463,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6580:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},{"argumentTypes":null,"id":1464,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1416,"src":"6585:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":1461,"name":"_updateCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2062,"src":"6547:17:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (uint256,bytes32,bytes32)"}},"id":1465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6547:50:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1466,"nodeType":"ExpressionStatement","src":"6547:50:7"},{"expression":{"argumentTypes":null,"id":1471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1467,"name":"requestToCertificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1021,"src":"6607:20:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":1469,"indexExpression":{"argumentTypes":null,"id":1468,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6628:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6607:32:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1470,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6642:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6607:48:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1472,"nodeType":"ExpressionStatement","src":"6607:48:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1474,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6700:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1475,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"6700:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1476,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6715:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1477,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6727:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1473,"name":"CertificationRequestApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":971,"src":"6671:28:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":1478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6671:70:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1479,"nodeType":"EmitStatement","src":"6666:75:7"},{"expression":{"argumentTypes":null,"id":1480,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6759:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1424,"id":1481,"nodeType":"Return","src":"6752:20:7"}]},"documentation":null,"id":1483,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1421,"modifierName":{"argumentTypes":null,"id":1420,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"6053:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6053:9:7"}],"name":"approveCertificationRequestPrivate","nodeType":"FunctionDefinition","parameters":{"id":1419,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1414,"name":"_requestId","nodeType":"VariableDeclaration","scope":1483,"src":"5956:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1413,"name":"uint256","nodeType":"ElementaryTypeName","src":"5956:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1416,"name":"_commitment","nodeType":"VariableDeclaration","scope":1483,"src":"5984:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1415,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5984:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1418,"name":"_validityData","nodeType":"VariableDeclaration","scope":1483,"src":"6013:26:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1417,"name":"bytes","nodeType":"ElementaryTypeName","src":"6013:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"5946:99:7"},"returnParameters":{"id":1424,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1423,"name":"","nodeType":"VariableDeclaration","scope":1483,"src":"6072:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1422,"name":"uint256","nodeType":"ElementaryTypeName","src":"6072:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6071:9:7"},"scope":2125,"src":"5903:876:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1514,"nodeType":"Block","src":"6896:263:7","statements":[{"assignments":[1497],"declarations":[{"constant":false,"id":1497,"name":"requestId","nodeType":"VariableDeclaration","scope":1514,"src":"6906:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1496,"name":"uint256","nodeType":"ElementaryTypeName","src":"6906:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1503,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1499,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1489,"src":"6950:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1500,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1485,"src":"6957:3:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"hexValue":"74727565","id":1501,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6962:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1498,"name":"requestCertificationFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1190,"src":"6926:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function (bytes memory,address,bool) returns (uint256)"}},"id":1502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6926:41:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6906:61:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1505,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1497,"src":"7033:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1506,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1487,"src":"7056:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"69735265717565737456616c69642875696e7432353629","id":1509,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7105:25:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},"value":"isRequestValid(uint256)"},{"argumentTypes":null,"id":1510,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1497,"src":"7132:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1507,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"7081:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1508,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodeWithSignature","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7081:23:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithsignature_pure$_t_string_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (string memory) pure returns (bytes memory)"}},"id":1511,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7081:61:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1504,"name":"approveCertificationRequestPrivate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1483,"src":"6985:34:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (uint256,bytes32,bytes memory) returns (uint256)"}},"id":1512,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6985:167:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1495,"id":1513,"nodeType":"Return","src":"6978:174:7"}]},"documentation":null,"id":1515,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1492,"modifierName":{"argumentTypes":null,"id":1491,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"6868:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6868:9:7"}],"name":"issuePrivate","nodeType":"FunctionDefinition","parameters":{"id":1490,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1485,"name":"_to","nodeType":"VariableDeclaration","scope":1515,"src":"6807:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1484,"name":"address","nodeType":"ElementaryTypeName","src":"6807:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1487,"name":"_commitment","nodeType":"VariableDeclaration","scope":1515,"src":"6820:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1486,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6820:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1489,"name":"_data","nodeType":"VariableDeclaration","scope":1515,"src":"6841:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1488,"name":"bytes","nodeType":"ElementaryTypeName","src":"6841:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"6806:54:7"},"returnParameters":{"id":1495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1494,"name":"","nodeType":"VariableDeclaration","scope":1515,"src":"6887:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1493,"name":"uint256","nodeType":"ElementaryTypeName","src":"6887:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6886:9:7"},"scope":2125,"src":"6785:374:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1554,"nodeType":"Block","src":"7285:411:7","statements":[{"assignments":[1523],"declarations":[{"constant":false,"id":1523,"name":"currentRequest","nodeType":"VariableDeclaration","scope":1554,"src":"7289:45:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"},"typeName":{"contractScope":null,"id":1522,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"7289:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}},"value":null,"visibility":"internal"}],"id":1527,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1524,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"7337:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1526,"indexExpression":{"argumentTypes":null,"id":1525,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1517,"src":"7367:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7337:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7289:93:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1534,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1529,"name":"currentRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1523,"src":"7401:14:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest storage pointer"}},"id":1530,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1060,"src":"7401:20:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"307830","id":1532,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7433:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1531,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7425:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1533,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7425:12:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"7401:36:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"4f6e6c79206f6e652070726976617465207472616e736665722063616e2062652072657175657374656420617420612074696d652e","id":1535,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7439:55:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cdde079ce24c3e1ec2c3dc93f27ed66428f7ac3ed9c98d191843b4690c9864de","typeString":"literal_string \\"Only one private transfer can be requested at a time.\\""},"value":"Only one private transfer can be requested at a time."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cdde079ce24c3e1ec2c3dc93f27ed66428f7ac3ed9c98d191843b4690c9864de","typeString":"literal_string \\"Only one private transfer can be requested at a time.\\""}],"id":1528,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"7393:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1536,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7393:102:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1537,"nodeType":"ExpressionStatement","src":"7393:102:7"},{"expression":{"argumentTypes":null,"id":1546,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1538,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"7500:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1540,"indexExpression":{"argumentTypes":null,"id":1539,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1517,"src":"7530:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7500:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1542,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"7583:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7583:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1544,"name":"_ownerAddressLeafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1519,"src":"7604:21:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":1541,"name":"PrivateTransferRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1063,"src":"7548:22:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_PrivateTransferRequest_$1063_storage_ptr_$","typeString":"type(struct Issuer.PrivateTransferRequest storage pointer)"}},"id":1545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","hash"],"nodeType":"FunctionCall","src":"7548:82:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_memory","typeString":"struct Issuer.PrivateTransferRequest memory"}},"src":"7500:130:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"id":1547,"nodeType":"ExpressionStatement","src":"7500:130:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1549,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"7665:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7665:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1551,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1517,"src":"7677:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1548,"name":"PrivateTransferRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":997,"src":"7640:24:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":1552,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7640:52:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1553,"nodeType":"EmitStatement","src":"7635:57:7"}]},"documentation":null,"id":1555,"implemented":true,"kind":"function","modifiers":[],"name":"requestPrivateTransfer","nodeType":"FunctionDefinition","parameters":{"id":1520,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1517,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1555,"src":"7221:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1516,"name":"uint256","nodeType":"ElementaryTypeName","src":"7221:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1519,"name":"_ownerAddressLeafHash","nodeType":"VariableDeclaration","scope":1555,"src":"7245:29:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1518,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7245:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"7220:55:7"},"returnParameters":{"id":1521,"nodeType":"ParameterList","parameters":[],"src":"7285:0:7"},"scope":2125,"src":"7189:507:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1616,"nodeType":"Block","src":"7902:567:7","statements":[{"assignments":[1572],"declarations":[{"constant":false,"id":1572,"name":"pendingRequest","nodeType":"VariableDeclaration","scope":1616,"src":"7906:45:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"},"typeName":{"contractScope":null,"id":1571,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"7906:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}},"value":null,"visibility":"internal"}],"id":1576,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1573,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"7954:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1575,"indexExpression":{"argumentTypes":null,"id":1574,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1557,"src":"7984:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7954:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7906:93:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1578,"name":"pendingRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1572,"src":"8018:14:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest storage pointer"}},"id":1579,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1060,"src":"8018:20:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"307830","id":1581,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8050:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1580,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8042:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1582,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8042:12:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"8018:36:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f7665507269766174655472616e7366657228293a2043616e277420617070726f76652061206e6f6e2d6578697374696e672070726976617465207472616e736665722e","id":1584,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8056:74:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6cf828c632332e89703aec4122571623c96b5209d33cf86795a63ee363bb4f8a","typeString":"literal_string \\"approvePrivateTransfer(): Can\'t approve a non-existing private transfer.\\""},"value":"approvePrivateTransfer(): Can\'t approve a non-existing private transfer."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6cf828c632332e89703aec4122571623c96b5209d33cf86795a63ee363bb4f8a","typeString":"literal_string \\"approvePrivateTransfer(): Can\'t approve a non-existing private transfer.\\""}],"id":1577,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"8010:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1585,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8010:121:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1586,"nodeType":"ExpressionStatement","src":"8010:121:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1589,"name":"pendingRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1572,"src":"8158:14:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest storage pointer"}},"id":1590,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1062,"src":"8158:19:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1591,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1564,"src":"8179:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1592,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1560,"src":"8192:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}],"id":1588,"name":"validateMerkle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1987,"src":"8143:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$_t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (bytes32,bytes32,struct Issuer.Proof memory[] memory) pure returns (bool)"}},"id":1593,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8143:56:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f7665507269766174655472616e7366657228293a2057726f6e67206d65726b6c652074726565","id":1594,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8201:45:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_2e6d69ae496388eb97360dda0aaff72998f04b0b6fdcc45c945be1ee74b9e0e1","typeString":"literal_string \\"approvePrivateTransfer(): Wrong merkle tree\\""},"value":"approvePrivateTransfer(): Wrong merkle tree"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2e6d69ae496388eb97360dda0aaff72998f04b0b6fdcc45c945be1ee74b9e0e1","typeString":"literal_string \\"approvePrivateTransfer(): Wrong merkle tree\\""}],"id":1587,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"8135:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1595,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8135:112:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1596,"nodeType":"ExpressionStatement","src":"8135:112:7"},{"expression":{"argumentTypes":null,"id":1606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1597,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"8258:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1599,"indexExpression":{"argumentTypes":null,"id":1598,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1557,"src":"8288:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8258:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"307830","id":1602,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8349:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1601,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8341:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1603,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8341:12:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"hexValue":"","id":1604,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8364:2:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"id":1600,"name":"PrivateTransferRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1063,"src":"8306:22:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_PrivateTransferRequest_$1063_storage_ptr_$","typeString":"type(struct Issuer.PrivateTransferRequest storage pointer)"}},"id":1605,"isConstant":false,"isLValue":false,"isPure":true,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","hash"],"nodeType":"FunctionCall","src":"8306:65:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_memory","typeString":"struct Issuer.PrivateTransferRequest memory"}},"src":"8258:113:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"id":1607,"nodeType":"ExpressionStatement","src":"8258:113:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1609,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1557,"src":"8394:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1610,"name":"_previousCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1562,"src":"8410:19:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1611,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1564,"src":"8431:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":1608,"name":"_updateCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2062,"src":"8376:17:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (uint256,bytes32,bytes32)"}},"id":1612,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8376:67:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1613,"nodeType":"ExpressionStatement","src":"8376:67:7"},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":1614,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8461:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":1570,"id":1615,"nodeType":"Return","src":"8454:11:7"}]},"documentation":null,"id":1617,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1567,"modifierName":{"argumentTypes":null,"id":1566,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"7877:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"7877:9:7"}],"name":"approvePrivateTransfer","nodeType":"FunctionDefinition","parameters":{"id":1565,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1557,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1617,"src":"7740:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1556,"name":"uint256","nodeType":"ElementaryTypeName","src":"7740:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1560,"name":"_proof","nodeType":"VariableDeclaration","scope":1617,"src":"7772:23:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1558,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"7772:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1559,"length":null,"nodeType":"ArrayTypeName","src":"7772:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":1562,"name":"_previousCommitment","nodeType":"VariableDeclaration","scope":1617,"src":"7805:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1561,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7805:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1564,"name":"_commitment","nodeType":"VariableDeclaration","scope":1617,"src":"7842:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1563,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7842:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"7730:137:7"},"returnParameters":{"id":1570,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1569,"name":"","nodeType":"VariableDeclaration","scope":1617,"src":"7896:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1568,"name":"bool","nodeType":"ElementaryTypeName","src":"7896:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"7895:6:7"},"scope":2125,"src":"7699:770:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1663,"nodeType":"Block","src":"8642:440:7","statements":[{"assignments":[1627],"declarations":[{"constant":false,"id":1627,"name":"exists","nodeType":"VariableDeclaration","scope":1663,"src":"8652:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1626,"name":"bool","nodeType":"ElementaryTypeName","src":"8652:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"id":1631,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1629,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1619,"src":"8690:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1628,"name":"_migrationRequestExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2102,"src":"8666:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":1630,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8666:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8652:53:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1634,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8723:7:7","subExpression":{"argumentTypes":null,"id":1633,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1627,"src":"8724:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6d6967726174696f6e207265717565737420666f72207468697320636572746966696361746520616c726561647920657869737473","id":1635,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8732:55:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_f709d14da8a5feb873f1e9485340059cc4778d8b2f65523328793fa61bc32e07","typeString":"literal_string \\"migration request for this certificate already exists\\""},"value":"migration request for this certificate already exists"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f709d14da8a5feb873f1e9485340059cc4778d8b2f65523328793fa61bc32e07","typeString":"literal_string \\"migration request for this certificate already exists\\""}],"id":1632,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"8715:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8715:73:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1637,"nodeType":"ExpressionStatement","src":"8715:73:7"},{"assignments":[1639],"declarations":[{"constant":false,"id":1639,"name":"id","nodeType":"VariableDeclaration","scope":1663,"src":"8793:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1638,"name":"uint256","nodeType":"ElementaryTypeName","src":"8793:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1642,"initialValue":{"argumentTypes":null,"id":1641,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8806:29:7","subExpression":{"argumentTypes":null,"id":1640,"name":"requestMigrateToPublicNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1023,"src":"8808:27:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8793:42:7"},{"expression":{"argumentTypes":null,"id":1653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1643,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"8840:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1645,"indexExpression":{"argumentTypes":null,"id":1644,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1639,"src":"8870:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8840:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1647,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"8907:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1648,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8907:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1649,"name":"_ownerAddressLeafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1621,"src":"8928:21:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1650,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1619,"src":"8969:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"66616c7365","id":1651,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8998:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1646,"name":"RequestStateChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1072,"src":"8876:18:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_RequestStateChange_$1072_storage_ptr_$","typeString":"type(struct Issuer.RequestStateChange storage pointer)"}},"id":1652,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","hash","certificateId","approved"],"nodeType":"FunctionCall","src":"8876:132:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_memory","typeString":"struct Issuer.RequestStateChange memory"}},"src":"8840:168:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"id":1654,"nodeType":"ExpressionStatement","src":"8840:168:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1656,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"9043:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1657,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9043:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1658,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1639,"src":"9055:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1655,"name":"MigrateToPublicRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":991,"src":"9018:24:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":1659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9018:40:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1660,"nodeType":"EmitStatement","src":"9013:45:7"},{"expression":{"argumentTypes":null,"id":1661,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1639,"src":"9076:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1625,"id":1662,"nodeType":"Return","src":"9069:9:7"}]},"documentation":null,"id":1664,"implemented":true,"kind":"function","modifiers":[],"name":"requestMigrateToPublic","nodeType":"FunctionDefinition","parameters":{"id":1622,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1619,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1664,"src":"8560:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1618,"name":"uint256","nodeType":"ElementaryTypeName","src":"8560:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1621,"name":"_ownerAddressLeafHash","nodeType":"VariableDeclaration","scope":1664,"src":"8584:29:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1620,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8584:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"8559:55:7"},"returnParameters":{"id":1625,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1624,"name":"","nodeType":"VariableDeclaration","scope":1664,"src":"8633:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1623,"name":"uint256","nodeType":"ElementaryTypeName","src":"8633:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"8632:9:7"},"scope":2125,"src":"8528:554:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1677,"nodeType":"Block","src":"9208:69:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1673,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"9225:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1675,"indexExpression":{"argumentTypes":null,"id":1674,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1666,"src":"9255:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9225:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"functionReturnParameters":1672,"id":1676,"nodeType":"Return","src":"9218:52:7"}]},"documentation":null,"id":1678,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1669,"modifierName":{"argumentTypes":null,"id":1668,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"9158:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"9158:9:7"}],"name":"getPrivateTransferRequest","nodeType":"FunctionDefinition","parameters":{"id":1667,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1666,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1678,"src":"9123:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1665,"name":"uint","nodeType":"ElementaryTypeName","src":"9123:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9122:21:7"},"returnParameters":{"id":1672,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1671,"name":"","nodeType":"VariableDeclaration","scope":1678,"src":"9177:29:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_memory_ptr","typeString":"struct Issuer.PrivateTransferRequest"},"typeName":{"contractScope":null,"id":1670,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"9177:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}},"value":null,"visibility":"internal"}],"src":"9176:31:7"},"scope":2125,"src":"9088:189:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1691,"nodeType":"Block","src":"9389:65:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1687,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"9406:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1689,"indexExpression":{"argumentTypes":null,"id":1688,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1680,"src":"9436:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9406:41:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"functionReturnParameters":1686,"id":1690,"nodeType":"Return","src":"9399:48:7"}]},"documentation":null,"id":1692,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1683,"modifierName":{"argumentTypes":null,"id":1682,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"9343:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"9343:9:7"}],"name":"getMigrationRequest","nodeType":"FunctionDefinition","parameters":{"id":1681,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1680,"name":"_requestId","nodeType":"VariableDeclaration","scope":1692,"src":"9312:15:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1679,"name":"uint","nodeType":"ElementaryTypeName","src":"9312:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9311:17:7"},"returnParameters":{"id":1686,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1685,"name":"","nodeType":"VariableDeclaration","scope":1692,"src":"9362:25:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_memory_ptr","typeString":"struct Issuer.RequestStateChange"},"typeName":{"contractScope":null,"id":1684,"name":"RequestStateChange","nodeType":"UserDefinedTypeName","referencedDeclaration":1072,"src":"9362:18:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"}},"value":null,"visibility":"internal"}],"src":"9361:27:7"},"scope":2125,"src":"9283:171:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1736,"nodeType":"Block","src":"9554:310:7","statements":[{"assignments":[1702],"declarations":[{"constant":false,"id":1702,"name":"found","nodeType":"VariableDeclaration","scope":1736,"src":"9564:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1701,"name":"bool","nodeType":"ElementaryTypeName","src":"9564:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"id":1704,"initialValue":{"argumentTypes":null,"hexValue":"66616c7365","id":1703,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"9577:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"nodeType":"VariableDeclarationStatement","src":"9564:18:7"},{"body":{"id":1729,"nodeType":"Block","src":"9643:150:7","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1715,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"9661:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1717,"indexExpression":{"argumentTypes":null,"id":1716,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9691:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9661:32:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"id":1718,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"9661:46:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":1719,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1694,"src":"9711:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9661:64:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1728,"nodeType":"IfStatement","src":"9657:132:7","trueBody":{"id":1727,"nodeType":"Block","src":"9727:62:7","statements":[{"expression":{"argumentTypes":null,"id":1723,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1721,"name":"found","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1702,"src":"9745:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1722,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"9753:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"9745:12:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1724,"nodeType":"ExpressionStatement","src":"9745:12:7"},{"expression":{"argumentTypes":null,"id":1725,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9773:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1700,"id":1726,"nodeType":"Return","src":"9766:8:7"}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1711,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1709,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9604:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":1710,"name":"requestMigrateToPublicNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1023,"src":"9609:27:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9604:32:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1730,"initializationExpression":{"assignments":[1706],"declarations":[{"constant":false,"id":1706,"name":"i","nodeType":"VariableDeclaration","scope":1730,"src":"9592:6:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1705,"name":"uint","nodeType":"ElementaryTypeName","src":"9592:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1708,"initialValue":{"argumentTypes":null,"hexValue":"31","id":1707,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9601:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"VariableDeclarationStatement","src":"9592:10:7"},"loopExpression":{"expression":{"argumentTypes":null,"id":1713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"9638:3:7","subExpression":{"argumentTypes":null,"id":1712,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9638:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1714,"nodeType":"ExpressionStatement","src":"9638:3:7"},"nodeType":"ForStatement","src":"9587:206:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1732,"name":"found","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1702,"src":"9811:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"756e61626c6520746f2066696e6420746865206d6967726174696f6e2072657175657374","id":1733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9818:38:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_dcdf09f5c892cae594bbe663ef4f95dbd81e735afe988c134d2932fc7cbfaec3","typeString":"literal_string \\"unable to find the migration request\\""},"value":"unable to find the migration request"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_dcdf09f5c892cae594bbe663ef4f95dbd81e735afe988c134d2932fc7cbfaec3","typeString":"literal_string \\"unable to find the migration request\\""}],"id":1731,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"9803:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9803:54:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1735,"nodeType":"ExpressionStatement","src":"9803:54:7"}]},"documentation":null,"id":1737,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1697,"modifierName":{"argumentTypes":null,"id":1696,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"9526:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"9526:9:7"}],"name":"getMigrationRequestId","nodeType":"FunctionDefinition","parameters":{"id":1695,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1694,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1737,"src":"9491:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1693,"name":"uint","nodeType":"ElementaryTypeName","src":"9491:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9490:21:7"},"returnParameters":{"id":1700,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1699,"name":"","nodeType":"VariableDeclaration","scope":1737,"src":"9545:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1698,"name":"uint256","nodeType":"ElementaryTypeName","src":"9545:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9544:9:7"},"scope":2125,"src":"9460:404:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1845,"nodeType":"Block","src":"10034:852:7","statements":[{"assignments":[1752],"declarations":[{"constant":false,"id":1752,"name":"request","nodeType":"VariableDeclaration","scope":1845,"src":"10038:34:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"},"typeName":{"contractScope":null,"id":1751,"name":"RequestStateChange","nodeType":"UserDefinedTypeName","referencedDeclaration":1072,"src":"10038:18:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"}},"value":null,"visibility":"internal"}],"id":1756,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1753,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"10075:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1755,"indexExpression":{"argumentTypes":null,"id":1754,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1739,"src":"10105:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10075:41:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"nodeType":"VariableDeclarationStatement","src":"10038:78:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1760,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10129:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1758,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10130:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1759,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1071,"src":"10130:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6d696772617465546f5075626c696328293a205265717565737420616c726561647920617070726f766564","id":1761,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10148:45:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_0fffc93ff4b8b93fc963b28f35a8217af9e0c49316c871ab2489ed0be3ca191a","typeString":"literal_string \\"migrateToPublic(): Request already approved\\""},"value":"migrateToPublic(): Request already approved"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0fffc93ff4b8b93fc963b28f35a8217af9e0c49316c871ab2489ed0be3ca191a","typeString":"literal_string \\"migrateToPublic(): Request already approved\\""}],"id":1757,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10121:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1762,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10121:73:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1763,"nodeType":"ExpressionStatement","src":"10121:73:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10212:34:7","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1765,"name":"migrations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1039,"src":"10213:10:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1768,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1766,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10224:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1767,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10224:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10213:33:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6d696772617465546f5075626c696328293a20636572746966696361746520616c7265616479206d69677261746564","id":1770,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10248:49:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_21a48d3c1c631bc2615fc34f0a0311f8bf12ee8d062acbd8a1743d6d6b29a493","typeString":"literal_string \\"migrateToPublic(): certificate already migrated\\""},"value":"migrateToPublic(): certificate already migrated"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_21a48d3c1c631bc2615fc34f0a0311f8bf12ee8d062acbd8a1743d6d6b29a493","typeString":"literal_string \\"migrateToPublic(): certificate already migrated\\""}],"id":1764,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10204:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1771,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10204:94:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1772,"nodeType":"ExpressionStatement","src":"10204:94:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":1785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1774,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10310:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1775,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1069,"src":"10310:12:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1779,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10353:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1780,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10353:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1781,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10368:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1782,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1743,"src":"10377:5:7","typeDescriptions":{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"}],"expression":{"argumentTypes":null,"id":1777,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"10336:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1778,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10336:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1783,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10336:47:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1776,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"10326:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10326:58:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"10310:74:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"526571756573746564206861736820646f6573206e6f74206d61746368","id":1786,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10386:31:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_647a734a50ec0ec39899922fef5a24935e158522f63d7b92c083a1a50b3136ab","typeString":"literal_string \\"Requested hash does not match\\""},"value":"Requested hash does not match"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_647a734a50ec0ec39899922fef5a24935e158522f63d7b92c083a1a50b3136ab","typeString":"literal_string \\"Requested hash does not match\\""}],"id":1773,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10302:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1787,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10302:116:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1788,"nodeType":"ExpressionStatement","src":"10302:116:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1791,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10459:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1792,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10459:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1793,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10474:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1794,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1743,"src":"10483:5:7","typeDescriptions":{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1795,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"10490:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":1798,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1796,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10502:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1797,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10502:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10490:34:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1799,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1746,"src":"10526:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}],"id":1790,"name":"validateOwnershipProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1920,"src":"10436:22:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint256_$_t_string_memory_ptr_$_t_bytes32_$_t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (address,uint256,string memory,bytes32,struct Issuer.Proof memory[] memory) pure returns (bool)"}},"id":1800,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10436:97:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"496e76616c69642070726f6f66","id":1801,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10535:15:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_dbb8b2d35c676776519896c045ce9c5b267915e4127b1aa1fa65a56a3d2b2639","typeString":"literal_string \\"Invalid proof\\""},"value":"Invalid proof"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_dbb8b2d35c676776519896c045ce9c5b267915e4127b1aa1fa65a56a3d2b2639","typeString":"literal_string \\"Invalid proof\\""}],"id":1789,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10428:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1802,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10428:123:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1803,"nodeType":"ExpressionStatement","src":"10428:123:7"},{"expression":{"argumentTypes":null,"id":1808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1804,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10556:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1806,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1071,"src":"10556:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1807,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10575:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"10556:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1809,"nodeType":"ExpressionStatement","src":"10556:23:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1813,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10604:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1814,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10604:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1815,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10627:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1816,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10627:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1817,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10642:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1810,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10590:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1812,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mint","nodeType":"MemberAccess","referencedDeclaration":663,"src":"10590:13:7","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256) external"}},"id":1818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10590:60:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1819,"nodeType":"ExpressionStatement","src":"10590:60:7"},{"expression":{"argumentTypes":null,"id":1825,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1820,"name":"migrations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1039,"src":"10660:10:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1823,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1821,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10671:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1822,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10671:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10660:33:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1824,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10696:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"10660:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1826,"nodeType":"ExpressionStatement","src":"10660:40:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1828,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10729:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10729:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1830,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"10752:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":1833,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1831,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10764:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1832,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10764:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10752:34:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"hexValue":"307830","id":1834,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10788:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1827,"name":"_updateCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2062,"src":"10711:17:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (uint256,bytes32,bytes32)"}},"id":1835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10711:81:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1836,"nodeType":"ExpressionStatement","src":"10711:81:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1838,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10836:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1839,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10836:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1840,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10859:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1841,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10859:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1842,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10874:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1837,"name":"CertificateMigratedToPublic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1005,"src":"10808:27:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":1843,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10808:74:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1844,"nodeType":"EmitStatement","src":"10803:79:7"}]},"documentation":null,"id":1846,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1749,"modifierName":{"argumentTypes":null,"id":1748,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"10024:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"10024:9:7"}],"name":"migrateToPublic","nodeType":"FunctionDefinition","parameters":{"id":1747,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1739,"name":"_requestId","nodeType":"VariableDeclaration","scope":1846,"src":"9901:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1738,"name":"uint256","nodeType":"ElementaryTypeName","src":"9901:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1741,"name":"_volume","nodeType":"VariableDeclaration","scope":1846,"src":"9929:15:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1740,"name":"uint256","nodeType":"ElementaryTypeName","src":"9929:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1743,"name":"_salt","nodeType":"VariableDeclaration","scope":1846,"src":"9954:21:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_string_calldata_ptr","typeString":"string"},"typeName":{"id":1742,"name":"string","nodeType":"ElementaryTypeName","src":"9954:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":1746,"name":"_proof","nodeType":"VariableDeclaration","scope":1846,"src":"9985:23:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1744,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"9985:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1745,"length":null,"nodeType":"ArrayTypeName","src":"9985:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"}],"src":"9891:123:7"},"returnParameters":{"id":1750,"nodeType":"ParameterList","parameters":[],"src":"10034:0:7"},"scope":2125,"src":"9867:1019:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1864,"nodeType":"Block","src":"11008:48:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1859,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1848,"src":"11030:5:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1860,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1850,"src":"11037:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1861,"name":"_deviceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1852,"src":"11042:9:7","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":1857,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11019:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1858,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encode","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11019:10:7","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11019:33:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":1856,"id":1863,"nodeType":"Return","src":"11012:40:7"}]},"documentation":null,"id":1865,"implemented":true,"kind":"function","modifiers":[],"name":"encodeData","nodeType":"FunctionDefinition","parameters":{"id":1853,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1848,"name":"_from","nodeType":"VariableDeclaration","scope":1865,"src":"10926:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1847,"name":"uint","nodeType":"ElementaryTypeName","src":"10926:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1850,"name":"_to","nodeType":"VariableDeclaration","scope":1865,"src":"10938:8:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1849,"name":"uint","nodeType":"ElementaryTypeName","src":"10938:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1852,"name":"_deviceId","nodeType":"VariableDeclaration","scope":1865,"src":"10948:23:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1851,"name":"string","nodeType":"ElementaryTypeName","src":"10948:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"10925:47:7"},"returnParameters":{"id":1856,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1855,"name":"","nodeType":"VariableDeclaration","scope":1865,"src":"10994:12:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1854,"name":"bytes","nodeType":"ElementaryTypeName","src":"10994:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"10993:14:7"},"scope":2125,"src":"10906:150:7","stateMutability":"pure","superFunction":null,"visibility":"public"},{"body":{"id":1885,"nodeType":"Block","src":"11147:54:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1878,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1867,"src":"11169:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"components":[{"argumentTypes":null,"id":1879,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11177:4:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},{"argumentTypes":null,"id":1880,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11183:4:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},{"argumentTypes":null,"id":1881,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11189:6:7","typeDescriptions":{"typeIdentifier":"t_type$_t_string_storage_ptr_$","typeString":"type(string storage pointer)"},"typeName":"string"}],"id":1882,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"11176:20:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_string_storage_ptr_$_$","typeString":"tuple(type(uint256),type(uint256),type(string storage pointer))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_string_storage_ptr_$_$","typeString":"tuple(type(uint256),type(uint256),type(string storage pointer))"}],"expression":{"argumentTypes":null,"id":1876,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11158:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1877,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11158:10:7","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":1883,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11158:39:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_string_memory_$","typeString":"tuple(uint256,uint256,string memory)"}},"functionReturnParameters":1875,"id":1884,"nodeType":"Return","src":"11151:46:7"}]},"documentation":null,"id":1886,"implemented":true,"kind":"function","modifiers":[],"name":"decodeData","nodeType":"FunctionDefinition","parameters":{"id":1868,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1867,"name":"_data","nodeType":"VariableDeclaration","scope":1886,"src":"11079:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1866,"name":"bytes","nodeType":"ElementaryTypeName","src":"11079:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"11078:20:7"},"returnParameters":{"id":1875,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1870,"name":"","nodeType":"VariableDeclaration","scope":1886,"src":"11120:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1869,"name":"uint","nodeType":"ElementaryTypeName","src":"11120:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1872,"name":"","nodeType":"VariableDeclaration","scope":1886,"src":"11126:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1871,"name":"uint","nodeType":"ElementaryTypeName","src":"11126:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1874,"name":"","nodeType":"VariableDeclaration","scope":1886,"src":"11132:13:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1873,"name":"string","nodeType":"ElementaryTypeName","src":"11132:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"11119:27:7"},"scope":2125,"src":"11059:142:7","stateMutability":"pure","superFunction":null,"visibility":"public"},{"body":{"id":1919,"nodeType":"Block","src":"11410:140:7","statements":[{"assignments":[1903],"declarations":[{"constant":false,"id":1903,"name":"leafHash","nodeType":"VariableDeclaration","scope":1919,"src":"11414:16:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1902,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11414:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":1912,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1907,"name":"_ownerAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1888,"src":"11460:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1908,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1890,"src":"11475:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1909,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1892,"src":"11484:5:7","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":1905,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11443:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1906,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11443:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1910,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11443:47:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1904,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"11433:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1911,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11433:58:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"11414:77:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1914,"name":"leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1903,"src":"11518:8:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1915,"name":"_rootHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1894,"src":"11528:9:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1916,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1897,"src":"11539:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}],"id":1913,"name":"validateMerkle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1987,"src":"11503:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$_t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (bytes32,bytes32,struct Issuer.Proof memory[] memory) pure returns (bool)"}},"id":1917,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11503:43:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":1901,"id":1918,"nodeType":"Return","src":"11496:50:7"}]},"documentation":null,"id":1920,"implemented":true,"kind":"function","modifiers":[],"name":"validateOwnershipProof","nodeType":"FunctionDefinition","parameters":{"id":1898,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1888,"name":"_ownerAddress","nodeType":"VariableDeclaration","scope":1920,"src":"11245:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1887,"name":"address","nodeType":"ElementaryTypeName","src":"11245:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1890,"name":"_volume","nodeType":"VariableDeclaration","scope":1920,"src":"11276:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1889,"name":"uint","nodeType":"ElementaryTypeName","src":"11276:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1892,"name":"_salt","nodeType":"VariableDeclaration","scope":1920,"src":"11298:19:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1891,"name":"string","nodeType":"ElementaryTypeName","src":"11298:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":1894,"name":"_rootHash","nodeType":"VariableDeclaration","scope":1920,"src":"11327:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1893,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11327:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1897,"name":"_proof","nodeType":"VariableDeclaration","scope":1920,"src":"11354:21:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1895,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"11354:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1896,"length":null,"nodeType":"ArrayTypeName","src":"11354:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"}],"src":"11235:146:7"},"returnParameters":{"id":1901,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1900,"name":"","nodeType":"VariableDeclaration","scope":1920,"src":"11404:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1899,"name":"bool","nodeType":"ElementaryTypeName","src":"11404:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"11403:6:7"},"scope":2125,"src":"11204:346:7","stateMutability":"pure","superFunction":null,"visibility":"private"},{"body":{"id":1986,"nodeType":"Block","src":"11666:287:7","statements":[{"assignments":[1933],"declarations":[{"constant":false,"id":1933,"name":"hash","nodeType":"VariableDeclaration","scope":1986,"src":"11670:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1932,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11670:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":1935,"initialValue":{"argumentTypes":null,"id":1934,"name":"_leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1922,"src":"11685:9:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"11670:24:7"},{"body":{"id":1980,"nodeType":"Block","src":"11743:178:7","statements":[{"assignments":[1948],"declarations":[{"constant":false,"id":1948,"name":"p","nodeType":"VariableDeclaration","scope":1980,"src":"11748:14:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof"},"typeName":{"contractScope":null,"id":1947,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"11748:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"value":null,"visibility":"internal"}],"id":1952,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1949,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1927,"src":"11765:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}},"id":1951,"indexExpression":{"argumentTypes":null,"id":1950,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"11772:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11765:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory","typeString":"struct Issuer.Proof memory"}},"nodeType":"VariableDeclarationStatement","src":"11748:26:7"},{"condition":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1953,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1948,"src":"11783:1:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof memory"}},"id":1954,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"left","nodeType":"MemberAccess","referencedDeclaration":1074,"src":"11783:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":1978,"nodeType":"Block","src":"11857:60:7","statements":[{"expression":{"argumentTypes":null,"id":1976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1967,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11863:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1971,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11897:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1972,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1948,"src":"11903:1:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof memory"}},"id":1973,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1076,"src":"11903:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":1969,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11880:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1970,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11880:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1974,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11880:30:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1968,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"11870:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1975,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11870:41:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11863:48:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":1977,"nodeType":"ExpressionStatement","src":"11863:48:7"}]},"id":1979,"nodeType":"IfStatement","src":"11779:138:7","trueBody":{"id":1966,"nodeType":"Block","src":"11791:60:7","statements":[{"expression":{"argumentTypes":null,"id":1964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1955,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11797:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1959,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1948,"src":"11831:1:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof memory"}},"id":1960,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1076,"src":"11831:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1961,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11839:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":1957,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11814:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1958,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11814:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1962,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11814:30:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1956,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"11804:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11804:41:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11797:48:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":1965,"nodeType":"ExpressionStatement","src":"11797:48:7"}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1940,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"11719:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1941,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1927,"src":"11723:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}},"id":1942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11723:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11719:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1981,"initializationExpression":{"assignments":[1937],"declarations":[{"constant":false,"id":1937,"name":"i","nodeType":"VariableDeclaration","scope":1981,"src":"11704:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1936,"name":"uint256","nodeType":"ElementaryTypeName","src":"11704:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1939,"initialValue":{"argumentTypes":null,"hexValue":"30","id":1938,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11716:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11704:13:7"},"loopExpression":{"expression":{"argumentTypes":null,"id":1945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11738:3:7","subExpression":{"argumentTypes":null,"id":1944,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"11738:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1946,"nodeType":"ExpressionStatement","src":"11738:3:7"},"nodeType":"ForStatement","src":"11699:222:7"},{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":1984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1982,"name":"_rootHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1924,"src":"11932:9:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":1983,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11945:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11932:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":1931,"id":1985,"nodeType":"Return","src":"11925:24:7"}]},"documentation":null,"id":1987,"implemented":true,"kind":"function","modifiers":[],"name":"validateMerkle","nodeType":"FunctionDefinition","parameters":{"id":1928,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1922,"name":"_leafHash","nodeType":"VariableDeclaration","scope":1987,"src":"11577:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1921,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11577:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1924,"name":"_rootHash","nodeType":"VariableDeclaration","scope":1987,"src":"11596:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1923,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11596:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1927,"name":"_proof","nodeType":"VariableDeclaration","scope":1987,"src":"11615:21:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1925,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"11615:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1926,"length":null,"nodeType":"ArrayTypeName","src":"11615:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"}],"src":"11576:61:7"},"returnParameters":{"id":1931,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1930,"name":"","nodeType":"VariableDeclaration","scope":1987,"src":"11660:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1929,"name":"bool","nodeType":"ElementaryTypeName","src":"11660:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"11659:6:7"},"scope":2125,"src":"11553:400:7","stateMutability":"pure","superFunction":null,"visibility":"private"},{"body":{"id":1996,"nodeType":"Block","src":"12037:41:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1993,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"12062:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}],"id":1992,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12054:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1994,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12054:17:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":1991,"id":1995,"nodeType":"Return","src":"12047:24:7"}]},"documentation":null,"id":1997,"implemented":true,"kind":"function","modifiers":[],"name":"getRegistryAddress","nodeType":"FunctionDefinition","parameters":{"id":1988,"nodeType":"ParameterList","parameters":[],"src":"12002:2:7"},"returnParameters":{"id":1991,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1990,"name":"","nodeType":"VariableDeclaration","scope":1997,"src":"12028:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1989,"name":"address","nodeType":"ElementaryTypeName","src":"12028:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"12027:9:7"},"scope":2125,"src":"11975:103:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":2004,"nodeType":"Block","src":"12141:30:7","statements":[{"expression":{"argumentTypes":null,"hexValue":"76302e31","id":2002,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12158:6:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6d332d76c5f02eb1a7286b96f4a528ceba4d78d0825283d5be2e358ade4be84e","typeString":"literal_string \\"v0.1\\""},"value":"v0.1"},"functionReturnParameters":2001,"id":2003,"nodeType":"Return","src":"12151:13:7"}]},"documentation":null,"id":2005,"implemented":true,"kind":"function","modifiers":[],"name":"version","nodeType":"FunctionDefinition","parameters":{"id":1998,"nodeType":"ParameterList","parameters":[],"src":"12100:2:7"},"returnParameters":{"id":2001,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2000,"name":"","nodeType":"VariableDeclaration","scope":2005,"src":"12126:13:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1999,"name":"string","nodeType":"ElementaryTypeName","src":"12126:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"12125:15:7"},"scope":2125,"src":"12084:87:7","stateMutability":"pure","superFunction":null,"visibility":"external"},{"body":{"id":2029,"nodeType":"Block","src":"12250:233:7","statements":[{"assignments":[2011],"declarations":[{"constant":false,"id":2011,"name":"request","nodeType":"VariableDeclaration","scope":2029,"src":"12260:36:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":2010,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"12260:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":2015,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2012,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"12299:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":2014,"indexExpression":{"argumentTypes":null,"id":2013,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2007,"src":"12321:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12299:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"12260:72:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"12350:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2017,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2011,"src":"12351:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":2018,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"12351:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"416c726561647920697373756564","id":2020,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12369:16:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ad4ffe19a2ba4c5627d6a7bf55a00deb5812fc00780080fe88471de7c38f6844","typeString":"literal_string \\"Already issued\\""},"value":"Already issued"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ad4ffe19a2ba4c5627d6a7bf55a00deb5812fc00780080fe88471de7c38f6844","typeString":"literal_string \\"Already issued\\""}],"id":2016,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"12342:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12342:44:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2022,"nodeType":"ExpressionStatement","src":"12342:44:7"},{"expression":{"argumentTypes":null,"id":2027,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2023,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2011,"src":"12453:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":2025,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"12453:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":2026,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12472:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"12453:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2028,"nodeType":"ExpressionStatement","src":"12453:23:7"}]},"documentation":null,"id":2030,"implemented":true,"kind":"function","modifiers":[],"name":"_approve","nodeType":"FunctionDefinition","parameters":{"id":2008,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2007,"name":"_requestId","nodeType":"VariableDeclaration","scope":2030,"src":"12222:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2006,"name":"uint256","nodeType":"ElementaryTypeName","src":"12222:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"12221:20:7"},"returnParameters":{"id":2009,"nodeType":"ParameterList","parameters":[],"src":"12250:0:7"},"scope":2125,"src":"12204:279:7","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":2061,"nodeType":"Block","src":"12584:197:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":2044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2040,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"12596:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":2042,"indexExpression":{"argumentTypes":null,"id":2041,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2032,"src":"12608:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12596:16:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2043,"name":"_previousCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2034,"src":"12616:19:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"12596:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"757064617465436f6d6d69746d656e743a2070726576696f757320636f6d6d69746d656e7420696e76616c6964","id":2045,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12637:47:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_7c83887037533de1c5b9ba2035946953521d14390f15c6b4a17cdb7298e4940d","typeString":"literal_string \\"updateCommitment: previous commitment invalid\\""},"value":"updateCommitment: previous commitment invalid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_7c83887037533de1c5b9ba2035946953521d14390f15c6b4a17cdb7298e4940d","typeString":"literal_string \\"updateCommitment: previous commitment invalid\\""}],"id":2039,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"12588:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2046,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12588:97:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2047,"nodeType":"ExpressionStatement","src":"12588:97:7"},{"expression":{"argumentTypes":null,"id":2052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2048,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"12690:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":2050,"indexExpression":{"argumentTypes":null,"id":2049,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2032,"src":"12702:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12690:16:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2051,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2036,"src":"12709:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"12690:30:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2053,"nodeType":"ExpressionStatement","src":"12690:30:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2055,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"12748:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12748:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2057,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2032,"src":"12760:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2058,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2036,"src":"12765:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2054,"name":"CommitmentUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":985,"src":"12730:17:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_bytes32_$returns$__$","typeString":"function (address,uint256,bytes32)"}},"id":2059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12730:47:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2060,"nodeType":"EmitStatement","src":"12725:52:7"}]},"documentation":null,"id":2062,"implemented":true,"kind":"function","modifiers":[],"name":"_updateCommitment","nodeType":"FunctionDefinition","parameters":{"id":2037,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2032,"name":"_id","nodeType":"VariableDeclaration","scope":2062,"src":"12513:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2031,"name":"uint256","nodeType":"ElementaryTypeName","src":"12513:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2034,"name":"_previousCommitment","nodeType":"VariableDeclaration","scope":2062,"src":"12526:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2033,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12526:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":2036,"name":"_commitment","nodeType":"VariableDeclaration","scope":2062,"src":"12555:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2035,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12555:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"12512:63:7"},"returnParameters":{"id":2038,"nodeType":"ParameterList","parameters":[],"src":"12584:0:7"},"scope":2125,"src":"12486:295:7","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":2101,"nodeType":"Block","src":"12869:285:7","statements":[{"assignments":[2070],"declarations":[{"constant":false,"id":2070,"name":"exists","nodeType":"VariableDeclaration","scope":2101,"src":"12879:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2069,"name":"bool","nodeType":"ElementaryTypeName","src":"12879:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"id":2072,"initialValue":{"argumentTypes":null,"hexValue":"66616c7365","id":2071,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12893:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"nodeType":"VariableDeclarationStatement","src":"12879:19:7"},{"body":{"id":2097,"nodeType":"Block","src":"12959:165:7","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2083,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"12977:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":2085,"indexExpression":{"argumentTypes":null,"id":2084,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2074,"src":"13007:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12977:32:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"id":2086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"12977:46:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2087,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2064,"src":"13027:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12977:64:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2096,"nodeType":"IfStatement","src":"12973:147:7","trueBody":{"id":2095,"nodeType":"Block","src":"13043:77:7","statements":[{"expression":{"argumentTypes":null,"id":2091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2089,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"13061:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":2090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"13070:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"13061:13:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2092,"nodeType":"ExpressionStatement","src":"13061:13:7"},{"expression":{"argumentTypes":null,"id":2093,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"13099:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2068,"id":2094,"nodeType":"Return","src":"13092:13:7"}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2079,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2077,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2074,"src":"12920:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2078,"name":"requestMigrateToPublicNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1023,"src":"12925:27:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12920:32:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2098,"initializationExpression":{"assignments":[2074],"declarations":[{"constant":false,"id":2074,"name":"i","nodeType":"VariableDeclaration","scope":2098,"src":"12908:6:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2073,"name":"uint","nodeType":"ElementaryTypeName","src":"12908:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2076,"initialValue":{"argumentTypes":null,"hexValue":"31","id":2075,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12917:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"VariableDeclarationStatement","src":"12908:10:7"},"loopExpression":{"expression":{"argumentTypes":null,"id":2081,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12954:3:7","subExpression":{"argumentTypes":null,"id":2080,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2074,"src":"12954:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2082,"nodeType":"ExpressionStatement","src":"12954:3:7"},"nodeType":"ForStatement","src":"12903:221:7"},{"expression":{"argumentTypes":null,"id":2099,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"13141:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2068,"id":2100,"nodeType":"Return","src":"13134:13:7"}]},"documentation":null,"id":2102,"implemented":true,"kind":"function","modifiers":[],"name":"_migrationRequestExists","nodeType":"FunctionDefinition","parameters":{"id":2065,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2064,"name":"_certificateId","nodeType":"VariableDeclaration","scope":2102,"src":"12820:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2063,"name":"uint","nodeType":"ElementaryTypeName","src":"12820:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"12819:21:7"},"returnParameters":{"id":2068,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2067,"name":"","nodeType":"VariableDeclaration","scope":2102,"src":"12863:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2066,"name":"bool","nodeType":"ElementaryTypeName","src":"12863:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"12862:6:7"},"scope":2125,"src":"12787:367:7","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2123,"nodeType":"Block","src":"13246:143:7","statements":[{"assignments":[2110],"declarations":[{"constant":false,"id":2110,"name":"request","nodeType":"VariableDeclaration","scope":2123,"src":"13256:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":2109,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"13256:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":2114,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2111,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"13294:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":2113,"indexExpression":{"argumentTypes":null,"id":2112,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"13316:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"13294:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"13256:71:7"},{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2121,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"13345:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2115,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2110,"src":"13346:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":2116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"13346:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":2120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"13366:16:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2118,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2110,"src":"13367:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":2119,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"13367:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"13345:37:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2108,"id":2122,"nodeType":"Return","src":"13338:44:7"}]},"documentation":null,"id":2124,"implemented":true,"kind":"function","modifiers":[],"name":"_requestNotApprovedOrRevoked","nodeType":"FunctionDefinition","parameters":{"id":2105,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2104,"name":"_requestId","nodeType":"VariableDeclaration","scope":2124,"src":"13198:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2103,"name":"uint256","nodeType":"ElementaryTypeName","src":"13198:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"13197:20:7"},"returnParameters":{"id":2108,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2107,"name":"","nodeType":"VariableDeclaration","scope":2124,"src":"13240:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2106,"name":"bool","nodeType":"ElementaryTypeName","src":"13240:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"13239:6:7"},"scope":2125,"src":"13160:229:7","stateMutability":"view","superFunction":null,"visibility":"private"}],"scope":2126,"src":"230:13161:7"}],"src":"0:13391:7"},"legacyAST":{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Issuer.sol","exportedSymbols":{"Issuer":[2125]},"id":2126,"nodeType":"SourceUnit","nodes":[{"id":947,"literals":["solidity","^","0.5",".6"],"nodeType":"PragmaDirective","src":"0:23:7"},{"id":948,"literals":["experimental","ABIEncoderV2"],"nodeType":"PragmaDirective","src":"24:33:7"},{"absolutePath":"@openzeppelin/upgrades/contracts/Initializable.sol","file":"@openzeppelin/upgrades/contracts/Initializable.sol","id":949,"nodeType":"ImportDirective","scope":2126,"sourceUnit":3048,"src":"59:60:7","symbolAliases":[],"unitAlias":""},{"absolutePath":"@openzeppelin/contracts-ethereum-package/contracts/ownership/Ownable.sol","file":"@openzeppelin/contracts-ethereum-package/contracts/ownership/Ownable.sol","id":950,"nodeType":"ImportDirective","scope":2126,"sourceUnit":2979,"src":"120:82:7","symbolAliases":[],"unitAlias":""},{"absolutePath":"/home/kuzi/Projects/origin/packages/issuer/contracts/Registry.sol","file":"./Registry.sol","id":951,"nodeType":"ImportDirective","scope":2126,"sourceUnit":2567,"src":"204:24:7","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":952,"name":"Initializable","nodeType":"UserDefinedTypeName","referencedDeclaration":3047,"src":"249:13:7","typeDescriptions":{"typeIdentifier":"t_contract$_Initializable_$3047","typeString":"contract Initializable"}},"id":953,"nodeType":"InheritanceSpecifier","src":"249:13:7"},{"arguments":null,"baseName":{"contractScope":null,"id":954,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":2978,"src":"264:7:7","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$2978","typeString":"contract Ownable"}},"id":955,"nodeType":"InheritanceSpecifier","src":"264:7:7"}],"contractDependencies":[2596,2978,3047],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":2125,"linearizedBaseContracts":[2125,2978,2596,3047],"name":"Issuer","nodeType":"ContractDefinition","nodes":[{"anonymous":false,"documentation":null,"id":963,"name":"CertificationRequested","nodeType":"EventDefinition","parameters":{"id":962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":957,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":963,"src":"307:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":956,"name":"address","nodeType":"ElementaryTypeName","src":"307:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":959,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":963,"src":"331:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":958,"name":"uint256","nodeType":"ElementaryTypeName","src":"331:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":961,"indexed":true,"name":"_deviceId","nodeType":"VariableDeclaration","scope":963,"src":"352:24:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":960,"name":"string","nodeType":"ElementaryTypeName","src":"352:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"306:71:7"},"src":"278:100:7"},{"anonymous":false,"documentation":null,"id":971,"name":"CertificationRequestApproved","nodeType":"EventDefinition","parameters":{"id":970,"nodeType":"ParameterList","parameters":[{"constant":false,"id":965,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":971,"src":"418:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":964,"name":"address","nodeType":"ElementaryTypeName","src":"418:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":967,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":971,"src":"442:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":966,"name":"uint256","nodeType":"ElementaryTypeName","src":"442:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":969,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":971,"src":"463:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":968,"name":"uint256","nodeType":"ElementaryTypeName","src":"463:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"417:77:7"},"src":"383:112:7"},{"anonymous":false,"documentation":null,"id":977,"name":"CertificationRequestRevoked","nodeType":"EventDefinition","parameters":{"id":976,"nodeType":"ParameterList","parameters":[{"constant":false,"id":973,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":977,"src":"534:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":972,"name":"address","nodeType":"ElementaryTypeName","src":"534:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":975,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":977,"src":"558:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":974,"name":"uint256","nodeType":"ElementaryTypeName","src":"558:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"533:45:7"},"src":"500:79:7"},{"anonymous":false,"documentation":null,"id":985,"name":"CommitmentUpdated","nodeType":"EventDefinition","parameters":{"id":984,"nodeType":"ParameterList","parameters":[{"constant":false,"id":979,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":985,"src":"606:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":978,"name":"address","nodeType":"ElementaryTypeName","src":"606:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":981,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":985,"src":"630:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":980,"name":"uint256","nodeType":"ElementaryTypeName","src":"630:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":983,"indexed":false,"name":"_commitment","nodeType":"VariableDeclaration","scope":985,"src":"651:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":982,"name":"bytes32","nodeType":"ElementaryTypeName","src":"651:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"605:66:7"},"src":"582:90:7"},{"anonymous":false,"documentation":null,"id":991,"name":"MigrateToPublicRequested","nodeType":"EventDefinition","parameters":{"id":990,"nodeType":"ParameterList","parameters":[{"constant":false,"id":987,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":991,"src":"705:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":986,"name":"address","nodeType":"ElementaryTypeName","src":"705:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":989,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":991,"src":"729:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":988,"name":"uint256","nodeType":"ElementaryTypeName","src":"729:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"704:45:7"},"src":"674:76:7"},{"anonymous":false,"documentation":null,"id":997,"name":"PrivateTransferRequested","nodeType":"EventDefinition","parameters":{"id":996,"nodeType":"ParameterList","parameters":[{"constant":false,"id":993,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":997,"src":"783:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":992,"name":"address","nodeType":"ElementaryTypeName","src":"783:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":995,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":997,"src":"807:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":994,"name":"uint256","nodeType":"ElementaryTypeName","src":"807:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"782:56:7"},"src":"752:87:7"},{"anonymous":false,"documentation":null,"id":1005,"name":"CertificateMigratedToPublic","nodeType":"EventDefinition","parameters":{"id":1004,"nodeType":"ParameterList","parameters":[{"constant":false,"id":999,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1005,"src":"875:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":998,"name":"uint256","nodeType":"ElementaryTypeName","src":"875:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1001,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":1005,"src":"907:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1000,"name":"address","nodeType":"ElementaryTypeName","src":"907:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1003,"indexed":true,"name":"_amount","nodeType":"VariableDeclaration","scope":1005,"src":"931:23:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1002,"name":"uint256","nodeType":"ElementaryTypeName","src":"931:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"874:81:7"},"src":"841:115:7"},{"anonymous":false,"documentation":null,"id":1009,"name":"CertificateRevoked","nodeType":"EventDefinition","parameters":{"id":1008,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1007,"indexed":true,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1009,"src":"986:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1006,"name":"uint256","nodeType":"ElementaryTypeName","src":"986:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"985:32:7"},"src":"961:57:7"},{"constant":false,"id":1011,"name":"certificateTopic","nodeType":"VariableDeclaration","scope":2125,"src":"1024:27:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":1010,"name":"int","nodeType":"ElementaryTypeName","src":"1024:3:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"public"},{"constant":false,"id":1013,"name":"registry","nodeType":"VariableDeclaration","scope":2125,"src":"1057:24:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"},"typeName":{"contractScope":null,"id":1012,"name":"Registry","nodeType":"UserDefinedTypeName","referencedDeclaration":2566,"src":"1057:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"value":null,"visibility":"public"},{"constant":false,"id":1017,"name":"certificationRequests","nodeType":"VariableDeclaration","scope":2125,"src":"1088:70:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest)"},"typeName":{"id":1016,"keyType":{"id":1014,"name":"uint256","nodeType":"ElementaryTypeName","src":"1096:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1088:40:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest)"},"valueType":{"contractScope":null,"id":1015,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"1107:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}}},"value":null,"visibility":"private"},{"constant":false,"id":1021,"name":"requestToCertificate","nodeType":"VariableDeclaration","scope":2125,"src":"1164:56:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":1020,"keyType":{"id":1018,"name":"uint256","nodeType":"ElementaryTypeName","src":"1172:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1164:27:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":1019,"name":"uint256","nodeType":"ElementaryTypeName","src":"1183:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"value":null,"visibility":"private"},{"constant":false,"id":1023,"name":"requestMigrateToPublicNonce","nodeType":"VariableDeclaration","scope":2125,"src":"1224:43:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1022,"name":"uint256","nodeType":"ElementaryTypeName","src":"1224:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"private"},{"constant":false,"id":1025,"name":"requestPrivateTransferNonce","nodeType":"VariableDeclaration","scope":2125,"src":"1270:43:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1024,"name":"uint256","nodeType":"ElementaryTypeName","src":"1270:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"private"},{"constant":false,"id":1027,"name":"certificationRequestNonce","nodeType":"VariableDeclaration","scope":2125,"src":"1319:41:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1026,"name":"uint256","nodeType":"ElementaryTypeName","src":"1319:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"private"},{"constant":false,"id":1031,"name":"requestMigrateToPublicStorage","nodeType":"VariableDeclaration","scope":2125,"src":"1364:76:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange)"},"typeName":{"id":1030,"keyType":{"id":1028,"name":"uint256","nodeType":"ElementaryTypeName","src":"1372:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1364:38:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange)"},"valueType":{"contractScope":null,"id":1029,"name":"RequestStateChange","nodeType":"UserDefinedTypeName","referencedDeclaration":1072,"src":"1383:18:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"}}},"value":null,"visibility":"private"},{"constant":false,"id":1035,"name":"requestPrivateTransferStorage","nodeType":"VariableDeclaration","scope":2125,"src":"1443:80:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest)"},"typeName":{"id":1034,"keyType":{"id":1032,"name":"uint256","nodeType":"ElementaryTypeName","src":"1451:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1443:42:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest)"},"valueType":{"contractScope":null,"id":1033,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"1462:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}}},"value":null,"visibility":"private"},{"constant":false,"id":1039,"name":"migrations","nodeType":"VariableDeclaration","scope":2125,"src":"1527:43:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"typeName":{"id":1038,"keyType":{"id":1036,"name":"uint256","nodeType":"ElementaryTypeName","src":"1535:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1527:24:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"valueType":{"id":1037,"name":"bool","nodeType":"ElementaryTypeName","src":"1546:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"private"},{"constant":false,"id":1043,"name":"revokedCertificates","nodeType":"VariableDeclaration","scope":2125,"src":"1576:52:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"typeName":{"id":1042,"keyType":{"id":1040,"name":"uint256","nodeType":"ElementaryTypeName","src":"1584:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1576:24:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"},"valueType":{"id":1041,"name":"bool","nodeType":"ElementaryTypeName","src":"1595:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"private"},{"constant":false,"id":1047,"name":"commitments","nodeType":"VariableDeclaration","scope":2125,"src":"1631:47:7","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"typeName":{"id":1046,"keyType":{"id":1044,"name":"uint256","nodeType":"ElementaryTypeName","src":"1639:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1631:27:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"valueType":{"id":1045,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1650:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"value":null,"visibility":"private"},{"canonicalName":"Issuer.CertificationRequest","id":1058,"members":[{"constant":false,"id":1049,"name":"owner","nodeType":"VariableDeclaration","scope":1058,"src":"1723:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1048,"name":"address","nodeType":"ElementaryTypeName","src":"1723:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1051,"name":"data","nodeType":"VariableDeclaration","scope":1058,"src":"1746:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":1050,"name":"bytes","nodeType":"ElementaryTypeName","src":"1746:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":1053,"name":"approved","nodeType":"VariableDeclaration","scope":1058,"src":"1766:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1052,"name":"bool","nodeType":"ElementaryTypeName","src":"1766:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":1055,"name":"revoked","nodeType":"VariableDeclaration","scope":1058,"src":"1789:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1054,"name":"bool","nodeType":"ElementaryTypeName","src":"1789:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":1057,"name":"isPrivate","nodeType":"VariableDeclaration","scope":1058,"src":"1811:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1056,"name":"bool","nodeType":"ElementaryTypeName","src":"1811:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"name":"CertificationRequest","nodeType":"StructDefinition","scope":2125,"src":"1685:147:7","visibility":"public"},{"canonicalName":"Issuer.PrivateTransferRequest","id":1063,"members":[{"constant":false,"id":1060,"name":"owner","nodeType":"VariableDeclaration","scope":1063,"src":"1872:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1059,"name":"address","nodeType":"ElementaryTypeName","src":"1872:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1062,"name":"hash","nodeType":"VariableDeclaration","scope":1063,"src":"1889:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1061,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1889:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"name":"PrivateTransferRequest","nodeType":"StructDefinition","scope":2125,"src":"1838:67:7","visibility":"public"},{"canonicalName":"Issuer.RequestStateChange","id":1072,"members":[{"constant":false,"id":1065,"name":"owner","nodeType":"VariableDeclaration","scope":1072,"src":"1938:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1064,"name":"address","nodeType":"ElementaryTypeName","src":"1938:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1067,"name":"certificateId","nodeType":"VariableDeclaration","scope":1072,"src":"1955:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1066,"name":"uint256","nodeType":"ElementaryTypeName","src":"1955:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1069,"name":"hash","nodeType":"VariableDeclaration","scope":1072,"src":"1980:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1068,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1980:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1071,"name":"approved","nodeType":"VariableDeclaration","scope":1072,"src":"1996:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1070,"name":"bool","nodeType":"ElementaryTypeName","src":"1996:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"name":"RequestStateChange","nodeType":"StructDefinition","scope":2125,"src":"1908:105:7","visibility":"public"},{"canonicalName":"Issuer.Proof","id":1077,"members":[{"constant":false,"id":1074,"name":"left","nodeType":"VariableDeclaration","scope":1077,"src":"2033:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1073,"name":"bool","nodeType":"ElementaryTypeName","src":"2033:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":1076,"name":"hash","nodeType":"VariableDeclaration","scope":1077,"src":"2046:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1075,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2046:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"name":"Proof","nodeType":"StructDefinition","scope":2125,"src":"2016:46:7","visibility":"public"},{"body":{"id":1122,"nodeType":"Block","src":"2165:323:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1093,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1089,"name":"_registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1081,"src":"2183:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1091,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2204:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1090,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2196:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1092,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2196:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2183:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"696e697469616c697a653a2043616e6e6f742075736520616464726573732030783020617320726567697374727920616464726573732e","id":1094,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2208:57:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_589acc6309418f163d13602d6b088cf4743f21cf0b5377b088a8ce23cff464b6","typeString":"literal_string \\"initialize: Cannot use address 0x0 as registry address.\\""},"value":"initialize: Cannot use address 0x0 as registry address."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_589acc6309418f163d13602d6b088cf4743f21cf0b5377b088a8ce23cff464b6","typeString":"literal_string \\"initialize: Cannot use address 0x0 as registry address.\\""}],"id":1088,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"2175:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2175:91:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1096,"nodeType":"ExpressionStatement","src":"2175:91:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1102,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1098,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1083,"src":"2284:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":1100,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2302:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1099,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2294:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1101,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2294:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"2284:20:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"696e697469616c697a653a2043616e6e6f742075736520616464726573732030783020617320746865206f776e65722e","id":1103,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2306:50:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_eb346e279ea4471e91dc27b97ece3d67f2a7e281ccadd2f9fba878fc46450eda","typeString":"literal_string \\"initialize: Cannot use address 0x0 as the owner.\\""},"value":"initialize: Cannot use address 0x0 as the owner."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_eb346e279ea4471e91dc27b97ece3d67f2a7e281ccadd2f9fba878fc46450eda","typeString":"literal_string \\"initialize: Cannot use address 0x0 as the owner.\\""}],"id":1097,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"2276:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1104,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2276:81:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1105,"nodeType":"ExpressionStatement","src":"2276:81:7"},{"expression":{"argumentTypes":null,"id":1108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1106,"name":"certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1011,"src":"2368:16:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1107,"name":"_certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1079,"src":"2387:17:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"2368:36:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":1109,"nodeType":"ExpressionStatement","src":"2368:36:7"},{"expression":{"argumentTypes":null,"id":1114,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1110,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"2415:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1112,"name":"_registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1081,"src":"2435:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":1111,"name":"Registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2566,"src":"2426:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Registry_$2566_$","typeString":"type(contract Registry)"}},"id":1113,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2426:19:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"src":"2415:30:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1115,"nodeType":"ExpressionStatement","src":"2415:30:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1119,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1083,"src":"2474:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":1116,"name":"Ownable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2978,"src":"2455:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Ownable_$2978_$","typeString":"type(contract Ownable)"}},"id":1118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"initialize","nodeType":"MemberAccess","referencedDeclaration":2889,"src":"2455:18:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":1120,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2455:26:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1121,"nodeType":"ExpressionStatement","src":"2455:26:7"}]},"documentation":null,"id":1123,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1086,"modifierName":{"argumentTypes":null,"id":1085,"name":"initializer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3022,"src":"2153:11:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2153:11:7"}],"name":"initialize","nodeType":"FunctionDefinition","parameters":{"id":1084,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1079,"name":"_certificateTopic","nodeType":"VariableDeclaration","scope":1123,"src":"2088:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":1078,"name":"int","nodeType":"ElementaryTypeName","src":"2088:3:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1081,"name":"_registry","nodeType":"VariableDeclaration","scope":1123,"src":"2111:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1080,"name":"address","nodeType":"ElementaryTypeName","src":"2111:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1083,"name":"_owner","nodeType":"VariableDeclaration","scope":1123,"src":"2130:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1082,"name":"address","nodeType":"ElementaryTypeName","src":"2130:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"2087:58:7"},"returnParameters":{"id":1087,"nodeType":"ParameterList","parameters":[],"src":"2165:0:7"},"scope":2125,"src":"2068:420:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1134,"nodeType":"Block","src":"2631:57:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1130,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"2648:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1132,"indexExpression":{"argumentTypes":null,"id":1131,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1125,"src":"2670:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2648:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"functionReturnParameters":1129,"id":1133,"nodeType":"Return","src":"2641:40:7"}]},"documentation":null,"id":1135,"implemented":true,"kind":"function","modifiers":[],"name":"getCertificationRequest","nodeType":"FunctionDefinition","parameters":{"id":1126,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1125,"name":"_requestId","nodeType":"VariableDeclaration","scope":1135,"src":"2561:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1124,"name":"uint256","nodeType":"ElementaryTypeName","src":"2561:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2560:20:7"},"returnParameters":{"id":1129,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1128,"name":"","nodeType":"VariableDeclaration","scope":1135,"src":"2602:27:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1127,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"2602:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"src":"2601:29:7"},"scope":2125,"src":"2528:160:7","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1146,"nodeType":"Block","src":"2778:50:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1142,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"2795:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":1144,"indexExpression":{"argumentTypes":null,"id":1143,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1137,"src":"2807:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2795:26:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":1141,"id":1145,"nodeType":"Return","src":"2788:33:7"}]},"documentation":null,"id":1147,"implemented":true,"kind":"function","modifiers":[],"name":"getCertificateCommitment","nodeType":"FunctionDefinition","parameters":{"id":1138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1137,"name":"certificateId","nodeType":"VariableDeclaration","scope":1147,"src":"2728:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1136,"name":"uint","nodeType":"ElementaryTypeName","src":"2728:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2727:20:7"},"returnParameters":{"id":1141,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1140,"name":"","nodeType":"VariableDeclaration","scope":1147,"src":"2769:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1139,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2769:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"2768:9:7"},"scope":2125,"src":"2694:134:7","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":1189,"nodeType":"Block","src":"2943:408:7","statements":[{"assignments":[1159],"declarations":[{"constant":false,"id":1159,"name":"id","nodeType":"VariableDeclaration","scope":1189,"src":"2953:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1158,"name":"uint256","nodeType":"ElementaryTypeName","src":"2953:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1162,"initialValue":{"argumentTypes":null,"id":1161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"2966:27:7","subExpression":{"argumentTypes":null,"id":1160,"name":"certificationRequestNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1027,"src":"2968:25:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2953:40:7"},{"expression":{"argumentTypes":null,"id":1173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1163,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"3004:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1165,"indexExpression":{"argumentTypes":null,"id":1164,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1159,"src":"3026:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3004:25:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1167,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1151,"src":"3074:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1168,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1149,"src":"3100:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"hexValue":"66616c7365","id":1169,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3129:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"hexValue":"66616c7365","id":1170,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3157:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},{"argumentTypes":null,"id":1171,"name":"_private","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1153,"src":"3187:8:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1166,"name":"CertificationRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1058,"src":"3032:20:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_CertificationRequest_$1058_storage_ptr_$","typeString":"type(struct Issuer.CertificationRequest storage pointer)"}},"id":1172,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","data","approved","revoked","isPrivate"],"nodeType":"FunctionCall","src":"3032:174:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory","typeString":"struct Issuer.CertificationRequest memory"}},"src":"3004:202:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"id":1174,"nodeType":"ExpressionStatement","src":"3004:202:7"},{"assignments":[null,null,1176],"declarations":[null,null,{"constant":false,"id":1176,"name":"deviceId","nodeType":"VariableDeclaration","scope":1189,"src":"3221:22:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1175,"name":"string","nodeType":"ElementaryTypeName","src":"3221:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"id":1180,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1178,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1149,"src":"3258:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1177,"name":"decodeData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1886,"src":"3247:10:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$_t_uint256_$_t_string_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint256,uint256,string memory)"}},"id":1179,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3247:17:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_string_memory_ptr_$","typeString":"tuple(uint256,uint256,string memory)"}},"nodeType":"VariableDeclarationStatement","src":"3217:47:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1182,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1151,"src":"3303:6:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1183,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1159,"src":"3311:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1184,"name":"deviceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1176,"src":"3315:8:7","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":1181,"name":"CertificationRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":963,"src":"3280:22:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_string_memory_ptr_$returns$__$","typeString":"function (address,uint256,string memory)"}},"id":1185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3280:44:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1186,"nodeType":"EmitStatement","src":"3275:49:7"},{"expression":{"argumentTypes":null,"id":1187,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1159,"src":"3342:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1157,"id":1188,"nodeType":"Return","src":"3335:9:7"}]},"documentation":null,"id":1190,"implemented":true,"kind":"function","modifiers":[],"name":"requestCertificationFor","nodeType":"FunctionDefinition","parameters":{"id":1154,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1149,"name":"_data","nodeType":"VariableDeclaration","scope":1190,"src":"2867:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1148,"name":"bytes","nodeType":"ElementaryTypeName","src":"2867:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":1151,"name":"_owner","nodeType":"VariableDeclaration","scope":1190,"src":"2887:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1150,"name":"address","nodeType":"ElementaryTypeName","src":"2887:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1153,"name":"_private","nodeType":"VariableDeclaration","scope":1190,"src":"2903:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1152,"name":"bool","nodeType":"ElementaryTypeName","src":"2903:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2866:51:7"},"returnParameters":{"id":1157,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1156,"name":"","nodeType":"VariableDeclaration","scope":1190,"src":"2934:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1155,"name":"uint256","nodeType":"ElementaryTypeName","src":"2934:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2933:9:7"},"scope":2125,"src":"2834:517:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1204,"nodeType":"Block","src":"3433:69:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1198,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1192,"src":"3467:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1199,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"3474:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3474:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1201,"name":"_private","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1194,"src":"3486:8:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1197,"name":"requestCertificationFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1190,"src":"3443:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function (bytes memory,address,bool) returns (uint256)"}},"id":1202,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3443:52:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1203,"nodeType":"ExpressionStatement","src":"3443:52:7"}]},"documentation":null,"id":1205,"implemented":true,"kind":"function","modifiers":[],"name":"requestCertification","nodeType":"FunctionDefinition","parameters":{"id":1195,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1192,"name":"_data","nodeType":"VariableDeclaration","scope":1205,"src":"3387:20:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":1191,"name":"bytes","nodeType":"ElementaryTypeName","src":"3387:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":1194,"name":"_private","nodeType":"VariableDeclaration","scope":1205,"src":"3409:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1193,"name":"bool","nodeType":"ElementaryTypeName","src":"3409:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"3386:37:7"},"returnParameters":{"id":1196,"nodeType":"ParameterList","parameters":[],"src":"3433:0:7"},"scope":2125,"src":"3357:145:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1240,"nodeType":"Block","src":"3581:323:7","statements":[{"assignments":[1213],"declarations":[{"constant":false,"id":1213,"name":"request","nodeType":"VariableDeclaration","scope":1240,"src":"3591:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1212,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"3591:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1217,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1214,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"3629:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1216,"indexExpression":{"argumentTypes":null,"id":1215,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1207,"src":"3651:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3629:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3591:71:7"},{"assignments":[1219],"declarations":[{"constant":false,"id":1219,"name":"certificateId","nodeType":"VariableDeclaration","scope":1240,"src":"3672:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1218,"name":"uint","nodeType":"ElementaryTypeName","src":"3672:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1223,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1220,"name":"requestToCertificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1021,"src":"3693:20:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":1222,"indexExpression":{"argumentTypes":null,"id":1221,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1207,"src":"3714:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3693:32:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3672:53:7"},{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":1238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":1233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":1229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1224,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1207,"src":"3743:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":1225,"name":"certificationRequestNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1027,"src":"3757:25:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3743:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1227,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1213,"src":"3798:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1228,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"3798:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3743:71:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":1232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3830:16:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1230,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1213,"src":"3831:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1231,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"3831:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3743:103:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":1237,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3862:35:7","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1234,"name":"revokedCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1043,"src":"3863:19:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1236,"indexExpression":{"argumentTypes":null,"id":1235,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1219,"src":"3883:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3863:34:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3743:154:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":1211,"id":1239,"nodeType":"Return","src":"3736:161:7"}]},"documentation":null,"id":1241,"implemented":true,"kind":"function","modifiers":[],"name":"isRequestValid","nodeType":"FunctionDefinition","parameters":{"id":1208,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1207,"name":"_requestId","nodeType":"VariableDeclaration","scope":1241,"src":"3532:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1206,"name":"uint256","nodeType":"ElementaryTypeName","src":"3532:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3531:20:7"},"returnParameters":{"id":1211,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1210,"name":"","nodeType":"VariableDeclaration","scope":1241,"src":"3575:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1209,"name":"bool","nodeType":"ElementaryTypeName","src":"3575:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"3574:6:7"},"scope":2125,"src":"3508:396:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1287,"nodeType":"Block","src":"3962:470:7","statements":[{"assignments":[1247],"declarations":[{"constant":false,"id":1247,"name":"request","nodeType":"VariableDeclaration","scope":1287,"src":"3972:36:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1246,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"3972:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1251,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1248,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"4011:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1250,"indexExpression":{"argumentTypes":null,"id":1249,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1243,"src":"4033:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4011:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3972:72:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1257,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1253,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"4063:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1254,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4063:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1255,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4077:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1256,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"4077:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4063:27:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b655265717565737428293a204f6e6c792074686520726571756573742063726561746f722063616e207265766f6b652074686520726571756573742e","id":1258,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4092:67:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_44b8c81a235ab2ce003885754cbbe6bc826333429a2148e9c069826766d88dc1","typeString":"literal_string \\"revokeRequest(): Only the request creator can revoke the request.\\""},"value":"revokeRequest(): Only the request creator can revoke the request."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_44b8c81a235ab2ce003885754cbbe6bc826333429a2148e9c069826766d88dc1","typeString":"literal_string \\"revokeRequest(): Only the request creator can revoke the request.\\""}],"id":1252,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4055:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1259,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4055:105:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1260,"nodeType":"ExpressionStatement","src":"4055:105:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4178:16:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1262,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4179:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1263,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"4179:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b655265717565737428293a20416c7265616479207265766f6b6564","id":1265,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4196:34:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6ae6fcba86df95fec30b2f801286a116b46751c59995cbbb66c32b240d902bd1","typeString":"literal_string \\"revokeRequest(): Already revoked\\""},"value":"revokeRequest(): Already revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6ae6fcba86df95fec30b2f801286a116b46751c59995cbbb66c32b240d902bd1","typeString":"literal_string \\"revokeRequest(): Already revoked\\""}],"id":1261,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4170:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4170:61:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1267,"nodeType":"ExpressionStatement","src":"4170:61:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4249:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1269,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4250:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1270,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"4250:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b655265717565737428293a20596f752063616e2774207265766f6b6520617070726f766564207265717565737473","id":1272,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4268:53:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_95059f4f0a881efd010f412645a4efdd69707df5afc41b084b9057dee498f6c9","typeString":"literal_string \\"revokeRequest(): You can\'t revoke approved requests\\""},"value":"revokeRequest(): You can\'t revoke approved requests"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_95059f4f0a881efd010f412645a4efdd69707df5afc41b084b9057dee498f6c9","typeString":"literal_string \\"revokeRequest(): You can\'t revoke approved requests\\""}],"id":1268,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4241:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1273,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4241:81:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1274,"nodeType":"ExpressionStatement","src":"4241:81:7"},{"expression":{"argumentTypes":null,"id":1279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1275,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4333:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"4333:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1278,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4351:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4333:22:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1280,"nodeType":"ExpressionStatement","src":"4333:22:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1282,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1247,"src":"4399:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":1283,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"4399:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1284,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1243,"src":"4414:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1281,"name":"CertificationRequestRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":977,"src":"4371:27:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":1285,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4371:54:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1286,"nodeType":"EmitStatement","src":"4366:59:7"}]},"documentation":null,"id":1288,"implemented":true,"kind":"function","modifiers":[],"name":"revokeRequest","nodeType":"FunctionDefinition","parameters":{"id":1244,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1243,"name":"_requestId","nodeType":"VariableDeclaration","scope":1288,"src":"3933:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1242,"name":"uint256","nodeType":"ElementaryTypeName","src":"3933:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"3932:20:7"},"returnParameters":{"id":1245,"nodeType":"ParameterList","parameters":[],"src":"3962:0:7"},"scope":2125,"src":"3910:522:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1313,"nodeType":"Block","src":"4508:204:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4526:36:7","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1296,"name":"revokedCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1043,"src":"4527:19:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1298,"indexExpression":{"argumentTypes":null,"id":1297,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1290,"src":"4547:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4527:35:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"7265766f6b65436572746966696361746528293a20416c7265616479207265766f6b6564","id":1300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4564:38:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_996f91aa26be5185eb49545e35c5477f115dddfca83d9a86546fb6b9e022506f","typeString":"literal_string \\"revokeCertificate(): Already revoked\\""},"value":"revokeCertificate(): Already revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_996f91aa26be5185eb49545e35c5477f115dddfca83d9a86546fb6b9e022506f","typeString":"literal_string \\"revokeCertificate(): Already revoked\\""}],"id":1295,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4518:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4518:85:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1302,"nodeType":"ExpressionStatement","src":"4518:85:7"},{"expression":{"argumentTypes":null,"id":1307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1303,"name":"revokedCertificates","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1043,"src":"4613:19:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1305,"indexExpression":{"argumentTypes":null,"id":1304,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1290,"src":"4633:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4613:35:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1306,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4651:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"4613:42:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1308,"nodeType":"ExpressionStatement","src":"4613:42:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1310,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1290,"src":"4690:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1309,"name":"CertificateRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1009,"src":"4671:18:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1311,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4671:34:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1312,"nodeType":"EmitStatement","src":"4666:39:7"}]},"documentation":null,"id":1314,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1293,"modifierName":{"argumentTypes":null,"id":1292,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"4498:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4498:9:7"}],"name":"revokeCertificate","nodeType":"FunctionDefinition","parameters":{"id":1291,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1290,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1314,"src":"4465:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1289,"name":"uint256","nodeType":"ElementaryTypeName","src":"4465:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4464:24:7"},"returnParameters":{"id":1294,"nodeType":"ParameterList","parameters":[],"src":"4508:0:7"},"scope":2125,"src":"4438:274:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1379,"nodeType":"Block","src":"4884:656:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1329,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"4931:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1328,"name":"_requestNotApprovedOrRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2124,"src":"4902:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":1330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4902:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f766543657274696669636174696f6e5265717565737428293a207265717565737420616c726561647920617070726f766564206f72207265766f6b6564","id":1331,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4944:68:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""},"value":"approveCertificationRequest(): request already approved or revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""}],"id":1327,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"4894:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1332,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4894:119:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1333,"nodeType":"ExpressionStatement","src":"4894:119:7"},{"assignments":[1335],"declarations":[{"constant":false,"id":1335,"name":"request","nodeType":"VariableDeclaration","scope":1379,"src":"5024:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1334,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"5024:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1339,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1336,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"5062:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1338,"indexExpression":{"argumentTypes":null,"id":1337,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5084:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5062:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"5024:71:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1343,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"5113:18:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1341,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5114:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1342,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"isPrivate","nodeType":"MemberAccess","referencedDeclaration":1057,"src":"5114:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"43657274696669636174696f6e5265717565737428293a20706c656173652075736520636f6d6d69746d656e747320666f7220707269766174652063657274696669636174696f6e","id":1344,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5133:74:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_5cc054a2b261747f1a9f372ddbf5fcdbb3dc911299e8d3982fc2357a68739da6","typeString":"literal_string \\"CertificationRequest(): please use commitments for private certification\\""},"value":"CertificationRequest(): please use commitments for private certification"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5cc054a2b261747f1a9f372ddbf5fcdbb3dc911299e8d3982fc2357a68739da6","typeString":"literal_string \\"CertificationRequest(): please use commitments for private certification\\""}],"id":1340,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"5105:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5105:103:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1346,"nodeType":"ExpressionStatement","src":"5105:103:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1348,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5228:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1347,"name":"_approve","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2030,"src":"5219:8:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1349,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5219:20:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1350,"nodeType":"ExpressionStatement","src":"5219:20:7"},{"assignments":[1352],"declarations":[{"constant":false,"id":1352,"name":"certificateId","nodeType":"VariableDeclaration","scope":1379,"src":"5250:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1351,"name":"uint256","nodeType":"ElementaryTypeName","src":"5250:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1363,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1355,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5289:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1356,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"5289:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1357,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1320,"src":"5304:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1358,"name":"certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1011,"src":"5319:16:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"id":1359,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1318,"src":"5337:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1360,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5345:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1361,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":1051,"src":"5345:12:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":1353,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"5274:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"issue","nodeType":"MemberAccess","referencedDeclaration":2229,"src":"5274:14:7","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$_t_int256_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (address,bytes memory,int256,uint256,bytes memory) external returns (uint256)"}},"id":1362,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5274:84:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5250:108:7"},{"expression":{"argumentTypes":null,"id":1368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1364,"name":"requestToCertificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1021,"src":"5368:20:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":1366,"indexExpression":{"argumentTypes":null,"id":1365,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5389:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5368:32:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1367,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1352,"src":"5403:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5368:48:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1369,"nodeType":"ExpressionStatement","src":"5368:48:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1371,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1335,"src":"5461:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1372,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"5461:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1373,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1316,"src":"5476:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1374,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1352,"src":"5488:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1370,"name":"CertificationRequestApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":971,"src":"5432:28:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":1375,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5432:70:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1376,"nodeType":"EmitStatement","src":"5427:75:7"},{"expression":{"argumentTypes":null,"id":1377,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1352,"src":"5520:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1326,"id":1378,"nodeType":"Return","src":"5513:20:7"}]},"documentation":null,"id":1380,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1323,"modifierName":{"argumentTypes":null,"id":1322,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"4856:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4856:9:7"}],"name":"approveCertificationRequest","nodeType":"FunctionDefinition","parameters":{"id":1321,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1316,"name":"_requestId","nodeType":"VariableDeclaration","scope":1380,"src":"4764:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1315,"name":"uint256","nodeType":"ElementaryTypeName","src":"4764:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1318,"name":"_value","nodeType":"VariableDeclaration","scope":1380,"src":"4792:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1317,"name":"uint256","nodeType":"ElementaryTypeName","src":"4792:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1320,"name":"_validityData","nodeType":"VariableDeclaration","scope":1380,"src":"4816:26:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1319,"name":"bytes","nodeType":"ElementaryTypeName","src":"4816:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4754:94:7"},"returnParameters":{"id":1326,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1325,"name":"","nodeType":"VariableDeclaration","scope":1380,"src":"4875:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1324,"name":"uint256","nodeType":"ElementaryTypeName","src":"4875:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"4874:9:7"},"scope":2125,"src":"4718:822:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1411,"nodeType":"Block","src":"5645:252:7","statements":[{"assignments":[1394],"declarations":[{"constant":false,"id":1394,"name":"requestId","nodeType":"VariableDeclaration","scope":1411,"src":"5655:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1393,"name":"uint256","nodeType":"ElementaryTypeName","src":"5655:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1400,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1396,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1386,"src":"5699:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1397,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1382,"src":"5706:3:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"hexValue":"66616c7365","id":1398,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5711:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1395,"name":"requestCertificationFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1190,"src":"5675:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function (bytes memory,address,bool) returns (uint256)"}},"id":1399,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5675:42:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5655:62:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1402,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1394,"src":"5776:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1403,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1384,"src":"5799:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"69735265717565737456616c69642875696e7432353629","id":1406,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5843:25:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},"value":"isRequestValid(uint256)"},{"argumentTypes":null,"id":1407,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1394,"src":"5870:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1404,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"5819:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1405,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodeWithSignature","nodeType":"MemberAccess","referencedDeclaration":null,"src":"5819:23:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithsignature_pure$_t_string_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (string memory) pure returns (bytes memory)"}},"id":1408,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5819:61:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1401,"name":"approveCertificationRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1380,"src":"5735:27:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (uint256,uint256,bytes memory) returns (uint256)"}},"id":1409,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5735:155:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1392,"id":1410,"nodeType":"Return","src":"5728:162:7"}]},"documentation":null,"id":1412,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1389,"modifierName":{"argumentTypes":null,"id":1388,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"5617:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5617:9:7"}],"name":"issue","nodeType":"FunctionDefinition","parameters":{"id":1387,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1382,"name":"_to","nodeType":"VariableDeclaration","scope":1412,"src":"5561:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1381,"name":"address","nodeType":"ElementaryTypeName","src":"5561:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1384,"name":"_value","nodeType":"VariableDeclaration","scope":1412,"src":"5574:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1383,"name":"uint256","nodeType":"ElementaryTypeName","src":"5574:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1386,"name":"_data","nodeType":"VariableDeclaration","scope":1412,"src":"5590:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1385,"name":"bytes","nodeType":"ElementaryTypeName","src":"5590:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"5560:49:7"},"returnParameters":{"id":1392,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1391,"name":"","nodeType":"VariableDeclaration","scope":1412,"src":"5636:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1390,"name":"uint256","nodeType":"ElementaryTypeName","src":"5636:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5635:9:7"},"scope":2125,"src":"5546:351:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1482,"nodeType":"Block","src":"6081:698:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1427,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6128:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1426,"name":"_requestNotApprovedOrRevoked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2124,"src":"6099:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":1428,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6099:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f766543657274696669636174696f6e5265717565737428293a207265717565737420616c726561647920617070726f766564206f72207265766f6b6564","id":1429,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6141:68:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""},"value":"approveCertificationRequest(): request already approved or revoked"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8380c1ca306465afd7bb7c7e53409076785fd6105b760407df72d1bdd63be4ee","typeString":"literal_string \\"approveCertificationRequest(): request already approved or revoked\\""}],"id":1425,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"6091:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1430,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6091:119:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1431,"nodeType":"ExpressionStatement","src":"6091:119:7"},{"assignments":[1433],"declarations":[{"constant":false,"id":1433,"name":"request","nodeType":"VariableDeclaration","scope":1482,"src":"6221:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":1432,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"6221:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":1437,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1434,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"6259:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":1436,"indexExpression":{"argumentTypes":null,"id":1435,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6281:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6259:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"6221:71:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1439,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6310:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1440,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"isPrivate","nodeType":"MemberAccess","referencedDeclaration":1057,"src":"6310:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f76653a2063616e277420617070726f7665207075626c696320636572746966696361746573207573696e6720636f6d6d69746d656e7473","id":1441,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"6329:62:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_87ec45055b4fd2bad7287f8aee952199d4c82c52fd80c577dc718bc200804057","typeString":"literal_string \\"approve: can\'t approve public certificates using commitments\\""},"value":"approve: can\'t approve public certificates using commitments"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_87ec45055b4fd2bad7287f8aee952199d4c82c52fd80c577dc718bc200804057","typeString":"literal_string \\"approve: can\'t approve public certificates using commitments\\""}],"id":1438,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"6302:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1442,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6302:90:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1443,"nodeType":"ExpressionStatement","src":"6302:90:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1445,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6412:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1444,"name":"_approve","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2030,"src":"6403:8:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":1446,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6403:20:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1447,"nodeType":"ExpressionStatement","src":"6403:20:7"},{"assignments":[1449],"declarations":[{"constant":false,"id":1449,"name":"certificateId","nodeType":"VariableDeclaration","scope":1482,"src":"6434:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1448,"name":"uint256","nodeType":"ElementaryTypeName","src":"6434:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1460,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1452,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6473:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1453,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"6473:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1454,"name":"_validityData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1418,"src":"6488:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1455,"name":"certificateTopic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1011,"src":"6503:16:7","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"hexValue":"30","id":1456,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6521:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1457,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6524:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1458,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"data","nodeType":"MemberAccess","referencedDeclaration":1051,"src":"6524:12:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bytes_memory","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":1450,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"6458:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"issue","nodeType":"MemberAccess","referencedDeclaration":2229,"src":"6458:14:7","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_bytes_memory_ptr_$_t_int256_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (address,bytes memory,int256,uint256,bytes memory) external returns (uint256)"}},"id":1459,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6458:79:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6434:103:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1462,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6565:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"307830","id":1463,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6580:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},{"argumentTypes":null,"id":1464,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1416,"src":"6585:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":1461,"name":"_updateCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2062,"src":"6547:17:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (uint256,bytes32,bytes32)"}},"id":1465,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6547:50:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1466,"nodeType":"ExpressionStatement","src":"6547:50:7"},{"expression":{"argumentTypes":null,"id":1471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1467,"name":"requestToCertificate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1021,"src":"6607:20:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":1469,"indexExpression":{"argumentTypes":null,"id":1468,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6628:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6607:32:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":1470,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6642:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6607:48:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1472,"nodeType":"ExpressionStatement","src":"6607:48:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1474,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1433,"src":"6700:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":1475,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1049,"src":"6700:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1476,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1414,"src":"6715:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1477,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6727:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1473,"name":"CertificationRequestApproved","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":971,"src":"6671:28:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":1478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6671:70:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1479,"nodeType":"EmitStatement","src":"6666:75:7"},{"expression":{"argumentTypes":null,"id":1480,"name":"certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1449,"src":"6759:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1424,"id":1481,"nodeType":"Return","src":"6752:20:7"}]},"documentation":null,"id":1483,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1421,"modifierName":{"argumentTypes":null,"id":1420,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"6053:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6053:9:7"}],"name":"approveCertificationRequestPrivate","nodeType":"FunctionDefinition","parameters":{"id":1419,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1414,"name":"_requestId","nodeType":"VariableDeclaration","scope":1483,"src":"5956:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1413,"name":"uint256","nodeType":"ElementaryTypeName","src":"5956:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1416,"name":"_commitment","nodeType":"VariableDeclaration","scope":1483,"src":"5984:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1415,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5984:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1418,"name":"_validityData","nodeType":"VariableDeclaration","scope":1483,"src":"6013:26:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1417,"name":"bytes","nodeType":"ElementaryTypeName","src":"6013:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"5946:99:7"},"returnParameters":{"id":1424,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1423,"name":"","nodeType":"VariableDeclaration","scope":1483,"src":"6072:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1422,"name":"uint256","nodeType":"ElementaryTypeName","src":"6072:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6071:9:7"},"scope":2125,"src":"5903:876:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1514,"nodeType":"Block","src":"6896:263:7","statements":[{"assignments":[1497],"declarations":[{"constant":false,"id":1497,"name":"requestId","nodeType":"VariableDeclaration","scope":1514,"src":"6906:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1496,"name":"uint256","nodeType":"ElementaryTypeName","src":"6906:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1503,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1499,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1489,"src":"6950:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":1500,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1485,"src":"6957:3:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"hexValue":"74727565","id":1501,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6962:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1498,"name":"requestCertificationFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1190,"src":"6926:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$_t_bool_$returns$_t_uint256_$","typeString":"function (bytes memory,address,bool) returns (uint256)"}},"id":1502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6926:41:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"6906:61:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1505,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1497,"src":"7033:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1506,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1487,"src":"7056:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"69735265717565737456616c69642875696e7432353629","id":1509,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7105:25:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},"value":"isRequestValid(uint256)"},{"argumentTypes":null,"id":1510,"name":"requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1497,"src":"7132:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_6512f1112d6370206668fcec16f790b930ccc1d520d73a641d2b8ffdc6d5b6c7","typeString":"literal_string \\"isRequestValid(uint256)\\""},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1507,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"7081:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1508,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodeWithSignature","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7081:23:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithsignature_pure$_t_string_memory_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (string memory) pure returns (bytes memory)"}},"id":1511,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7081:61:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1504,"name":"approveCertificationRequestPrivate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1483,"src":"6985:34:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (uint256,bytes32,bytes memory) returns (uint256)"}},"id":1512,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6985:167:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1495,"id":1513,"nodeType":"Return","src":"6978:174:7"}]},"documentation":null,"id":1515,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1492,"modifierName":{"argumentTypes":null,"id":1491,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"6868:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"6868:9:7"}],"name":"issuePrivate","nodeType":"FunctionDefinition","parameters":{"id":1490,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1485,"name":"_to","nodeType":"VariableDeclaration","scope":1515,"src":"6807:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1484,"name":"address","nodeType":"ElementaryTypeName","src":"6807:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1487,"name":"_commitment","nodeType":"VariableDeclaration","scope":1515,"src":"6820:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1486,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6820:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1489,"name":"_data","nodeType":"VariableDeclaration","scope":1515,"src":"6841:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1488,"name":"bytes","nodeType":"ElementaryTypeName","src":"6841:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"6806:54:7"},"returnParameters":{"id":1495,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1494,"name":"","nodeType":"VariableDeclaration","scope":1515,"src":"6887:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1493,"name":"uint256","nodeType":"ElementaryTypeName","src":"6887:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"6886:9:7"},"scope":2125,"src":"6785:374:7","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":1554,"nodeType":"Block","src":"7285:411:7","statements":[{"assignments":[1523],"declarations":[{"constant":false,"id":1523,"name":"currentRequest","nodeType":"VariableDeclaration","scope":1554,"src":"7289:45:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"},"typeName":{"contractScope":null,"id":1522,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"7289:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}},"value":null,"visibility":"internal"}],"id":1527,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1524,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"7337:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1526,"indexExpression":{"argumentTypes":null,"id":1525,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1517,"src":"7367:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7337:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7289:93:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1534,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1529,"name":"currentRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1523,"src":"7401:14:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest storage pointer"}},"id":1530,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1060,"src":"7401:20:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"307830","id":1532,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7433:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1531,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7425:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1533,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7425:12:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"7401:36:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"4f6e6c79206f6e652070726976617465207472616e736665722063616e2062652072657175657374656420617420612074696d652e","id":1535,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"7439:55:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cdde079ce24c3e1ec2c3dc93f27ed66428f7ac3ed9c98d191843b4690c9864de","typeString":"literal_string \\"Only one private transfer can be requested at a time.\\""},"value":"Only one private transfer can be requested at a time."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cdde079ce24c3e1ec2c3dc93f27ed66428f7ac3ed9c98d191843b4690c9864de","typeString":"literal_string \\"Only one private transfer can be requested at a time.\\""}],"id":1528,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"7393:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1536,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7393:102:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1537,"nodeType":"ExpressionStatement","src":"7393:102:7"},{"expression":{"argumentTypes":null,"id":1546,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1538,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"7500:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1540,"indexExpression":{"argumentTypes":null,"id":1539,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1517,"src":"7530:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"7500:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1542,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"7583:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7583:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1544,"name":"_ownerAddressLeafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1519,"src":"7604:21:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":1541,"name":"PrivateTransferRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1063,"src":"7548:22:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_PrivateTransferRequest_$1063_storage_ptr_$","typeString":"type(struct Issuer.PrivateTransferRequest storage pointer)"}},"id":1545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","hash"],"nodeType":"FunctionCall","src":"7548:82:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_memory","typeString":"struct Issuer.PrivateTransferRequest memory"}},"src":"7500:130:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"id":1547,"nodeType":"ExpressionStatement","src":"7500:130:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1549,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"7665:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7665:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1551,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1517,"src":"7677:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1548,"name":"PrivateTransferRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":997,"src":"7640:24:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":1552,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7640:52:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1553,"nodeType":"EmitStatement","src":"7635:57:7"}]},"documentation":null,"id":1555,"implemented":true,"kind":"function","modifiers":[],"name":"requestPrivateTransfer","nodeType":"FunctionDefinition","parameters":{"id":1520,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1517,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1555,"src":"7221:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1516,"name":"uint256","nodeType":"ElementaryTypeName","src":"7221:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1519,"name":"_ownerAddressLeafHash","nodeType":"VariableDeclaration","scope":1555,"src":"7245:29:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1518,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7245:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"7220:55:7"},"returnParameters":{"id":1521,"nodeType":"ParameterList","parameters":[],"src":"7285:0:7"},"scope":2125,"src":"7189:507:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1616,"nodeType":"Block","src":"7902:567:7","statements":[{"assignments":[1572],"declarations":[{"constant":false,"id":1572,"name":"pendingRequest","nodeType":"VariableDeclaration","scope":1616,"src":"7906:45:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"},"typeName":{"contractScope":null,"id":1571,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"7906:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}},"value":null,"visibility":"internal"}],"id":1576,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1573,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"7954:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1575,"indexExpression":{"argumentTypes":null,"id":1574,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1557,"src":"7984:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7954:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"7906:93:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":1583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1578,"name":"pendingRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1572,"src":"8018:14:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest storage pointer"}},"id":1579,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1060,"src":"8018:20:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"307830","id":1581,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8050:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1580,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8042:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1582,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8042:12:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"8018:36:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f7665507269766174655472616e7366657228293a2043616e277420617070726f76652061206e6f6e2d6578697374696e672070726976617465207472616e736665722e","id":1584,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8056:74:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6cf828c632332e89703aec4122571623c96b5209d33cf86795a63ee363bb4f8a","typeString":"literal_string \\"approvePrivateTransfer(): Can\'t approve a non-existing private transfer.\\""},"value":"approvePrivateTransfer(): Can\'t approve a non-existing private transfer."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6cf828c632332e89703aec4122571623c96b5209d33cf86795a63ee363bb4f8a","typeString":"literal_string \\"approvePrivateTransfer(): Can\'t approve a non-existing private transfer.\\""}],"id":1577,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"8010:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1585,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8010:121:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1586,"nodeType":"ExpressionStatement","src":"8010:121:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1589,"name":"pendingRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1572,"src":"8158:14:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest storage pointer"}},"id":1590,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1062,"src":"8158:19:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1591,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1564,"src":"8179:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1592,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1560,"src":"8192:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}],"id":1588,"name":"validateMerkle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1987,"src":"8143:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$_t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (bytes32,bytes32,struct Issuer.Proof memory[] memory) pure returns (bool)"}},"id":1593,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8143:56:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"617070726f7665507269766174655472616e7366657228293a2057726f6e67206d65726b6c652074726565","id":1594,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8201:45:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_2e6d69ae496388eb97360dda0aaff72998f04b0b6fdcc45c945be1ee74b9e0e1","typeString":"literal_string \\"approvePrivateTransfer(): Wrong merkle tree\\""},"value":"approvePrivateTransfer(): Wrong merkle tree"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2e6d69ae496388eb97360dda0aaff72998f04b0b6fdcc45c945be1ee74b9e0e1","typeString":"literal_string \\"approvePrivateTransfer(): Wrong merkle tree\\""}],"id":1587,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"8135:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1595,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8135:112:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1596,"nodeType":"ExpressionStatement","src":"8135:112:7"},{"expression":{"argumentTypes":null,"id":1606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1597,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"8258:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1599,"indexExpression":{"argumentTypes":null,"id":1598,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1557,"src":"8288:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8258:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"307830","id":1602,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8349:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1601,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8341:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1603,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8341:12:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"hexValue":"","id":1604,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8364:2:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"id":1600,"name":"PrivateTransferRequest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1063,"src":"8306:22:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_PrivateTransferRequest_$1063_storage_ptr_$","typeString":"type(struct Issuer.PrivateTransferRequest storage pointer)"}},"id":1605,"isConstant":false,"isLValue":false,"isPure":true,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","hash"],"nodeType":"FunctionCall","src":"8306:65:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_memory","typeString":"struct Issuer.PrivateTransferRequest memory"}},"src":"8258:113:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"id":1607,"nodeType":"ExpressionStatement","src":"8258:113:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1609,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1557,"src":"8394:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1610,"name":"_previousCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1562,"src":"8410:19:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1611,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1564,"src":"8431:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":1608,"name":"_updateCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2062,"src":"8376:17:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (uint256,bytes32,bytes32)"}},"id":1612,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8376:67:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1613,"nodeType":"ExpressionStatement","src":"8376:67:7"},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":1614,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8461:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":1570,"id":1615,"nodeType":"Return","src":"8454:11:7"}]},"documentation":null,"id":1617,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1567,"modifierName":{"argumentTypes":null,"id":1566,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"7877:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"7877:9:7"}],"name":"approvePrivateTransfer","nodeType":"FunctionDefinition","parameters":{"id":1565,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1557,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1617,"src":"7740:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1556,"name":"uint256","nodeType":"ElementaryTypeName","src":"7740:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1560,"name":"_proof","nodeType":"VariableDeclaration","scope":1617,"src":"7772:23:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1558,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"7772:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1559,"length":null,"nodeType":"ArrayTypeName","src":"7772:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":1562,"name":"_previousCommitment","nodeType":"VariableDeclaration","scope":1617,"src":"7805:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1561,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7805:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1564,"name":"_commitment","nodeType":"VariableDeclaration","scope":1617,"src":"7842:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1563,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7842:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"7730:137:7"},"returnParameters":{"id":1570,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1569,"name":"","nodeType":"VariableDeclaration","scope":1617,"src":"7896:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1568,"name":"bool","nodeType":"ElementaryTypeName","src":"7896:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"7895:6:7"},"scope":2125,"src":"7699:770:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1663,"nodeType":"Block","src":"8642:440:7","statements":[{"assignments":[1627],"declarations":[{"constant":false,"id":1627,"name":"exists","nodeType":"VariableDeclaration","scope":1663,"src":"8652:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1626,"name":"bool","nodeType":"ElementaryTypeName","src":"8652:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"id":1631,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1629,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1619,"src":"8690:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1628,"name":"_migrationRequestExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2102,"src":"8666:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_bool_$","typeString":"function (uint256) view returns (bool)"}},"id":1630,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8666:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8652:53:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1634,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8723:7:7","subExpression":{"argumentTypes":null,"id":1633,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1627,"src":"8724:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6d6967726174696f6e207265717565737420666f72207468697320636572746966696361746520616c726561647920657869737473","id":1635,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8732:55:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_f709d14da8a5feb873f1e9485340059cc4778d8b2f65523328793fa61bc32e07","typeString":"literal_string \\"migration request for this certificate already exists\\""},"value":"migration request for this certificate already exists"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_f709d14da8a5feb873f1e9485340059cc4778d8b2f65523328793fa61bc32e07","typeString":"literal_string \\"migration request for this certificate already exists\\""}],"id":1632,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"8715:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8715:73:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1637,"nodeType":"ExpressionStatement","src":"8715:73:7"},{"assignments":[1639],"declarations":[{"constant":false,"id":1639,"name":"id","nodeType":"VariableDeclaration","scope":1663,"src":"8793:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1638,"name":"uint256","nodeType":"ElementaryTypeName","src":"8793:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1642,"initialValue":{"argumentTypes":null,"id":1641,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"8806:29:7","subExpression":{"argumentTypes":null,"id":1640,"name":"requestMigrateToPublicNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1023,"src":"8808:27:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8793:42:7"},{"expression":{"argumentTypes":null,"id":1653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1643,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"8840:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1645,"indexExpression":{"argumentTypes":null,"id":1644,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1639,"src":"8870:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"8840:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1647,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"8907:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1648,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8907:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1649,"name":"_ownerAddressLeafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1621,"src":"8928:21:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1650,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1619,"src":"8969:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"66616c7365","id":1651,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8998:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":1646,"name":"RequestStateChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1072,"src":"8876:18:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_RequestStateChange_$1072_storage_ptr_$","typeString":"type(struct Issuer.RequestStateChange storage pointer)"}},"id":1652,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["owner","hash","certificateId","approved"],"nodeType":"FunctionCall","src":"8876:132:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_memory","typeString":"struct Issuer.RequestStateChange memory"}},"src":"8840:168:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"id":1654,"nodeType":"ExpressionStatement","src":"8840:168:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1656,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"9043:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":1657,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9043:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":1658,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1639,"src":"9055:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1655,"name":"MigrateToPublicRequested","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":991,"src":"9018:24:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":1659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9018:40:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1660,"nodeType":"EmitStatement","src":"9013:45:7"},{"expression":{"argumentTypes":null,"id":1661,"name":"id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1639,"src":"9076:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1625,"id":1662,"nodeType":"Return","src":"9069:9:7"}]},"documentation":null,"id":1664,"implemented":true,"kind":"function","modifiers":[],"name":"requestMigrateToPublic","nodeType":"FunctionDefinition","parameters":{"id":1622,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1619,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1664,"src":"8560:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1618,"name":"uint256","nodeType":"ElementaryTypeName","src":"8560:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1621,"name":"_ownerAddressLeafHash","nodeType":"VariableDeclaration","scope":1664,"src":"8584:29:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1620,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8584:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"8559:55:7"},"returnParameters":{"id":1625,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1624,"name":"","nodeType":"VariableDeclaration","scope":1664,"src":"8633:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1623,"name":"uint256","nodeType":"ElementaryTypeName","src":"8633:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"8632:9:7"},"scope":2125,"src":"8528:554:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1677,"nodeType":"Block","src":"9208:69:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1673,"name":"requestPrivateTransferStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1035,"src":"9225:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PrivateTransferRequest_$1063_storage_$","typeString":"mapping(uint256 => struct Issuer.PrivateTransferRequest storage ref)"}},"id":1675,"indexExpression":{"argumentTypes":null,"id":1674,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1666,"src":"9255:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9225:45:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage","typeString":"struct Issuer.PrivateTransferRequest storage ref"}},"functionReturnParameters":1672,"id":1676,"nodeType":"Return","src":"9218:52:7"}]},"documentation":null,"id":1678,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1669,"modifierName":{"argumentTypes":null,"id":1668,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"9158:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"9158:9:7"}],"name":"getPrivateTransferRequest","nodeType":"FunctionDefinition","parameters":{"id":1667,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1666,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1678,"src":"9123:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1665,"name":"uint","nodeType":"ElementaryTypeName","src":"9123:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9122:21:7"},"returnParameters":{"id":1672,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1671,"name":"","nodeType":"VariableDeclaration","scope":1678,"src":"9177:29:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_memory_ptr","typeString":"struct Issuer.PrivateTransferRequest"},"typeName":{"contractScope":null,"id":1670,"name":"PrivateTransferRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1063,"src":"9177:22:7","typeDescriptions":{"typeIdentifier":"t_struct$_PrivateTransferRequest_$1063_storage_ptr","typeString":"struct Issuer.PrivateTransferRequest"}},"value":null,"visibility":"internal"}],"src":"9176:31:7"},"scope":2125,"src":"9088:189:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1691,"nodeType":"Block","src":"9389:65:7","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1687,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"9406:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1689,"indexExpression":{"argumentTypes":null,"id":1688,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1680,"src":"9436:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9406:41:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"functionReturnParameters":1686,"id":1690,"nodeType":"Return","src":"9399:48:7"}]},"documentation":null,"id":1692,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1683,"modifierName":{"argumentTypes":null,"id":1682,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"9343:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"9343:9:7"}],"name":"getMigrationRequest","nodeType":"FunctionDefinition","parameters":{"id":1681,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1680,"name":"_requestId","nodeType":"VariableDeclaration","scope":1692,"src":"9312:15:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1679,"name":"uint","nodeType":"ElementaryTypeName","src":"9312:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9311:17:7"},"returnParameters":{"id":1686,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1685,"name":"","nodeType":"VariableDeclaration","scope":1692,"src":"9362:25:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_memory_ptr","typeString":"struct Issuer.RequestStateChange"},"typeName":{"contractScope":null,"id":1684,"name":"RequestStateChange","nodeType":"UserDefinedTypeName","referencedDeclaration":1072,"src":"9362:18:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"}},"value":null,"visibility":"internal"}],"src":"9361:27:7"},"scope":2125,"src":"9283:171:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1736,"nodeType":"Block","src":"9554:310:7","statements":[{"assignments":[1702],"declarations":[{"constant":false,"id":1702,"name":"found","nodeType":"VariableDeclaration","scope":1736,"src":"9564:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1701,"name":"bool","nodeType":"ElementaryTypeName","src":"9564:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"id":1704,"initialValue":{"argumentTypes":null,"hexValue":"66616c7365","id":1703,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"9577:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"nodeType":"VariableDeclarationStatement","src":"9564:18:7"},{"body":{"id":1729,"nodeType":"Block","src":"9643:150:7","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1720,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1715,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"9661:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1717,"indexExpression":{"argumentTypes":null,"id":1716,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9691:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9661:32:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"id":1718,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"9661:46:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":1719,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1694,"src":"9711:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9661:64:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":1728,"nodeType":"IfStatement","src":"9657:132:7","trueBody":{"id":1727,"nodeType":"Block","src":"9727:62:7","statements":[{"expression":{"argumentTypes":null,"id":1723,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1721,"name":"found","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1702,"src":"9745:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1722,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"9753:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"9745:12:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1724,"nodeType":"ExpressionStatement","src":"9745:12:7"},{"expression":{"argumentTypes":null,"id":1725,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9773:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":1700,"id":1726,"nodeType":"Return","src":"9766:8:7"}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1711,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1709,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9604:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":1710,"name":"requestMigrateToPublicNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1023,"src":"9609:27:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9604:32:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1730,"initializationExpression":{"assignments":[1706],"declarations":[{"constant":false,"id":1706,"name":"i","nodeType":"VariableDeclaration","scope":1730,"src":"9592:6:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1705,"name":"uint","nodeType":"ElementaryTypeName","src":"9592:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1708,"initialValue":{"argumentTypes":null,"hexValue":"31","id":1707,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9601:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"VariableDeclarationStatement","src":"9592:10:7"},"loopExpression":{"expression":{"argumentTypes":null,"id":1713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"9638:3:7","subExpression":{"argumentTypes":null,"id":1712,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1706,"src":"9638:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1714,"nodeType":"ExpressionStatement","src":"9638:3:7"},"nodeType":"ForStatement","src":"9587:206:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1732,"name":"found","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1702,"src":"9811:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"756e61626c6520746f2066696e6420746865206d6967726174696f6e2072657175657374","id":1733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9818:38:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_dcdf09f5c892cae594bbe663ef4f95dbd81e735afe988c134d2932fc7cbfaec3","typeString":"literal_string \\"unable to find the migration request\\""},"value":"unable to find the migration request"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_dcdf09f5c892cae594bbe663ef4f95dbd81e735afe988c134d2932fc7cbfaec3","typeString":"literal_string \\"unable to find the migration request\\""}],"id":1731,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"9803:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9803:54:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1735,"nodeType":"ExpressionStatement","src":"9803:54:7"}]},"documentation":null,"id":1737,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1697,"modifierName":{"argumentTypes":null,"id":1696,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"9526:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"9526:9:7"}],"name":"getMigrationRequestId","nodeType":"FunctionDefinition","parameters":{"id":1695,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1694,"name":"_certificateId","nodeType":"VariableDeclaration","scope":1737,"src":"9491:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1693,"name":"uint","nodeType":"ElementaryTypeName","src":"9491:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9490:21:7"},"returnParameters":{"id":1700,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1699,"name":"","nodeType":"VariableDeclaration","scope":1737,"src":"9545:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1698,"name":"uint256","nodeType":"ElementaryTypeName","src":"9545:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9544:9:7"},"scope":2125,"src":"9460:404:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":1845,"nodeType":"Block","src":"10034:852:7","statements":[{"assignments":[1752],"declarations":[{"constant":false,"id":1752,"name":"request","nodeType":"VariableDeclaration","scope":1845,"src":"10038:34:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"},"typeName":{"contractScope":null,"id":1751,"name":"RequestStateChange","nodeType":"UserDefinedTypeName","referencedDeclaration":1072,"src":"10038:18:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange"}},"value":null,"visibility":"internal"}],"id":1756,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1753,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"10075:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":1755,"indexExpression":{"argumentTypes":null,"id":1754,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1739,"src":"10105:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10075:41:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"nodeType":"VariableDeclarationStatement","src":"10038:78:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1760,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10129:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1758,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10130:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1759,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1071,"src":"10130:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6d696772617465546f5075626c696328293a205265717565737420616c726561647920617070726f766564","id":1761,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10148:45:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_0fffc93ff4b8b93fc963b28f35a8217af9e0c49316c871ab2489ed0be3ca191a","typeString":"literal_string \\"migrateToPublic(): Request already approved\\""},"value":"migrateToPublic(): Request already approved"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0fffc93ff4b8b93fc963b28f35a8217af9e0c49316c871ab2489ed0be3ca191a","typeString":"literal_string \\"migrateToPublic(): Request already approved\\""}],"id":1757,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10121:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1762,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10121:73:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1763,"nodeType":"ExpressionStatement","src":"10121:73:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"10212:34:7","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1765,"name":"migrations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1039,"src":"10213:10:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1768,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1766,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10224:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1767,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10224:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10213:33:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"6d696772617465546f5075626c696328293a20636572746966696361746520616c7265616479206d69677261746564","id":1770,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10248:49:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_21a48d3c1c631bc2615fc34f0a0311f8bf12ee8d062acbd8a1743d6d6b29a493","typeString":"literal_string \\"migrateToPublic(): certificate already migrated\\""},"value":"migrateToPublic(): certificate already migrated"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_21a48d3c1c631bc2615fc34f0a0311f8bf12ee8d062acbd8a1743d6d6b29a493","typeString":"literal_string \\"migrateToPublic(): certificate already migrated\\""}],"id":1764,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10204:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1771,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10204:94:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1772,"nodeType":"ExpressionStatement","src":"10204:94:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":1785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1774,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10310:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1775,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1069,"src":"10310:12:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1779,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10353:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1780,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10353:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1781,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10368:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1782,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1743,"src":"10377:5:7","typeDescriptions":{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"}],"expression":{"argumentTypes":null,"id":1777,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"10336:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1778,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10336:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1783,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10336:47:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1776,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"10326:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1784,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10326:58:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"10310:74:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"526571756573746564206861736820646f6573206e6f74206d61746368","id":1786,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10386:31:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_647a734a50ec0ec39899922fef5a24935e158522f63d7b92c083a1a50b3136ab","typeString":"literal_string \\"Requested hash does not match\\""},"value":"Requested hash does not match"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_647a734a50ec0ec39899922fef5a24935e158522f63d7b92c083a1a50b3136ab","typeString":"literal_string \\"Requested hash does not match\\""}],"id":1773,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10302:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1787,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10302:116:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1788,"nodeType":"ExpressionStatement","src":"10302:116:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1791,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10459:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1792,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10459:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1793,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10474:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1794,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1743,"src":"10483:5:7","typeDescriptions":{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1795,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"10490:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":1798,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1796,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10502:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1797,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10502:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10490:34:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1799,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1746,"src":"10526:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_calldata_ptr","typeString":"string calldata"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof calldata[] calldata"}],"id":1790,"name":"validateOwnershipProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1920,"src":"10436:22:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_uint256_$_t_string_memory_ptr_$_t_bytes32_$_t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (address,uint256,string memory,bytes32,struct Issuer.Proof memory[] memory) pure returns (bool)"}},"id":1800,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10436:97:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"496e76616c69642070726f6f66","id":1801,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10535:15:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_dbb8b2d35c676776519896c045ce9c5b267915e4127b1aa1fa65a56a3d2b2639","typeString":"literal_string \\"Invalid proof\\""},"value":"Invalid proof"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_dbb8b2d35c676776519896c045ce9c5b267915e4127b1aa1fa65a56a3d2b2639","typeString":"literal_string \\"Invalid proof\\""}],"id":1789,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"10428:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":1802,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10428:123:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1803,"nodeType":"ExpressionStatement","src":"10428:123:7"},{"expression":{"argumentTypes":null,"id":1808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1804,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10556:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1806,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1071,"src":"10556:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1807,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10575:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"10556:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1809,"nodeType":"ExpressionStatement","src":"10556:23:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1813,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10604:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1814,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10604:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1815,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10627:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1816,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10627:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1817,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10642:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":1810,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"10590:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}},"id":1812,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mint","nodeType":"MemberAccess","referencedDeclaration":663,"src":"10590:13:7","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256) external"}},"id":1818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10590:60:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1819,"nodeType":"ExpressionStatement","src":"10590:60:7"},{"expression":{"argumentTypes":null,"id":1825,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1820,"name":"migrations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1039,"src":"10660:10:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bool_$","typeString":"mapping(uint256 => bool)"}},"id":1823,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1821,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10671:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1822,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10671:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10660:33:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":1824,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10696:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"10660:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1826,"nodeType":"ExpressionStatement","src":"10660:40:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1828,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10729:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1829,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10729:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1830,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"10752:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":1833,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1831,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10764:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1832,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10764:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10752:34:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"hexValue":"307830","id":1834,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10788:3:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":1827,"name":"_updateCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2062,"src":"10711:17:7","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (uint256,bytes32,bytes32)"}},"id":1835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10711:81:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1836,"nodeType":"ExpressionStatement","src":"10711:81:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1838,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10836:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1839,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"10836:21:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1840,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1752,"src":"10859:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage_ptr","typeString":"struct Issuer.RequestStateChange storage pointer"}},"id":1841,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"owner","nodeType":"MemberAccess","referencedDeclaration":1065,"src":"10859:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1842,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1741,"src":"10874:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":1837,"name":"CertificateMigratedToPublic","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1005,"src":"10808:27:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":1843,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10808:74:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":1844,"nodeType":"EmitStatement","src":"10803:79:7"}]},"documentation":null,"id":1846,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":1749,"modifierName":{"argumentTypes":null,"id":1748,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2907,"src":"10024:9:7","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"10024:9:7"}],"name":"migrateToPublic","nodeType":"FunctionDefinition","parameters":{"id":1747,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1739,"name":"_requestId","nodeType":"VariableDeclaration","scope":1846,"src":"9901:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1738,"name":"uint256","nodeType":"ElementaryTypeName","src":"9901:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1741,"name":"_volume","nodeType":"VariableDeclaration","scope":1846,"src":"9929:15:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1740,"name":"uint256","nodeType":"ElementaryTypeName","src":"9929:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1743,"name":"_salt","nodeType":"VariableDeclaration","scope":1846,"src":"9954:21:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_string_calldata_ptr","typeString":"string"},"typeName":{"id":1742,"name":"string","nodeType":"ElementaryTypeName","src":"9954:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":1746,"name":"_proof","nodeType":"VariableDeclaration","scope":1846,"src":"9985:23:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_calldata_$dyn_calldata_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1744,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"9985:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1745,"length":null,"nodeType":"ArrayTypeName","src":"9985:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"}],"src":"9891:123:7"},"returnParameters":{"id":1750,"nodeType":"ParameterList","parameters":[],"src":"10034:0:7"},"scope":2125,"src":"9867:1019:7","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":1864,"nodeType":"Block","src":"11008:48:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1859,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1848,"src":"11030:5:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1860,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1850,"src":"11037:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1861,"name":"_deviceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1852,"src":"11042:9:7","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":1857,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11019:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1858,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encode","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11019:10:7","typeDescriptions":{"typeIdentifier":"t_function_abiencode_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11019:33:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"functionReturnParameters":1856,"id":1863,"nodeType":"Return","src":"11012:40:7"}]},"documentation":null,"id":1865,"implemented":true,"kind":"function","modifiers":[],"name":"encodeData","nodeType":"FunctionDefinition","parameters":{"id":1853,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1848,"name":"_from","nodeType":"VariableDeclaration","scope":1865,"src":"10926:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1847,"name":"uint","nodeType":"ElementaryTypeName","src":"10926:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1850,"name":"_to","nodeType":"VariableDeclaration","scope":1865,"src":"10938:8:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1849,"name":"uint","nodeType":"ElementaryTypeName","src":"10938:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1852,"name":"_deviceId","nodeType":"VariableDeclaration","scope":1865,"src":"10948:23:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1851,"name":"string","nodeType":"ElementaryTypeName","src":"10948:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"10925:47:7"},"returnParameters":{"id":1856,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1855,"name":"","nodeType":"VariableDeclaration","scope":1865,"src":"10994:12:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1854,"name":"bytes","nodeType":"ElementaryTypeName","src":"10994:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"10993:14:7"},"scope":2125,"src":"10906:150:7","stateMutability":"pure","superFunction":null,"visibility":"public"},{"body":{"id":1885,"nodeType":"Block","src":"11147:54:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1878,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1867,"src":"11169:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"components":[{"argumentTypes":null,"id":1879,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11177:4:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},{"argumentTypes":null,"id":1880,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11183:4:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},{"argumentTypes":null,"id":1881,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11189:6:7","typeDescriptions":{"typeIdentifier":"t_type$_t_string_storage_ptr_$","typeString":"type(string storage pointer)"},"typeName":"string"}],"id":1882,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"11176:20:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_string_storage_ptr_$_$","typeString":"tuple(type(uint256),type(uint256),type(string storage pointer))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_uint256_$_$_t_type$_t_uint256_$_$_t_type$_t_string_storage_ptr_$_$","typeString":"tuple(type(uint256),type(uint256),type(string storage pointer))"}],"expression":{"argumentTypes":null,"id":1876,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11158:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1877,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"decode","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11158:10:7","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":1883,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11158:39:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_string_memory_$","typeString":"tuple(uint256,uint256,string memory)"}},"functionReturnParameters":1875,"id":1884,"nodeType":"Return","src":"11151:46:7"}]},"documentation":null,"id":1886,"implemented":true,"kind":"function","modifiers":[],"name":"decodeData","nodeType":"FunctionDefinition","parameters":{"id":1868,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1867,"name":"_data","nodeType":"VariableDeclaration","scope":1886,"src":"11079:18:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1866,"name":"bytes","nodeType":"ElementaryTypeName","src":"11079:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"11078:20:7"},"returnParameters":{"id":1875,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1870,"name":"","nodeType":"VariableDeclaration","scope":1886,"src":"11120:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1869,"name":"uint","nodeType":"ElementaryTypeName","src":"11120:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1872,"name":"","nodeType":"VariableDeclaration","scope":1886,"src":"11126:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1871,"name":"uint","nodeType":"ElementaryTypeName","src":"11126:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1874,"name":"","nodeType":"VariableDeclaration","scope":1886,"src":"11132:13:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1873,"name":"string","nodeType":"ElementaryTypeName","src":"11132:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"11119:27:7"},"scope":2125,"src":"11059:142:7","stateMutability":"pure","superFunction":null,"visibility":"public"},{"body":{"id":1919,"nodeType":"Block","src":"11410:140:7","statements":[{"assignments":[1903],"declarations":[{"constant":false,"id":1903,"name":"leafHash","nodeType":"VariableDeclaration","scope":1919,"src":"11414:16:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1902,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11414:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":1912,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1907,"name":"_ownerAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1888,"src":"11460:13:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":1908,"name":"_volume","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1890,"src":"11475:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":1909,"name":"_salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1892,"src":"11484:5:7","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"expression":{"argumentTypes":null,"id":1905,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11443:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1906,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11443:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1910,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11443:47:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1904,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"11433:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1911,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11433:58:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"11414:77:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1914,"name":"leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1903,"src":"11518:8:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1915,"name":"_rootHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1894,"src":"11528:9:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1916,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1897,"src":"11539:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}],"id":1913,"name":"validateMerkle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1987,"src":"11503:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes32_$_t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr_$returns$_t_bool_$","typeString":"function (bytes32,bytes32,struct Issuer.Proof memory[] memory) pure returns (bool)"}},"id":1917,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11503:43:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":1901,"id":1918,"nodeType":"Return","src":"11496:50:7"}]},"documentation":null,"id":1920,"implemented":true,"kind":"function","modifiers":[],"name":"validateOwnershipProof","nodeType":"FunctionDefinition","parameters":{"id":1898,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1888,"name":"_ownerAddress","nodeType":"VariableDeclaration","scope":1920,"src":"11245:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1887,"name":"address","nodeType":"ElementaryTypeName","src":"11245:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":1890,"name":"_volume","nodeType":"VariableDeclaration","scope":1920,"src":"11276:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1889,"name":"uint","nodeType":"ElementaryTypeName","src":"11276:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":1892,"name":"_salt","nodeType":"VariableDeclaration","scope":1920,"src":"11298:19:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1891,"name":"string","nodeType":"ElementaryTypeName","src":"11298:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"},{"constant":false,"id":1894,"name":"_rootHash","nodeType":"VariableDeclaration","scope":1920,"src":"11327:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1893,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11327:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1897,"name":"_proof","nodeType":"VariableDeclaration","scope":1920,"src":"11354:21:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1895,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"11354:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1896,"length":null,"nodeType":"ArrayTypeName","src":"11354:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"}],"src":"11235:146:7"},"returnParameters":{"id":1901,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1900,"name":"","nodeType":"VariableDeclaration","scope":1920,"src":"11404:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1899,"name":"bool","nodeType":"ElementaryTypeName","src":"11404:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"11403:6:7"},"scope":2125,"src":"11204:346:7","stateMutability":"pure","superFunction":null,"visibility":"private"},{"body":{"id":1986,"nodeType":"Block","src":"11666:287:7","statements":[{"assignments":[1933],"declarations":[{"constant":false,"id":1933,"name":"hash","nodeType":"VariableDeclaration","scope":1986,"src":"11670:12:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1932,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11670:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":1935,"initialValue":{"argumentTypes":null,"id":1934,"name":"_leafHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1922,"src":"11685:9:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"11670:24:7"},{"body":{"id":1980,"nodeType":"Block","src":"11743:178:7","statements":[{"assignments":[1948],"declarations":[{"constant":false,"id":1948,"name":"p","nodeType":"VariableDeclaration","scope":1980,"src":"11748:14:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof"},"typeName":{"contractScope":null,"id":1947,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"11748:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"value":null,"visibility":"internal"}],"id":1952,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":1949,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1927,"src":"11765:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}},"id":1951,"indexExpression":{"argumentTypes":null,"id":1950,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"11772:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11765:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory","typeString":"struct Issuer.Proof memory"}},"nodeType":"VariableDeclarationStatement","src":"11748:26:7"},{"condition":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1953,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1948,"src":"11783:1:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof memory"}},"id":1954,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"left","nodeType":"MemberAccess","referencedDeclaration":1074,"src":"11783:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":1978,"nodeType":"Block","src":"11857:60:7","statements":[{"expression":{"argumentTypes":null,"id":1976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1967,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11863:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1971,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11897:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1972,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1948,"src":"11903:1:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof memory"}},"id":1973,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1076,"src":"11903:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":1969,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11880:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1970,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11880:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1974,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11880:30:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1968,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"11870:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1975,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11870:41:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11863:48:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":1977,"nodeType":"ExpressionStatement","src":"11863:48:7"}]},"id":1979,"nodeType":"IfStatement","src":"11779:138:7","trueBody":{"id":1966,"nodeType":"Block","src":"11791:60:7","statements":[{"expression":{"argumentTypes":null,"id":1964,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":1955,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11797:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1959,"name":"p","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1948,"src":"11831:1:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_memory_ptr","typeString":"struct Issuer.Proof memory"}},"id":1960,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"hash","nodeType":"MemberAccess","referencedDeclaration":1076,"src":"11831:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":1961,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11839:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":1957,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3049,"src":"11814:3:7","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":1958,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11814:16:7","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":1962,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11814:30:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":1956,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3056,"src":"11804:9:7","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":1963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11804:41:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11797:48:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":1965,"nodeType":"ExpressionStatement","src":"11797:48:7"}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":1943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1940,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"11719:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":1941,"name":"_proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1927,"src":"11723:6:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof memory[] memory"}},"id":1942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11723:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11719:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":1981,"initializationExpression":{"assignments":[1937],"declarations":[{"constant":false,"id":1937,"name":"i","nodeType":"VariableDeclaration","scope":1981,"src":"11704:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1936,"name":"uint256","nodeType":"ElementaryTypeName","src":"11704:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":1939,"initialValue":{"argumentTypes":null,"hexValue":"30","id":1938,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11716:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11704:13:7"},"loopExpression":{"expression":{"argumentTypes":null,"id":1945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11738:3:7","subExpression":{"argumentTypes":null,"id":1944,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1937,"src":"11738:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":1946,"nodeType":"ExpressionStatement","src":"11738:3:7"},"nodeType":"ForStatement","src":"11699:222:7"},{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":1984,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":1982,"name":"_rootHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1924,"src":"11932:9:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":1983,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1933,"src":"11945:4:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"11932:17:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":1931,"id":1985,"nodeType":"Return","src":"11925:24:7"}]},"documentation":null,"id":1987,"implemented":true,"kind":"function","modifiers":[],"name":"validateMerkle","nodeType":"FunctionDefinition","parameters":{"id":1928,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1922,"name":"_leafHash","nodeType":"VariableDeclaration","scope":1987,"src":"11577:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1921,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11577:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1924,"name":"_rootHash","nodeType":"VariableDeclaration","scope":1987,"src":"11596:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1923,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11596:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":1927,"name":"_proof","nodeType":"VariableDeclaration","scope":1987,"src":"11615:21:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_memory_$dyn_memory_ptr","typeString":"struct Issuer.Proof[]"},"typeName":{"baseType":{"contractScope":null,"id":1925,"name":"Proof","nodeType":"UserDefinedTypeName","referencedDeclaration":1077,"src":"11615:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$1077_storage_ptr","typeString":"struct Issuer.Proof"}},"id":1926,"length":null,"nodeType":"ArrayTypeName","src":"11615:7:7","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Proof_$1077_storage_$dyn_storage_ptr","typeString":"struct Issuer.Proof[]"}},"value":null,"visibility":"internal"}],"src":"11576:61:7"},"returnParameters":{"id":1931,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1930,"name":"","nodeType":"VariableDeclaration","scope":1987,"src":"11660:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1929,"name":"bool","nodeType":"ElementaryTypeName","src":"11660:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"11659:6:7"},"scope":2125,"src":"11553:400:7","stateMutability":"pure","superFunction":null,"visibility":"private"},{"body":{"id":1996,"nodeType":"Block","src":"12037:41:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":1993,"name":"registry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1013,"src":"12062:8:7","typeDescriptions":{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Registry_$2566","typeString":"contract Registry"}],"id":1992,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12054:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":1994,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12054:17:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":1991,"id":1995,"nodeType":"Return","src":"12047:24:7"}]},"documentation":null,"id":1997,"implemented":true,"kind":"function","modifiers":[],"name":"getRegistryAddress","nodeType":"FunctionDefinition","parameters":{"id":1988,"nodeType":"ParameterList","parameters":[],"src":"12002:2:7"},"returnParameters":{"id":1991,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1990,"name":"","nodeType":"VariableDeclaration","scope":1997,"src":"12028:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1989,"name":"address","nodeType":"ElementaryTypeName","src":"12028:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"12027:9:7"},"scope":2125,"src":"11975:103:7","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":2004,"nodeType":"Block","src":"12141:30:7","statements":[{"expression":{"argumentTypes":null,"hexValue":"76302e31","id":2002,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12158:6:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6d332d76c5f02eb1a7286b96f4a528ceba4d78d0825283d5be2e358ade4be84e","typeString":"literal_string \\"v0.1\\""},"value":"v0.1"},"functionReturnParameters":2001,"id":2003,"nodeType":"Return","src":"12151:13:7"}]},"documentation":null,"id":2005,"implemented":true,"kind":"function","modifiers":[],"name":"version","nodeType":"FunctionDefinition","parameters":{"id":1998,"nodeType":"ParameterList","parameters":[],"src":"12100:2:7"},"returnParameters":{"id":2001,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2000,"name":"","nodeType":"VariableDeclaration","scope":2005,"src":"12126:13:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":1999,"name":"string","nodeType":"ElementaryTypeName","src":"12126:6:7","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"value":null,"visibility":"internal"}],"src":"12125:15:7"},"scope":2125,"src":"12084:87:7","stateMutability":"pure","superFunction":null,"visibility":"external"},{"body":{"id":2029,"nodeType":"Block","src":"12250:233:7","statements":[{"assignments":[2011],"declarations":[{"constant":false,"id":2011,"name":"request","nodeType":"VariableDeclaration","scope":2029,"src":"12260:36:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":2010,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"12260:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":2015,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2012,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"12299:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":2014,"indexExpression":{"argumentTypes":null,"id":2013,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2007,"src":"12321:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12299:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"12260:72:7"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"12350:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2017,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2011,"src":"12351:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":2018,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"12351:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"416c726561647920697373756564","id":2020,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12369:16:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ad4ffe19a2ba4c5627d6a7bf55a00deb5812fc00780080fe88471de7c38f6844","typeString":"literal_string \\"Already issued\\""},"value":"Already issued"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ad4ffe19a2ba4c5627d6a7bf55a00deb5812fc00780080fe88471de7c38f6844","typeString":"literal_string \\"Already issued\\""}],"id":2016,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"12342:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12342:44:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2022,"nodeType":"ExpressionStatement","src":"12342:44:7"},{"expression":{"argumentTypes":null,"id":2027,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2023,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2011,"src":"12453:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest storage pointer"}},"id":2025,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"12453:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":2026,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12472:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"12453:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2028,"nodeType":"ExpressionStatement","src":"12453:23:7"}]},"documentation":null,"id":2030,"implemented":true,"kind":"function","modifiers":[],"name":"_approve","nodeType":"FunctionDefinition","parameters":{"id":2008,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2007,"name":"_requestId","nodeType":"VariableDeclaration","scope":2030,"src":"12222:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2006,"name":"uint256","nodeType":"ElementaryTypeName","src":"12222:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"12221:20:7"},"returnParameters":{"id":2009,"nodeType":"ParameterList","parameters":[],"src":"12250:0:7"},"scope":2125,"src":"12204:279:7","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":2061,"nodeType":"Block","src":"12584:197:7","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":2044,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2040,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"12596:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":2042,"indexExpression":{"argumentTypes":null,"id":2041,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2032,"src":"12608:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12596:16:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2043,"name":"_previousCommitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2034,"src":"12616:19:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"12596:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"757064617465436f6d6d69746d656e743a2070726576696f757320636f6d6d69746d656e7420696e76616c6964","id":2045,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12637:47:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_7c83887037533de1c5b9ba2035946953521d14390f15c6b4a17cdb7298e4940d","typeString":"literal_string \\"updateCommitment: previous commitment invalid\\""},"value":"updateCommitment: previous commitment invalid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_7c83887037533de1c5b9ba2035946953521d14390f15c6b4a17cdb7298e4940d","typeString":"literal_string \\"updateCommitment: previous commitment invalid\\""}],"id":2039,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3065,3066],"referencedDeclaration":3066,"src":"12588:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2046,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12588:97:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2047,"nodeType":"ExpressionStatement","src":"12588:97:7"},{"expression":{"argumentTypes":null,"id":2052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2048,"name":"commitments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1047,"src":"12690:11:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"}},"id":2050,"indexExpression":{"argumentTypes":null,"id":2049,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2032,"src":"12702:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12690:16:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2051,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2036,"src":"12709:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"12690:30:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2053,"nodeType":"ExpressionStatement","src":"12690:30:7"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2055,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3062,"src":"12748:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12748:10:7","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2057,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2032,"src":"12760:3:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2058,"name":"_commitment","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2036,"src":"12765:11:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2054,"name":"CommitmentUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":985,"src":"12730:17:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_bytes32_$returns$__$","typeString":"function (address,uint256,bytes32)"}},"id":2059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12730:47:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2060,"nodeType":"EmitStatement","src":"12725:52:7"}]},"documentation":null,"id":2062,"implemented":true,"kind":"function","modifiers":[],"name":"_updateCommitment","nodeType":"FunctionDefinition","parameters":{"id":2037,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2032,"name":"_id","nodeType":"VariableDeclaration","scope":2062,"src":"12513:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2031,"name":"uint256","nodeType":"ElementaryTypeName","src":"12513:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2034,"name":"_previousCommitment","nodeType":"VariableDeclaration","scope":2062,"src":"12526:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2033,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12526:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":2036,"name":"_commitment","nodeType":"VariableDeclaration","scope":2062,"src":"12555:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2035,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12555:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"12512:63:7"},"returnParameters":{"id":2038,"nodeType":"ParameterList","parameters":[],"src":"12584:0:7"},"scope":2125,"src":"12486:295:7","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":2101,"nodeType":"Block","src":"12869:285:7","statements":[{"assignments":[2070],"declarations":[{"constant":false,"id":2070,"name":"exists","nodeType":"VariableDeclaration","scope":2101,"src":"12879:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2069,"name":"bool","nodeType":"ElementaryTypeName","src":"12879:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"id":2072,"initialValue":{"argumentTypes":null,"hexValue":"66616c7365","id":2071,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"12893:5:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"nodeType":"VariableDeclarationStatement","src":"12879:19:7"},{"body":{"id":2097,"nodeType":"Block","src":"12959:165:7","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2083,"name":"requestMigrateToPublicStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1031,"src":"12977:29:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_RequestStateChange_$1072_storage_$","typeString":"mapping(uint256 => struct Issuer.RequestStateChange storage ref)"}},"id":2085,"indexExpression":{"argumentTypes":null,"id":2084,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2074,"src":"13007:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12977:32:7","typeDescriptions":{"typeIdentifier":"t_struct$_RequestStateChange_$1072_storage","typeString":"struct Issuer.RequestStateChange storage ref"}},"id":2086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"certificateId","nodeType":"MemberAccess","referencedDeclaration":1067,"src":"12977:46:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2087,"name":"_certificateId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2064,"src":"13027:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12977:64:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2096,"nodeType":"IfStatement","src":"12973:147:7","trueBody":{"id":2095,"nodeType":"Block","src":"13043:77:7","statements":[{"expression":{"argumentTypes":null,"id":2091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2089,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"13061:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":2090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"13070:4:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"13061:13:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2092,"nodeType":"ExpressionStatement","src":"13061:13:7"},{"expression":{"argumentTypes":null,"id":2093,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"13099:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2068,"id":2094,"nodeType":"Return","src":"13092:13:7"}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2079,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2077,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2074,"src":"12920:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2078,"name":"requestMigrateToPublicNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1023,"src":"12925:27:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12920:32:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2098,"initializationExpression":{"assignments":[2074],"declarations":[{"constant":false,"id":2074,"name":"i","nodeType":"VariableDeclaration","scope":2098,"src":"12908:6:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2073,"name":"uint","nodeType":"ElementaryTypeName","src":"12908:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2076,"initialValue":{"argumentTypes":null,"hexValue":"31","id":2075,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12917:1:7","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"VariableDeclarationStatement","src":"12908:10:7"},"loopExpression":{"expression":{"argumentTypes":null,"id":2081,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12954:3:7","subExpression":{"argumentTypes":null,"id":2080,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2074,"src":"12954:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2082,"nodeType":"ExpressionStatement","src":"12954:3:7"},"nodeType":"ForStatement","src":"12903:221:7"},{"expression":{"argumentTypes":null,"id":2099,"name":"exists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"13141:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2068,"id":2100,"nodeType":"Return","src":"13134:13:7"}]},"documentation":null,"id":2102,"implemented":true,"kind":"function","modifiers":[],"name":"_migrationRequestExists","nodeType":"FunctionDefinition","parameters":{"id":2065,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2064,"name":"_certificateId","nodeType":"VariableDeclaration","scope":2102,"src":"12820:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2063,"name":"uint","nodeType":"ElementaryTypeName","src":"12820:4:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"12819:21:7"},"returnParameters":{"id":2068,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2067,"name":"","nodeType":"VariableDeclaration","scope":2102,"src":"12863:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2066,"name":"bool","nodeType":"ElementaryTypeName","src":"12863:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"12862:6:7"},"scope":2125,"src":"12787:367:7","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2123,"nodeType":"Block","src":"13246:143:7","statements":[{"assignments":[2110],"declarations":[{"constant":false,"id":2110,"name":"request","nodeType":"VariableDeclaration","scope":2123,"src":"13256:35:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest"},"typeName":{"contractScope":null,"id":2109,"name":"CertificationRequest","nodeType":"UserDefinedTypeName","referencedDeclaration":1058,"src":"13256:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage_ptr","typeString":"struct Issuer.CertificationRequest"}},"value":null,"visibility":"internal"}],"id":2114,"initialValue":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2111,"name":"certificationRequests","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1017,"src":"13294:21:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_CertificationRequest_$1058_storage_$","typeString":"mapping(uint256 => struct Issuer.CertificationRequest storage ref)"}},"id":2113,"indexExpression":{"argumentTypes":null,"id":2112,"name":"_requestId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"13316:10:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"13294:33:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_storage","typeString":"struct Issuer.CertificationRequest storage ref"}},"nodeType":"VariableDeclarationStatement","src":"13256:71:7"},{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2121,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"13345:17:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2115,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2110,"src":"13346:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":2116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"approved","nodeType":"MemberAccess","referencedDeclaration":1053,"src":"13346:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":2120,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"13366:16:7","subExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2118,"name":"request","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2110,"src":"13367:7:7","typeDescriptions":{"typeIdentifier":"t_struct$_CertificationRequest_$1058_memory_ptr","typeString":"struct Issuer.CertificationRequest memory"}},"id":2119,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"revoked","nodeType":"MemberAccess","referencedDeclaration":1055,"src":"13367:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"13345:37:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":2108,"id":2122,"nodeType":"Return","src":"13338:44:7"}]},"documentation":null,"id":2124,"implemented":true,"kind":"function","modifiers":[],"name":"_requestNotApprovedOrRevoked","nodeType":"FunctionDefinition","parameters":{"id":2105,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2104,"name":"_requestId","nodeType":"VariableDeclaration","scope":2124,"src":"13198:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2103,"name":"uint256","nodeType":"ElementaryTypeName","src":"13198:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"13197:20:7"},"returnParameters":{"id":2108,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2107,"name":"","nodeType":"VariableDeclaration","scope":2124,"src":"13240:4:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2106,"name":"bool","nodeType":"ElementaryTypeName","src":"13240:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"13239:6:7"},"scope":2125,"src":"13160:229:7","stateMutability":"view","superFunction":null,"visibility":"private"}],"scope":2126,"src":"230:13161:7"}],"src":"0:13391:7"},"compiler":{"name":"solc","version":"0.5.16+commit.9c3226ce.Emscripten.clang"},"networks":{},"schemaVersion":"3.1.0","updatedAt":"2020-04-23T10:51:44.554Z","devdoc":{"methods":{"initialize(address)":{"details":"Initializes the contract setting the deployer as the initial owner."},"isOwner()":{"details":"Returns true if the caller is the current owner."},"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner.     * > Note: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}}},"userdoc":{"methods":{}}}')},1695:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ethers_1=__webpack_require__(236);class IssuerFactory extends ethers_1.ContractFactory{constructor(signer){super(_abi,_bytecode,signer)}deploy(overrides){return super.deploy(overrides)}getDeployTransaction(overrides){return super.getDeployTransaction(overrides)}attach(address){return super.attach(address)}connect(signer){return super.connect(signer)}static connect(address,signerOrProvider){return new ethers_1.Contract(address,_abi,signerOrProvider)}}exports.IssuerFactory=IssuerFactory;const _abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_certificateId",type:"uint256"},{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_amount",type:"uint256"}],name:"CertificateMigratedToPublic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"CertificateRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!0,internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"CertificationRequestApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"CertificationRequestRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!0,internalType:"string",name:"_deviceId",type:"string"}],name:"CertificationRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"_commitment",type:"bytes32"}],name:"CommitmentUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"MigrateToPublicRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"PrivateTransferRequested",type:"event"},{constant:!0,inputs:[],name:"certificateTopic",outputs:[{internalType:"int256",name:"",type:"int256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"registry",outputs:[{internalType:"contract Registry",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"int256",name:"_certificateTopic",type:"int256"},{internalType:"address",name:"_registry",type:"address"},{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"}],name:"getCertificationRequest",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bool",name:"approved",type:"bool"},{internalType:"bool",name:"revoked",type:"bool"},{internalType:"bool",name:"isPrivate",type:"bool"}],internalType:"struct Issuer.CertificationRequest",name:"",type:"tuple"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getCertificateCommitment",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"address",name:"_owner",type:"address"},{internalType:"bool",name:"_private",type:"bool"}],name:"requestCertificationFor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bool",name:"_private",type:"bool"}],name:"requestCertification",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"}],name:"isRequestValid",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"}],name:"revokeRequest",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"revokeCertificate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_validityData",type:"bytes"}],name:"approveCertificationRequest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"issue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"},{internalType:"bytes32",name:"_commitment",type:"bytes32"},{internalType:"bytes",name:"_validityData",type:"bytes"}],name:"approveCertificationRequestPrivate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"bytes32",name:"_commitment",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"issuePrivate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"},{internalType:"bytes32",name:"_ownerAddressLeafHash",type:"bytes32"}],name:"requestPrivateTransfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"},{components:[{internalType:"bool",name:"left",type:"bool"},{internalType:"bytes32",name:"hash",type:"bytes32"}],internalType:"struct Issuer.Proof[]",name:"_proof",type:"tuple[]"},{internalType:"bytes32",name:"_previousCommitment",type:"bytes32"},{internalType:"bytes32",name:"_commitment",type:"bytes32"}],name:"approvePrivateTransfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"},{internalType:"bytes32",name:"_ownerAddressLeafHash",type:"bytes32"}],name:"requestMigrateToPublic",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"getPrivateTransferRequest",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"hash",type:"bytes32"}],internalType:"struct Issuer.PrivateTransferRequest",name:"",type:"tuple"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"}],name:"getMigrationRequest",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bytes32",name:"hash",type:"bytes32"},{internalType:"bool",name:"approved",type:"bool"}],internalType:"struct Issuer.RequestStateChange",name:"",type:"tuple"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"getMigrationRequestId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"},{internalType:"uint256",name:"_volume",type:"uint256"},{internalType:"string",name:"_salt",type:"string"},{components:[{internalType:"bool",name:"left",type:"bool"},{internalType:"bytes32",name:"hash",type:"bytes32"}],internalType:"struct Issuer.Proof[]",name:"_proof",type:"tuple[]"}],name:"migrateToPublic",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_from",type:"uint256"},{internalType:"uint256",name:"_to",type:"uint256"},{internalType:"string",name:"_deviceId",type:"string"}],name:"encodeData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"decodeData",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"getRegistryAddress",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"pure",type:"function"}],_bytecode="0x60806040526130e2806100136000396000f3fe608060405234801561001057600080fd5b50600436106101da5760003560e01c80639317058611610104578063c13cbb63116100a2578063ee04783011610071578063ee04783014610418578063f0b5b68d1461042b578063f21de1e814610433578063f2fde38b1461043b576101da565b8063c13cbb63146103cc578063c4d66de8146103df578063d7980f94146103f2578063e7d915cf14610405576101da565b8063abba27b5116100de578063abba27b514610380578063b747c91114610393578063bb31eb72146103a6578063bb3acde9146103b9576101da565b8063931705861461033a578063a5456b381461034d578063a8551fd314610360576101da565b80636512f1111161017c5780638cb886fa1161014b5780638cb886fa146102f75780638da5cb5b1461030a5780638f32d59b1461031f57806393001dc314610327576101da565b80636512f111146102a7578063715018a6146102c7578063750e247b146102cf5780637b103999146102e2576101da565b80633163e28a116101b85780633163e28a1461023d5780633db5717014610250578063447a06f51461027057806354fd4d5014610292576101da565b806306f5497e146101df5780631927b6a5146101f457806326eb2fd11461021d575b600080fd5b6101f26101ed366004612155565b61044e565b005b610207610202366004612155565b6104ed565b6040516102149190612f2f565b60405180910390f35b61023061022b366004612155565b61056f565b6040516102149190612d73565b61023061024b366004611fb5565b6105f1565b61026361025e366004612155565b610675565b6040516102149190612f10565b61028361027e366004612065565b610774565b60405161021493929190612f65565b61029a61079a565b6040516102149190612d81565b6102ba6102b5366004612155565b6107b9565b6040516102149190612d65565b6101f2610916565b6102306102dd366004612155565b610984565b6102ea610996565b6040516102149190612d92565b6101f26103053660046120f4565b6109a5565b610312610aa0565b6040516102149190612ccd565b6102ba610aaf565b6101f261033536600461201a565b610ad5565b6102ba610348366004612191565b610b18565b61023061035b366004612249565b610c4d565b61037361036e366004612155565b610eae565b6040516102149190612f21565b61023061038e36600461220f565b610f0d565b6101f26103a136600461220f565b610fe9565b6102306103b436600461209a565b611094565b6102306103c7366004611fb5565b6111c3565b6101f26103da36600461226a565b61123e565b6101f26103ed366004611f97565b6114e7565b61029a610400366004612249565b6115ba565b6101f2610413366004612155565b6115e9565b610230610426366004612249565b6116bb565b610230611913565b610312611919565b6101f2610449366004611f97565b611928565b610456610aaf565b61047b5760405162461bcd60e51b815260040161047290612e80565b60405180910390fd5b60008181526070602052604090205460ff16156104aa5760405162461bcd60e51b815260040161047290612e90565b600081815260706020526040808220805460ff191660011790555182917fefa6c5f47ac2523bb4db18032377bf7fdce0fa9d86eddcae1ca9bba38be615d791a250565b6104f5611cfa565b6104fd610aaf565b6105195760405162461bcd60e51b815260040161047290612e80565b506000818152606d6020908152604091829020825160808101845281546001600160a01b0316815260018201549281019290925260028101549282019290925260039091015460ff16151560608201525b919050565b6000610579610aaf565b6105955760405162461bcd60e51b815260040161047290612e80565b600060015b606a5481116105cd576000818152606d60205260409020600101548414156105c557915061056a9050565b60010161059a565b50806105eb5760405162461bcd60e51b815260040161047290612ee0565b50919050565b60006105fb610aaf565b6106175760405162461bcd60e51b815260040161047290612e80565b600061062583866001611094565b905061066c81858360405160240161063d9190612d73565b60408051601f198184030181529190526020810180516001600160e01b0316636512f11160e01b179052610c4d565b95945050505050565b61067d611d21565b600082815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f81018690048602830186019096528582529194929385810193919291908301828280156107355780601f1061070a57610100808354040283529160200191610735565b820191906000526020600020905b81548152906001019060200180831161071857829003601f168201915b50505091835250506002919091015460ff8082161515602084015261010082048116151560408401526201000090910416151560609091015292915050565b60008060608380602001905161078d9190810190612303565b9196909550909350915050565b60408051808201909152600481526376302e3160e01b60208201525b90565b60006107c3611d21565b600083815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f810186900486028301860190965285825291949293858101939192919083018282801561087b5780601f106108505761010080835404028352916020019161087b565b820191906000526020600020905b81548152906001019060200180831161085e57829003601f168201915b50505091835250506002919091015460ff808216151560208085019190915261010083048216151560408086019190915262010000909304909116151560609093019290925260008681526069909252902054606c549192509084118015906108e5575081604001515b80156108f357508160600151155b801561090e575060008181526070602052604090205460ff16155b949350505050565b61091e610aaf565b61093a5760405162461bcd60e51b815260040161047290612e80565b6033546040516000916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3603380546001600160a01b0319169055565b60009081526071602052604090205490565b6067546001600160a01b031681565b600054610100900460ff16806109be57506109be611958565b806109cc575060005460ff16155b6109e85760405162461bcd60e51b815260040161047290612ea0565b600054610100900460ff16158015610a13576000805460ff1961ff0019909116610100171660011790555b6001600160a01b038316610a395760405162461bcd60e51b815260040161047290612df0565b6001600160a01b038216610a5f5760405162461bcd60e51b815260040161047290612ef0565b6066849055606780546001600160a01b0319166001600160a01b038516179055610a88826114e7565b8015610a9a576000805461ff00191690555b50505050565b6033546001600160a01b031690565b6033546000906001600160a01b0316610ac661195e565b6001600160a01b031614905090565b610a9a83838080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152503392508591506110949050565b6000610b22610aaf565b610b3e5760405162461bcd60e51b815260040161047290612e80565b6000868152606e6020526040902080546001600160a01b0316610b735760405162461bcd60e51b815260040161047290612e30565b610bd48160010154848888808060200260200160405190810160405280939291908181526020016000905b82821015610bca57610bbb60408302860136819003810190612137565b81526020019060010190610b9e565b5050505050611962565b610bf05760405162461bcd60e51b815260040161047290612dd0565b604080518082018252600080825260208083018281528b8352606e909152929020905181546001600160a01b0319166001600160a01b039091161781559051600190910155610c40878585611a0e565b5060019695505050505050565b6000610c57610aaf565b610c735760405162461bcd60e51b815260040161047290612e80565b610c7c84611a8d565b610c985760405162461bcd60e51b815260040161047290612e50565b610ca0611d21565b600085815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f8101869004860283018601909652858252919492938581019391929190830182828015610d585780601f10610d2d57610100808354040283529160200191610d58565b820191906000526020600020905b815481529060010190602001808311610d3b57829003601f168201915b50505091835250506002919091015460ff808216151560208401526101008204811615156040840152620100009091041615156060909101526080810151909150610db55760405162461bcd60e51b815260040161047290612e60565b610dbe85611bab565b6067548151606654602084015160405163a2d4603960e01b81526000946001600160a01b03169363a2d4603993610dfd9391928a928891600401612cdb565b602060405180830381600087803b158015610e1757600080fd5b505af1158015610e2b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610e4f9190810190612173565b9050610e5d81600087611a0e565b60008681526069602052604080822083905583519051839289926001600160a01b0316917f3e5ec6d038fea8aae03ddd86c2882c546a05ea282e753cf085c8213a61a791309190a495945050505050565b610eb6611d50565b610ebe610aaf565b610eda5760405162461bcd60e51b815260040161047290612e80565b506000908152606e6020908152604091829020825180840190935280546001600160a01b03168352600101549082015290565b600080610f1984611bef565b90508015610f395760405162461bcd60e51b815260040161047290612f00565b606a8054600190810191829055604080516080810182523380825260208083018a81528385018a8152600060608601818152898252606d909452868120955186546001600160a01b0319166001600160a01b0390911617865591519685019690965594516002840155516003909201805460ff191692151592909217909155905183927fd18a53554a32a70376b6c223bfb0d84fc24caa3c704ef04eaf1b868e74ee8f6a91a39150505b92915050565b6000828152606e6020526040902080546001600160a01b03161561101f5760405162461bcd60e51b815260040161047290612ec0565b6040805180820182523380825260208083018681526000888152606e909252848220935184546001600160a01b0319166001600160a01b039091161784555160019093019290925591518592917fde442453a4fabb4e6fe9cd90c427b54511e2e7712b8dfe60307a8de6209db0f191a3505050565b606c80546001908101918290556040805160a0810182526001600160a01b0386811682526020808301898152600084860181905260608501819052881515608086015287815260688352948520845181546001600160a01b03191694169390931783555180519496959394929361111393908501929190910190611d67565b506040820151600290910180546060808501516080909501511515620100000262ff0000199515156101000261ff001995151560ff199094169390931794909416919091179390931691909117905561116b86610774565b925050508060405161117d9190612cc1565b6040519081900381209083906001600160a01b038816907f4f043afdb3c4eab4b8ac7438b40e2244d9e936c2ae05175c438cb49e2b796c6a90600090a450949350505050565b60006111cd610aaf565b6111e95760405162461bcd60e51b815260040161047290612e80565b60006111f783866000611094565b905061066c81858360405160240161120f9190612d73565b60408051601f198184030181529190526020810180516001600160e01b0316636512f11160e01b1790526116bb565b611246610aaf565b6112625760405162461bcd60e51b815260040161047290612e80565b6000868152606d60205260409020600381015460ff16156112955760405162461bcd60e51b815260040161047290612da0565b60018101546000908152606f602052604090205460ff16156112c95760405162461bcd60e51b815260040161047290612db0565b80546040516112ea916001600160a01b031690889088908890602001612c38565b604051602081830303815290604052805190602001208160020154146113225760405162461bcd60e51b815260040161047290612e10565b8054604080516020601f88018190048102820181019092528681526113cb926001600160a01b03169189919089908990819084018382808284376000920182905250600189015481526071602090815260408083205481518d8402810184019092528c8252955093508b92508a91829185015b828210156113c1576113b260408302860136819003810190612137565b81526020019060010190611395565b5050505050611c32565b6113e75760405162461bcd60e51b815260040161047290612ed0565b60038101805460ff1916600190811790915560675490820154825460405163020da84160e61b81526001600160a01b039384169363836a1040936114349390929116908b90600401612f3d565b600060405180830381600087803b15801561144e57600080fd5b505af1158015611462573d6000803e3d6000fd5b50505050600181810180546000908152606f60209081526040808320805460ff191690951790945591548082526071909252918220546114a192611a0e565b8054600182015460405188926001600160a01b031691907f5d348ef3cec3f8493cd139d1ee84e4c84f5b987f49646d7dfa226dbe98b770c990600090a450505050505050565b600054610100900460ff16806115005750611500611958565b8061150e575060005460ff16155b61152a5760405162461bcd60e51b815260040161047290612ea0565b600054610100900460ff16158015611555576000805460ff1961ff0019909116610100171660011790555b603380546001600160a01b0319166001600160a01b0384811691909117918290556040519116906000907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a380156115b6576000805461ff00191690555b5050565b60608383836040516020016115d193929190612f65565b60405160208183030381529060405290509392505050565b600081815260686020526040902080546001600160a01b031633146116205760405162461bcd60e51b815260040161047290612de0565b6002810154610100900460ff161561164a5760405162461bcd60e51b815260040161047290612e20565b600281015460ff161561166f5760405162461bcd60e51b815260040161047290612e70565b60028101805461ff001916610100179055805460405183916001600160a01b0316907f2b117599f21d800ddd10552521c610b44ab51d64ac07ae5cb3ee28bbb19946e590600090a35050565b60006116c5610aaf565b6116e15760405162461bcd60e51b815260040161047290612e80565b6116ea84611a8d565b6117065760405162461bcd60e51b815260040161047290612e50565b61170e611d21565b600085815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f81018690048602830186019096528582529194929385810193919291908301828280156117c65780601f1061179b576101008083540402835291602001916117c6565b820191906000526020600020905b8154815290600101906020018083116117a957829003601f168201915b50505091835250506002919091015460ff808216151560208401526101008204811615156040840152620100009091041615156060909101526080810151909150156118245760405162461bcd60e51b815260040161047290612e00565b61182d85611bab565b6067548151606654602084015160405163a2d4603960e01b81526000946001600160a01b03169363a2d460399361186c9391928a928c91600401612d29565b602060405180830381600087803b15801561188657600080fd5b505af115801561189a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506118be9190810190612173565b60008781526069602052604080822083905584519051929350839289926001600160a01b03909216917f3e5ec6d038fea8aae03ddd86c2882c546a05ea282e753cf085c8213a61a7913091a495945050505050565b60665481565b6067546001600160a01b031690565b611930610aaf565b61194c5760405162461bcd60e51b815260040161047290612e80565b61195581611c78565b50565b303b1590565b3390565b600083815b8351811015611a0357611978611d50565b84828151811061198457fe5b602002602001015190508060000151156119ca576020808201516040516119ad92869101612c9b565b6040516020818303038152906040528051906020012092506119fa565b8281602001516040516020016119e1929190612c9b565b6040516020818303038152906040528051906020012092505b50600101611967565b509092149392505050565b6000838152607160205260409020548214611a3b5760405162461bcd60e51b815260040161047290612e40565b6000838152607160205260409081902082905551839033907f20c9608d29cbc79a883dcda48c0f0a9f1babeccea0680f65ef20ce17b06dad1590611a80908590612d73565b60405180910390a3505050565b6000611a97611d21565b600083815260686020908152604091829020825160a08101845281546001600160a01b03168152600180830180548651600261010094831615949094026000190190911692909204601f8101869004860283018601909652858252919492938581019391929190830182828015611b4f5780601f10611b2457610100808354040283529160200191611b4f565b820191906000526020600020905b815481529060010190602001808311611b3257829003601f168201915b50505091835250506002919091015460ff8082161515602084015261010082048116151560408085019190915262010000909204161515606090920191909152810151909150158015611ba457508060600151155b9392505050565b6000818152606860205260409020600281015460ff1615611bde5760405162461bcd60e51b815260040161047290612eb0565b600201805460ff1916600117905550565b60008060015b606a548111611c2b576000818152606d6020526040902060010154841415611c2357506001915061056a9050565b600101611bf5565b5092915050565b600080868686604051602001611c4a93929190612c6f565b604051602081830303815290604052805190602001209050611c6d818585611962565b979650505050505050565b6001600160a01b038116611c9e5760405162461bcd60e51b815260040161047290612dc0565b6033546040516001600160a01b038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3603380546001600160a01b0319166001600160a01b0392909216919091179055565b60408051608081018252600080825260208201819052918101829052606081019190915290565b6040805160a0810182526000808252606060208301819052928201819052918101829052608081019190915290565b604080518082019091526000808252602082015290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611da857805160ff1916838001178555611dd5565b82800160010185558215611dd5579182015b82811115611dd5578251825591602001919060010190611dba565b50611de1929150611de5565b5090565b6107b691905b80821115611de15760008155600101611deb565b8035610fe381613079565b60008083601f840112611e1c57600080fd5b50813567ffffffffffffffff811115611e3457600080fd5b602083019150836040820283011115611e4c57600080fd5b9250929050565b8035610fe38161308d565b8035610fe381613096565b60008083601f840112611e7b57600080fd5b50813567ffffffffffffffff811115611e9357600080fd5b602083019150836001820283011115611e4c57600080fd5b600082601f830112611ebc57600080fd5b8135611ecf611eca82612fb9565b612f92565b91508082526020830160208301858383011115611eeb57600080fd5b611ef6838284613020565b50505092915050565b600082601f830112611f1057600080fd5b8151611f1e611eca82612fb9565b91508082526020830160208301858383011115611f3a57600080fd5b611ef683828461302c565b600060408284031215611f5757600080fd5b611f616040612f92565b90506000611f6f8484611e53565b8252506020611f8084848301611e5e565b60208301525092915050565b8051610fe381613096565b600060208284031215611fa957600080fd5b600061090e8484611dff565b600080600060608486031215611fca57600080fd5b6000611fd68686611dff565b9350506020611fe786828701611e5e565b925050604084013567ffffffffffffffff81111561200457600080fd5b61201086828701611eab565b9150509250925092565b60008060006040848603121561202f57600080fd5b833567ffffffffffffffff81111561204657600080fd5b61205286828701611e69565b9350935050602061201086828701611e53565b60006020828403121561207757600080fd5b813567ffffffffffffffff81111561208e57600080fd5b61090e84828501611eab565b6000806000606084860312156120af57600080fd5b833567ffffffffffffffff8111156120c657600080fd5b6120d286828701611eab565b93505060206120e386828701611dff565b925050604061201086828701611e53565b60008060006060848603121561210957600080fd5b60006121158686611e5e565b935050602061212686828701611dff565b925050604061201086828701611dff565b60006040828403121561214957600080fd5b600061090e8484611f45565b60006020828403121561216757600080fd5b600061090e8484611e5e565b60006020828403121561218557600080fd5b600061090e8484611f8c565b6000806000806000608086880312156121a957600080fd5b60006121b58888611e5e565b955050602086013567ffffffffffffffff8111156121d257600080fd5b6121de88828901611e0a565b945094505060406121f188828901611e5e565b925050606061220288828901611e5e565b9150509295509295909350565b6000806040838503121561222257600080fd5b600061222e8585611e5e565b925050602061223f85828601611e5e565b9150509250929050565b60008060006060848603121561225e57600080fd5b6000611fd68686611e5e565b6000806000806000806080878903121561228357600080fd5b600061228f8989611e5e565b96505060206122a089828a01611e5e565b955050604087013567ffffffffffffffff8111156122bd57600080fd5b6122c989828a01611e69565b9450945050606087013567ffffffffffffffff8111156122e857600080fd5b6122f489828a01611e0a565b92509250509295509295509295565b60008060006060848603121561231857600080fd5b60006123248686611f8c565b935050602061233586828701611f8c565b925050604084015167ffffffffffffffff81111561235257600080fd5b61201086828701611eff565b61236781612fee565b82525050565b61236761237982612fee565b613058565b61236781612ff9565b612367816107b6565b61236761239c826107b6565b6107b6565b60006123ac82612fe1565b6123b68185612fe5565b93506123c681856020860161302c565b6123cf81613069565b9093019392505050565b6123678161300a565b61236781613015565b60006123f7838561056a565b9350612404838584613020565b50500190565b600061241582612fe1565b61241f818561056a565b935061242f81856020860161302c565b9290920192915050565b6000612446602b83612fe5565b7f6d696772617465546f5075626c696328293a205265717565737420616c72656181526a191e48185c1c1c9bdd995960aa1b602082015260400192915050565b6000612493602f83612fe5565b7f6d696772617465546f5075626c696328293a206365727469666963617465206181526e1b1c9958591e481b5a59dc985d1959608a1b602082015260400192915050565b60006124e4602683612fe5565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206181526564647265737360d01b602082015260400192915050565b600061252c602b83612fe5565b7f617070726f7665507269766174655472616e7366657228293a2057726f6e672081526a6d65726b6c65207472656560a81b602082015260400192915050565b6000612579604183612fe5565b7f7265766f6b655265717565737428293a204f6e6c79207468652072657175657381527f742063726561746f722063616e207265766f6b652074686520726571756573746020820152601760f91b604082015260600192915050565b60006125e2603783612fe5565b7f696e697469616c697a653a2043616e6e6f74207573652061646472657373203081527f783020617320726567697374727920616464726573732e000000000000000000602082015260400192915050565b6000612641604883612fe5565b7f43657274696669636174696f6e5265717565737428293a20706c65617365207581527f736520636f6d6d69746d656e747320666f7220707269766174652063657274696020820152673334b1b0ba34b7b760c11b604082015260600192915050565b60006126b1601d83612fe5565b7f526571756573746564206861736820646f6573206e6f74206d61746368000000815260200192915050565b60006126ea602083612fe5565b7f7265766f6b655265717565737428293a20416c7265616479207265766f6b6564815260200192915050565b6000612723604883612fe5565b7f617070726f7665507269766174655472616e7366657228293a2043616e27742081527f617070726f76652061206e6f6e2d6578697374696e67207072697661746520746020820152673930b739b332b91760c11b604082015260600192915050565b6000612793602d83612fe5565b7f757064617465436f6d6d69746d656e743a2070726576696f757320636f6d6d6981526c1d1b595b9d081a5b9d985b1a59609a1b602082015260400192915050565b60006127e2604283612fe5565b7f617070726f766543657274696669636174696f6e5265717565737428293a207281527f65717565737420616c726561647920617070726f766564206f72207265766f6b602082015261195960f21b604082015260600192915050565b600061284c603c83612fe5565b7f617070726f76653a2063616e277420617070726f7665207075626c696320636581527f72746966696361746573207573696e6720636f6d6d69746d656e747300000000602082015260400192915050565b60006128ab603383612fe5565b7f7265766f6b655265717565737428293a20596f752063616e2774207265766f6b8152726520617070726f76656420726571756573747360681b602082015260400192915050565b6000612900602083612fe5565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572815260200192915050565b6000612939602483612fe5565b7f7265766f6b65436572746966696361746528293a20416c7265616479207265768152631bdad95960e21b602082015260400192915050565b600061297f602e83612fe5565b7f436f6e747261637420696e7374616e63652068617320616c726561647920626581526d195b881a5b9a5d1a585b1a5e995960921b602082015260400192915050565b60006129cf600e83612fe5565b6d105b1c9958591e481a5cdcdd595960921b815260200192915050565b60006129f9603583612fe5565b7f4f6e6c79206f6e652070726976617465207472616e736665722063616e206265815274103932b8bab2b9ba32b21030ba1030903a34b6b29760591b602082015260400192915050565b6000612a50600d83612fe5565b6c24b73b30b634b210383937b7b360991b815260200192915050565b6000612a79602483612fe5565b7f756e61626c6520746f2066696e6420746865206d6967726174696f6e207265718152631d595cdd60e21b602082015260400192915050565b6000612abf603083612fe5565b7f696e697469616c697a653a2043616e6e6f74207573652061646472657373203081526f3c181030b9903a34329037bbb732b91760811b602082015260400192915050565b6000612b11603583612fe5565b7f6d6967726174696f6e207265717565737420666f72207468697320636572746981527466696361746520616c72656164792065786973747360581b602082015260400192915050565b805160009060a0840190612b6f858261235e565b5060208301518482036020860152612b8782826123a1565b9150506040830151612b9c604086018261237e565b506060830151612baf606086018261237e565b506080830151612bc2608086018261237e565b509392505050565b80516040830190612bdb848261235e565b506020820151610a9a6020850182612387565b80516080830190612bff848261235e565b506020820151612c126020850182612387565b506040820151612c256040850182612387565b506060820151610a9a606085018261237e565b6000612c44828761236d565b601482019150612c548286612390565b602082019150612c658284866123eb565b9695505050505050565b6000612c7b828661236d565b601482019150612c8b8285612390565b60208201915061066c828461240a565b6000612ca78285612390565b602082019150612cb78284612390565b5060200192915050565b6000611ba4828461240a565b60208101610fe3828461235e565b60a08101612ce9828861235e565b8181036020830152612cfb81876123a1565b9050612d0a6040830186612387565b612d1760608301856123e2565b8181036080830152611c6d81846123a1565b60a08101612d37828861235e565b8181036020830152612d4981876123a1565b9050612d586040830186612387565b612d176060830185612387565b60208101610fe3828461237e565b60208101610fe38284612387565b60208082528101611ba481846123a1565b60208101610fe382846123d9565b60208082528101610fe381612439565b60208082528101610fe381612486565b60208082528101610fe3816124d7565b60208082528101610fe38161251f565b60208082528101610fe38161256c565b60208082528101610fe3816125d5565b60208082528101610fe381612634565b60208082528101610fe3816126a4565b60208082528101610fe3816126dd565b60208082528101610fe381612716565b60208082528101610fe381612786565b60208082528101610fe3816127d5565b60208082528101610fe38161283f565b60208082528101610fe38161289e565b60208082528101610fe3816128f3565b60208082528101610fe38161292c565b60208082528101610fe381612972565b60208082528101610fe3816129c2565b60208082528101610fe3816129ec565b60208082528101610fe381612a43565b60208082528101610fe381612a6c565b60208082528101610fe381612ab2565b60208082528101610fe381612b04565b60208082528101611ba48184612b5b565b60408101610fe38284612bca565b60808101610fe38284612bee565b60608101612f4b8286612387565b612f58602083018561235e565b61090e6040830184612387565b60608101612f738286612387565b612f806020830185612387565b818103604083015261066c81846123a1565b60405181810167ffffffffffffffff81118282101715612fb157600080fd5b604052919050565b600067ffffffffffffffff821115612fd057600080fd5b506020601f91909101601f19160190565b5190565b90815260200190565b6000610fe382612ffe565b151590565b6001600160a01b031690565b6000610fe382612fee565b6000610fe3826107b6565b82818337506000910152565b60005b8381101561304757818101518382015260200161302f565b83811115610a9a5750506000910152565b6000610fe3826000610fe382613073565b601f01601f191690565b60601b90565b61308281612fee565b811461195557600080fd5b61308281612ff9565b613082816107b656fea365627a7a723158203d0010e2a742523bb98cf322c9fedfb0d76f7fb0ff76cf0859269a54d9cdb7f36c6578706572696d656e74616cf564736f6c63430005100040"},1696:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ethers_1=__webpack_require__(236);class RegistryFactory extends ethers_1.ContractFactory{constructor(signer){super(_abi,_bytecode,signer)}deploy(overrides){return super.deploy(overrides)}getDeployTransaction(overrides){return super.getDeployTransaction(overrides)}attach(address){return super.attach(address)}connect(signer){return super.connect(signer)}static connect(address,signerOrProvider){return new ethers_1.Contract(address,_abi,signerOrProvider)}}exports.RegistryFactory=RegistryFactory;const _abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_claimIssuer",type:"address"},{indexed:!0,internalType:"address",name:"_claimSubject",type:"address"},{indexed:!0,internalType:"int256[]",name:"_topics",type:"int256[]"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"},{indexed:!1,internalType:"bytes32[]",name:"_claimData",type:"bytes32[]"}],name:"ClaimBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_claimIssuer",type:"address"},{indexed:!0,internalType:"address",name:"_claimSubject",type:"address"},{indexed:!0,internalType:"int256",name:"_topic",type:"int256"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"_claimData",type:"bytes32"}],name:"ClaimSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_issuer",type:"address"},{indexed:!0,internalType:"int256",name:"_topic",type:"int256"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"}],name:"IssuanceSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"_value",type:"string"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"URI",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"certificateStorage",outputs:[{internalType:"int256",name:"topic",type:"int256"},{internalType:"address",name:"issuer",type:"address"},{internalType:"bytes",name:"validityData",type:"bytes"},{internalType:"bytes",name:"data",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"claimedBalances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_initialSupply",type:"uint256"},{internalType:"string",name:"_uri",type:"string"},{internalType:"address",name:"creator",type:"address"}],name:"create",outputs:[{internalType:"uint256",name:"_id",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"creators",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_uri",type:"string"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"setURI",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"_interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"bytes",name:"_validityData",type:"bytes"},{internalType:"int256",name:"_topic",type:"int256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"issue",outputs:[{internalType:"uint256",name:"_id",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_claimData",type:"bytes32"}],name:"safeTransferAndClaimFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32[]",name:"_claimData",type:"bytes32[]"}],name:"safeBatchTransferAndClaimFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"getCertificate",outputs:[{internalType:"address",name:"issuer",type:"address"},{internalType:"int256",name:"topic",type:"int256"},{internalType:"bytes",name:"validityData",type:"bytes"},{internalType:"bytes",name:"data",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"claimedBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"allCertificateIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"}],_bytecode="0x608060405234801561001057600080fd5b50612f75806100206000396000f3fe608060405234801561001057600080fd5b50600436106101415760003560e01c80638129fc1c116100b8578063c48238b01161007c578063c48238b01461028c578063cd53d08e1461029f578063cfc3b965146102bf578063d6878ffb146102d2578063e985e9c5146102f5578063f242432a1461030857610141565b80638129fc1c14610243578063836a10401461024b578063a22cb4651461025e578063a2d4603914610271578063affed0e01461028457610141565b8063318a44a71161010a578063318a44a7146101bf57806339f66ec5146101d25780633ebbaaa5146101e75780634e1273f4146101fa57806351640fee1461020d57806367db3b8f1461023057610141565b8062fdd58e1461014657806301ffc9a71461016f5780630d058fe31461018f57806318160ddd146101a25780632eb2c2d6146101aa575b600080fd5b610159610154366004612208565b61031b565b6040516101669190612d88565b60405180910390f35b61018261017d3660046122c4565b610345565b6040516101669190612c5c565b61015961019d3660046123f2565b610379565b61015961044a565b6101bd6101b8366004611f77565b610451565b005b6101bd6101cd366004611e81565b61065b565b6101da610a1b565b6040516101669190612c26565b6101596101f5366004612208565b610a73565b6101da610208366004612238565b610a9a565b61022061021b366004612354565b610b74565b6040516101669493929190612b93565b6101bd61023e366004612300565b610d26565b6101bd610d8b565b6101bd6102593660046123af565b610e1e565b6101bd61026c36600461212c565b610f13565b61015961027f36600461215c565b610f82565b610159611216565b61015961029a366004612390565b61121c565b6102b26102ad366004612354565b611239565b6040516101669190612ade565b6101bd6102cd366004612031565b611254565b6102e56102e0366004612354565b61148f565b6040516101669493929190612c6a565b610182610303366004611e47565b6115d5565b6101bd6103163660046120d5565b611603565b60008181526066602090815260408083206001600160a01b03861684529091529020545b92915050565b60006001600160e01b031982166303a24d0760e21b141561036857506001610374565b610371826117be565b90505b919050565b6069805460010190819055600081815260686020908152604080832080546001600160a01b0319166001600160a01b038716908117909155606683528184208185529092528083208890555190919082907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62906103f99086908b90612dc4565b60405180910390a4821561044257807f6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b8585604051610439929190612c85565b60405180910390a25b949350505050565b606c545b90565b6001600160a01b0384166104805760405162461bcd60e51b815260040161047790612ce8565b60405180910390fd5b81518351146104a15760405162461bcd60e51b815260040161047790612d58565b6001600160a01b0385163314806104e057506001600160a01b038516600090815260676020908152604080832033845290915290205460ff1615156001145b6104fc5760405162461bcd60e51b815260040161047790612d08565b60005b83518110156105d757600084828151811061051657fe5b60200260200101519050600084838151811061052e57fe5b60209081029190910181015160008481526066835260408082206001600160a01b038d168352909352919091205490915061056f908263ffffffff61180416565b60008381526066602090815260408083206001600160a01b038d811685529252808320939093558916815220546105a790829061184d565b60009283526066602090815260408085206001600160a01b038b16865290915290922091909155506001016104ff565b50836001600160a01b0316856001600160a01b0316336001600160a01b03167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8686604051610627929190612c37565b60405180910390a4610641846001600160a01b0316611872565b1561065457610654338686868686611878565b5050505050565b86806106795760405162461bcd60e51b815260040161047790612cf8565b858114801561068757508181145b6106a35760405162461bcd60e51b815260040161047790612d48565b6060816040519080825280602002602001820160405280156106cf578160200160208202803883390190505b50905060005b82811015610891576106e5611bbc565b606a60008d8d858181106106f557fe5b602090810292909201358352508181019290925260409081016000208151608081018352815481526001808301546001600160a01b0316828601526002808401805486516101009482161594909402600019011691909104601f8101879004870283018701865280835292959394860193919290918301828280156107bb5780601f10610790576101008083540402835291602001916107bb565b820191906000526020600020905b81548152906001019060200180831161079e57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815293820193929183018282801561084f5780601f106108245761010080835404028352916020019161084f565b820191906000526020600020905b81548152906001019060200180831161083257829003601f168201915b505050505081525050905061086c8160200151826040015161192f565b806000015183838151811061087d57fe5b6020908102919091010152506001016106d5565b508a6001600160a01b03168c6001600160a01b03161461095f5761095f8c8c8c8c80806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050508b8b8080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525050604080516020601f8f018190048102820181019092528d815292508d91508c908190840183828082843760009201919091525061045192505050565b60005b828110156109a1576109998c8c8c8481811061097a57fe5b905060200201358b8b8581811061098d57fe5b905060200201356119e3565b600101610962565b50806040516109b09190612ac6565b60405180910390208b6001600160a01b03168d6001600160a01b03167fd9ca618baa06a7b97325d6c8deb9c86eef489430de512706230a53c431226ab58d8d8d8d8b8b604051610a0596959493929190612bde565b60405180910390a4505050505050505050505050565b6060606c805480602002602001604051908101604052809291908181526020018280548015610a6957602002820191906000526020600020905b815481526020019060010190808311610a55575b5050505050905090565b6000908152606b602090815260408083206001600160a01b03949094168352929052205490565b6060838214610aa857600080fd5b604080518581526020808702820101909152606090858015610ad4578160200160208202803883390190505b50905060005b85811015610b6a5760666000868684818110610af257fe5b9050602002013581526020019081526020016000206000888884818110610b1557fe5b9050602002016020610b2a9190810190611e29565b6001600160a01b03166001600160a01b0316815260200190815260200160002054828281518110610b5757fe5b6020908102919091010152600101610ada565b5095945050505050565b600080606080610b8261044a565b851115610ba15760405162461bcd60e51b815260040161047790612d28565b610ba9611bbc565b6000868152606a60209081526040918290208251608081018452815481526001808301546001600160a01b0316828501526002808401805487516101009482161594909402600019011691909104601f81018690048602830186018752808352929593949386019391929091830182828015610c665780601f10610c3b57610100808354040283529160200191610c66565b820191906000526020600020905b815481529060010190602001808311610c4957829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152938201939291830182828015610cfa5780601f10610ccf57610100808354040283529160200191610cfa565b820191906000526020600020905b815481529060010190602001808311610cdd57829003601f168201915b505050919092525050506020810151815160408301516060909301519199909850919650945092505050565b60008181526068602052604090205481906001600160a01b03163314610d4b57600080fd5b817f6bb7ff708619ba0610cba295a58592e0451dee2622938c8755667688daf3529b8585604051610d7d929190612c85565b60405180910390a250505050565b600054610100900460ff1680610da45750610da4611a8c565b80610db2575060005460ff16155b610dce5760405162461bcd60e51b815260040161047790612d38565b600054610100900460ff16158015610df9576000805460ff1961ff0019909116610100171660011790555b610e096301ffc9a760e01b611a92565b8015610e1b576000805461ff00191690555b50565b60008381526068602052604090205483906001600160a01b03163314610e4357600080fd5b60008481526066602090815260408083206001600160a01b0387168452909152902054610e7790839063ffffffff61184d16565b60008581526066602090815260408083206001600160a01b038816808552925280832093909355915133907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f6290610ed19089908890612dc4565b60405180910390a4610eeb836001600160a01b0316611872565b15610f0d57610f0d333385878660405180602001604052806000815250611ae1565b50505050565b3360008181526067602090815260408083206001600160a01b038716808552925291829020805460ff191685151517905590519091907f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3190610f76908590612c5c565b60405180910390a35050565b6000610fc43388888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061192f92505050565b604051630d058fe360e01b81523090630d058fe390610fe99087903390600401612d96565b602060405180830381600087803b15801561100357600080fd5b505af1158015611017573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061103b9190810190612372565b90508315611086576110863389838787878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061160392505050565b6040518060800160405280868152602001336001600160a01b0316815260200188888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8701819004810282018101909252858152918101919086908690819084018382808284376000920182905250939094525050838152606a602090815260409182902084518155848201516001820180546001600160a01b0319166001600160a01b0390921691909117905591840151805192935061116e9260028501929190910190611bed565b506060820151805161118a916003840191602090910190611bed565b5050606c80546000848152606d60205260408082208390556001830184559290527f2b4a51ab505fc96a0952efda2ba61bcd3078d4c02c39a186ec16f21883fbe016018390555186915033907f4cc4834ec6b1f97a580ef30c8c22f4a2d497d83ff422e61f461f4e2dc06c94a090611203908590612d88565b60405180910390a3979650505050505050565b60695481565b606b60209081526000928352604080842090915290825290205481565b6068602052600090815260409020546001600160a01b031681565b61125c611bbc565b6000868152606a60209081526040918290208251608081018452815481526001808301546001600160a01b0316828501526002808401805487516101009482161594909402600019011691909104601f810186900486028301860187528083529295939493860193919290918301828280156113195780601f106112ee57610100808354040283529160200191611319565b820191906000526020600020905b8154815290600101906020018083116112fc57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156113ad5780601f10611382576101008083540402835291602001916113ad565b820191906000526020600020905b81548152906001019060200180831161139057829003601f168201915b50505050508152505090506113ca8160200151826040015161192f565b866001600160a01b0316886001600160a01b031614611426576114268888888888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061160392505050565b6114318787876119e3565b8060000151876001600160a01b0316896001600160a01b03167fbdb82d389d6715e98ded030a7baaa18603340d0edcabc59c036ee23d33e630b189898760405161147d93929190612ddf565b60405180910390a45050505050505050565b606a6020908152600091825260409182902080546001808301546002808501805488516101009582161595909502600019011691909104601f810187900487028401870190975286835292956001600160a01b039091169491929183018282801561153b5780601f106115105761010080835404028352916020019161153b565b820191906000526020600020905b81548152906001019060200180831161151e57829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156115cb5780601f106115a0576101008083540402835291602001916115cb565b820191906000526020600020905b8154815290600101906020018083116115ae57829003601f168201915b5050505050905084565b6001600160a01b03918216600090815260676020908152604080832093909416825291909152205460ff1690565b6001600160a01b0384166116295760405162461bcd60e51b815260040161047790612d68565b6001600160a01b03851633148061166857506001600160a01b038516600090815260676020908152604080832033845290915290205460ff1615156001145b6116845760405162461bcd60e51b815260040161047790612d08565b60008381526066602090815260408083206001600160a01b03891684529091529020546116c35760405162461bcd60e51b815260040161047790612cd8565b60008381526066602090815260408083206001600160a01b03891684529091529020546116f6908363ffffffff61180416565b60008481526066602090815260408083206001600160a01b038a8116855292528083209390935586168152205461172e90839061184d565b60008481526066602090815260408083206001600160a01b03808a168086529190935292819020939093559151909187169033907fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f62906117919088908890612dc4565b60405180910390a46117ab846001600160a01b0316611872565b1561065457610654338686868686611ae1565b60006001600160e01b031982166301ffc9a760e01b14806117ef57506001600160e01b03198216636cdb3d1360e11b145b156117fc57506001610374565b506000919050565b600061184683836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611b90565b9392505050565b6000828201838110156118465760405162461bcd60e51b815260040161047790612cb8565b3b151590565b60405163bc197c8160e01b808252906001600160a01b0386169063bc197c81906118ae908a908a90899089908990600401612aec565b602060405180830381600087803b1580156118c857600080fd5b505af11580156118dc573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061190091908101906122e2565b6001600160e01b031916146119275760405162461bcd60e51b815260040161047790612d18565b505050505050565b611941826001600160a01b0316611872565b156119df5760006060836001600160a01b0316836040516119629190612ad2565b600060405180830381855afa9150503d806000811461199d576040519150601f19603f3d011682016040523d82523d6000602084013e6119a2565b606091505b50915091508180156119c35750808060200190516119c391908101906122a6565b610f0d5760405162461bcd60e51b815260040161047790612cc8565b5050565b60008281526066602090815260408083206001600160a01b0387168452909152902054611a16908263ffffffff61180416565b60008381526066602090815260408083206001600160a01b03881680855290835281842094909455858352606b82528083209383529290522054611a60908263ffffffff61184d16565b6000928352606b602090815260408085206001600160a01b039096168552949052929091209190915550565b303b1590565b6001600160e01b03198082161415611abc5760405162461bcd60e51b815260040161047790612ca8565b6001600160e01b0319166000908152603360205260409020805460ff19166001179055565b60405163f23a6e6160e01b808252906001600160a01b0386169063f23a6e6190611b17908a908a90899089908990600401612b4c565b602060405180830381600087803b158015611b3157600080fd5b505af1158015611b45573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611b6991908101906122e2565b6001600160e01b031916146119275760405162461bcd60e51b815260040161047790612d78565b60008184841115611bb45760405162461bcd60e51b81526004016104779190612c97565b505050900390565b60405180608001604052806000815260200160006001600160a01b0316815260200160608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611c2e57805160ff1916838001178555611c5b565b82800160010185558215611c5b579182015b82811115611c5b578251825591602001919060010190611c40565b50611c67929150611c6b565b5090565b61044e91905b80821115611c675760008155600101611c71565b803561033f81612f03565b60008083601f840112611ca257600080fd5b5081356001600160401b03811115611cb957600080fd5b602083019150836020820283011115611cd157600080fd5b9250929050565b600082601f830112611ce957600080fd5b8135611cfc611cf782612e2d565b612e07565b91508181835260208401935060208101905083856020840282011115611d2157600080fd5b60005b83811015611d4d5781611d378882611d6d565b8452506020928301929190910190600101611d24565b5050505092915050565b803561033f81612f17565b805161033f81612f17565b803561033f81612f20565b803561033f81612f29565b805161033f81612f29565b60008083601f840112611da057600080fd5b5081356001600160401b03811115611db757600080fd5b602083019150836001820283011115611cd157600080fd5b600082601f830112611de057600080fd5b8135611dee611cf782612e4d565b91508082526020830160208301858383011115611e0a57600080fd5b611e15838284612ec1565b50505092915050565b805161033f81612f20565b600060208284031215611e3b57600080fd5b60006104428484611c85565b60008060408385031215611e5a57600080fd5b6000611e668585611c85565b9250506020611e7785828601611c85565b9150509250929050565b60008060008060008060008060008060c08b8d031215611ea057600080fd5b6000611eac8d8d611c85565b9a50506020611ebd8d828e01611c85565b99505060408b01356001600160401b03811115611ed957600080fd5b611ee58d828e01611c90565b985098505060608b01356001600160401b03811115611f0357600080fd5b611f0f8d828e01611c90565b965096505060808b01356001600160401b03811115611f2d57600080fd5b611f398d828e01611d8e565b945094505060a08b01356001600160401b03811115611f5757600080fd5b611f638d828e01611c90565b92509250509295989b9194979a5092959850565b600080600080600060a08688031215611f8f57600080fd5b6000611f9b8888611c85565b9550506020611fac88828901611c85565b94505060408601356001600160401b03811115611fc857600080fd5b611fd488828901611cd8565b93505060608601356001600160401b03811115611ff057600080fd5b611ffc88828901611cd8565b92505060808601356001600160401b0381111561201857600080fd5b61202488828901611dcf565b9150509295509295909350565b600080600080600080600060c0888a03121561204c57600080fd5b60006120588a8a611c85565b97505060206120698a828b01611c85565b965050604061207a8a828b01611d6d565b955050606061208b8a828b01611d6d565b94505060808801356001600160401b038111156120a757600080fd5b6120b38a828b01611d8e565b935093505060a06120c68a828b01611d6d565b91505092959891949750929550565b600080600080600060a086880312156120ed57600080fd5b60006120f98888611c85565b955050602061210a88828901611c85565b945050604061211b88828901611d6d565b9350506060611ffc88828901611d6d565b6000806040838503121561213f57600080fd5b600061214b8585611c85565b9250506020611e7785828601611d57565b600080600080600080600060a0888a03121561217757600080fd5b60006121838a8a611c85565b97505060208801356001600160401b0381111561219f57600080fd5b6121ab8a828b01611d8e565b965096505060406121be8a828b01611d6d565b94505060606121cf8a828b01611d6d565b93505060808801356001600160401b038111156121eb57600080fd5b6121f78a828b01611d8e565b925092505092959891949750929550565b6000806040838503121561221b57600080fd5b60006122278585611c85565b9250506020611e7785828601611d6d565b6000806000806040858703121561224e57600080fd5b84356001600160401b0381111561226457600080fd5b61227087828801611c90565b945094505060208501356001600160401b0381111561228e57600080fd5b61229a87828801611c90565b95989497509550505050565b6000602082840312156122b857600080fd5b60006104428484611d62565b6000602082840312156122d657600080fd5b60006104428484611d78565b6000602082840312156122f457600080fd5b60006104428484611d83565b60008060006040848603121561231557600080fd5b83356001600160401b0381111561232b57600080fd5b61233786828701611d8e565b9350935050602061234a86828701611d6d565b9150509250925092565b60006020828403121561236657600080fd5b60006104428484611d6d565b60006020828403121561238457600080fd5b60006104428484611e1e565b600080604083850312156123a357600080fd5b6000611e668585611d6d565b6000806000606084860312156123c457600080fd5b60006123d08686611d6d565b93505060206123e186828701611c85565b925050604061234a86828701611d6d565b6000806000806060858703121561240857600080fd5b60006124148787611d6d565b94505060208501356001600160401b0381111561243057600080fd5b61243c87828801611d8e565b9350935050604061244f87828801611c85565b91505092959194509250565b60006124678383612570565b505060200190565b61247881612eb0565b82525050565b61247881612e87565b60006124938385612e7e565b93506001600160fb1b038311156124a957600080fd5b6020830292506124ba838584612ec1565b50500190565b60006124cb82612e7a565b6124d58185610374565b93506124e083612e74565b8060005b8381101561250e5781516124f8888261245b565b975061250383612e74565b9250506001016124e4565b509495945050505050565b600061252482612e7a565b61252e8185612e7e565b935061253983612e74565b8060005b8381101561250e578151612551888261245b565b975061255c83612e74565b92505060010161253d565b61247881612e92565b6124788161044e565b600061258482612e7a565b61258e8185612e7e565b935061259e818560208601612ecd565b6125a781612ef9565b9093019392505050565b60006125bc82612e7a565b6125c68185610374565b93506125d6818560208601612ecd565b9290920192915050565b60006125ec8385612e7e565b93506125f9838584612ec1565b6125a783612ef9565b600061260f601c83612e7e565b7f4552433136353a20696e76616c696420696e7465726661636520696400000000815260200192915050565b6000612648601b83612e7e565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000815260200192915050565b6000612681600b83612e7e565b6a436572746966696361746560a81b815260200192915050565b60006126a8604883612e7e565b7f5f76616c696461746528293a20526571756573742f636572746966696361746581527f20696e76616c69642c20706c6561736520636865636b207769746820796f75726020820152671034b9b9bab2b91760c11b604082015260600192915050565b6000612718603783612e7e565b7f736166655472616e7366657246726f6d3a205f66726f6d2062616c616e63652081527f68617320746f20626520686967686572207468616e2030000000000000000000602082015260400192915050565b6000612777602583612e7e565b7f64657374696e6174696f6e2061646472657373206d757374206265206e6f6e2d8152643d32b9379760d91b602082015260400192915050565b60006127be604a83612e7e565b7f7361666542617463685472616e73666572416e64436c61696d46726f6d3a206181527f74206c65617374206f6e652063657274696669636174652068617320746f20626020820152693290383932b9b2b73a1760b11b604082015260600192915050565b6000612830602f83612e7e565b7f4e656564206f70657261746f7220617070726f76616c20666f7220337264207081526e30b93a3c903a3930b739b332b9399760891b602082015260400192915050565b6000612881603e83612e7e565b7f636f6e74726163742072657475726e656420616e20756e6b6e6f776e2076616c81527f75652066726f6d206f6e45524331313535426174636852656365697665640000602082015260400192915050565b60006128e0602183612e7e565b7f67657443657274696669636174653a205f6964206f7574206f6620626f756e648152607360f81b602082015260400192915050565b6000612923602e83612e7e565b7f436f6e747261637420696e7374616e63652068617320616c726561647920626581526d195b881a5b9a5d1a585b1a5e995960921b602082015260400192915050565b6000612973604583612e7e565b7f7361666542617463685472616e73666572416e64436c61696d46726f6d3a206e81527f6f7420616c6c2061727261797320617265206f66207468652073616d65206c656020820152643733ba341760d91b604082015260600192915050565b60006129e0602983612e7e565b7f5f69647320616e64205f76616c756573206172726179206c656e676874206d7581526839ba1036b0ba31b41760b91b602082015260400192915050565b6000612a2b602783612e7e565b7f736166655472616e7366657246726f6d3a205f746f206d757374206265206e6f8152663716bd32b9379760c91b602082015260400192915050565b6000612a74603983612e7e565b7f636f6e74726163742072657475726e656420616e20756e6b6e6f776e2076616c81527f75652066726f6d206f6e45524331313535526563656976656400000000000000602082015260400192915050565b600061184682846124c0565b600061184682846125b1565b6020810161033f828461247e565b60a08101612afa828861247e565b612b07602083018761247e565b8181036040830152612b198186612519565b90508181036060830152612b2d8185612519565b90508181036080830152612b418184612579565b979650505050505050565b60a08101612b5a828861247e565b612b67602083018761247e565b612b746040830186612570565b612b816060830185612570565b8181036080830152612b418184612579565b60808101612ba1828761247e565b612bae6020830186612570565b8181036040830152612bc08185612579565b90508181036060830152612bd48184612579565b9695505050505050565b60608082528101612bf081888a612487565b90508181036020830152612c05818688612487565b90508181036040830152612c1a818486612487565b98975050505050505050565b602080825281016118468184612519565b60408082528101612c488185612519565b905081810360208301526104428184612519565b6020810161033f8284612567565b60808101612c788287612570565b612bae602083018661247e565b602080825281016104428184866125e0565b602080825281016118468184612579565b6020808252810161033f81612602565b6020808252810161033f8161263b565b6020808252810161033f8161269b565b6020808252810161033f8161270b565b6020808252810161033f8161276a565b6020808252810161033f816127b1565b6020808252810161033f81612823565b6020808252810161033f81612874565b6020808252810161033f816128d3565b6020808252810161033f81612916565b6020808252810161033f81612966565b6020808252810161033f816129d3565b6020808252810161033f81612a1e565b6020808252810161033f81612a67565b6020810161033f8284612570565b60608101612da48285612570565b8181036020830152612db581612674565b9050611846604083018461246f565b60408101612dd28285612570565b6118466020830184612570565b60608101612ded8286612570565b612dfa6020830185612570565b6104426040830184612570565b6040518181016001600160401b0381118282101715612e2557600080fd5b604052919050565b60006001600160401b03821115612e4357600080fd5b5060209081020190565b60006001600160401b03821115612e6357600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b600061033f82612ea4565b151590565b6001600160e01b03191690565b6001600160a01b031690565b600061033f82600061033f82612e87565b82818337506000910152565b60005b83811015612ee8578181015183820152602001612ed0565b83811115610f0d5750506000910152565b601f01601f191690565b612f0c81612e87565b8114610e1b57600080fd5b612f0c81612e92565b612f0c8161044e565b612f0c81612e9756fea365627a7a72315820d8f4755f30e65ad6247e598910ea832cdbc260462da7f54f7f4a0946173a0ee06c6578706572696d656e74616cf564736f6c63430005100040"},1697:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ethers_1=__webpack_require__(236),const_1=__webpack_require__(959),contracts_1=__webpack_require__(608);exports.migrateIssuer=async function migrateIssuer(web3ProviderUrl,deployKey,registryAddress){const privateKeyDeployment=deployKey.startsWith("0x")?deployKey:`0x${deployKey}`,provider=new ethers_1.ethers.providers.JsonRpcProvider(web3ProviderUrl),wallet=new ethers_1.ethers.Wallet(privateKeyDeployment,provider),issuerContract=await new contracts_1.factories.IssuerFactory(wallet).deploy();await issuerContract.deployed();const tx=await issuerContract.initialize(const_1.CertificateTopic.IREC,registryAddress,wallet.address);await tx.wait();const version=await issuerContract.version();return console.log(`Issuer ${version} created at ${issuerContract.address}`),issuerContract},exports.migrateRegistry=async function migrateRegistry(web3ProviderUrl,deployKey){const privateKeyDeployment=deployKey.startsWith("0x")?deployKey:`0x${deployKey}`,provider=new ethers_1.ethers.providers.JsonRpcProvider(web3ProviderUrl),wallet=new ethers_1.ethers.Wallet(privateKeyDeployment,provider),registryContract=await new contracts_1.factories.RegistryFactory(wallet).deploy();await registryContract.deployed();const tx=await registryContract.initialize();return await tx.wait(),console.log(`Registry created at ${registryContract.address}`),registryContract}},1698:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const Moment=__importStar(__webpack_require__(9)),moment_range_1=__webpack_require__(960),utils_1=__webpack_require__(79),origin_backend_core_1=__webpack_require__(29),PreciseProofEntity_1=__webpack_require__(958),contracts_1=__webpack_require__(608),events_1=__webpack_require__(607);class CertificationRequest extends PreciseProofEntity_1.PreciseProofEntity{constructor(id,configuration,isPrivate=!1){super(id,configuration),this.isPrivate=isPrivate,this.initialized=!1}static async create(fromTime,toTime,energy,deviceId,configuration,files,isVolumePrivate=!1,forAddress){if(energy.gt(origin_backend_core_1.MAX_ENERGY_PER_CERTIFICATE))throw new Error(`Too much energy requested. Requested: ${energy}, Max: ${origin_backend_core_1.MAX_ENERGY_PER_CERTIFICATE}`);const request=new CertificationRequest(null,configuration,isVolumePrivate),{issuer:issuer}=configuration.blockchainProperties,issuerWithSigner=issuer.connect(configuration.blockchainProperties.activeUser);await this.validateGenerationPeriod(fromTime,toTime,deviceId,configuration,isVolumePrivate);const data=await issuer.encodeData(fromTime,toTime,deviceId),tx=await(forAddress?issuerWithSigner.requestCertificationFor(data,forAddress,isVolumePrivate):issuerWithSigner.requestCertification(data,isVolumePrivate)),{events:events}=await tx.wait();if(request.id=Number(events.find(log=>"CertificationRequested"===log.event).topics[2]),!await configuration.offChainDataSource.certificateClient.updateCertificationRequestData(request.id,{energy:energy,files:files}))throw new Error("Unable to create CertificationRequest");return configuration.logger&&configuration.logger.info(`CertificationRequest ${request.id} created`),request.sync()}async sync(){const{issuer:issuer}=this.configuration.blockchainProperties,issueRequest=await issuer.getCertificationRequest(this.id),decodedData=await issuer.decodeData(issueRequest.data);this.owner=issueRequest.owner,this.fromTime=Number(decodedData[0]),this.toTime=Number(decodedData[1]),this.deviceId=decodedData[2],this.approved=issueRequest.approved,this.revoked=issueRequest.revoked;const certificationRequestedLogs=await events_1.getEventsFromContract(issuer,issuer.filters.CertificationRequested(null,this.id,null)),creationBlock=await issuer.provider.getBlock(certificationRequestedLogs[0].blockNumber);let offChainData;this.created=Number(creationBlock.timestamp);try{offChainData=await this.configuration.offChainDataSource.certificateClient.getCertificationRequestData(this.id)}catch(e){return this.configuration.logger&&this.configuration.logger.error(`Error fetching off-chain data for certificate ${this.id}: ${e}`),this.initialized=!1,this}return this.energy=offChainData.energy,this.files=offChainData.files,this.initialized=!0,this.configuration.logger&&this.configuration.logger.verbose(`CertificationRequest ${this.id} synced`),this}async approve(){const validityData=new utils_1.Interface(contracts_1.IssuerJSON.abi).functions.isRequestValid.encode([this.id.toString()]);let approveTx;const{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(this.configuration.blockchainProperties.activeUser);if(this.isPrivate){const commitment={[this.owner]:this.energy},{rootHash:rootHash}=this.generateAndAddProofs(commitment);approveTx=await issuerWithSigner.approveCertificationRequestPrivate(this.id,rootHash,validityData)}else approveTx=await issuerWithSigner.approveCertificationRequest(this.id,this.energy,validityData);const{events:events}=await approveTx.wait();return Number(events.find(log=>"CertificationRequestApproved"===log.event).topics[3])}async revoke(){const{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(this.configuration.blockchainProperties.activeUser),revokeTx=await issuerWithSigner.revokeRequest(this.id);await revokeTx.wait()}async requestMigrateToPublic(value){if(!this.isPrivate)throw new Error("Certificate is already public.");const{issuer:issuer}=this.configuration.blockchainProperties,commitment={[await this.configuration.blockchainProperties.activeUser.getAddress()]:value},{rootHash:rootHash}=this.generateAndAddProofs(commitment),issuerWithSigner=issuer.connect(this.configuration.blockchainProperties.activeUser),tx=await issuerWithSigner.requestMigrateToPublic(this.id,rootHash);return await tx.wait(),tx}static async validateGenerationPeriod(fromTime,toTime,deviceId,configuration,isPrivate){const{issuer:issuer}=configuration.blockchainProperties,moment=moment_range_1.extendMoment(Moment),unix=timestamp=>moment.unix(timestamp),certificationRequestIds=(await events_1.getEventsFromContract(issuer,issuer.filters.CertificationRequested(null,null,deviceId))).map(event=>event._id),generationTimeRange=moment.range(unix(fromTime),unix(toTime));for(const id of certificationRequestIds){const certificationRequest=await new CertificationRequest(id.toNumber(),configuration,isPrivate).sync();if(certificationRequest.revoked)continue;const certificationRequestGenerationRange=moment.range(unix(certificationRequest.fromTime),unix(certificationRequest.toTime));if(generationTimeRange.overlaps(certificationRequestGenerationRange))throw new Error("Generation period "+`${unix(fromTime).format()} - ${unix(toTime).format()}`+" overlaps with the time period of "+`${unix(certificationRequest.fromTime).format()} - ${unix(certificationRequest.toTime).format()}`+` of request ${certificationRequest.id}.`)}return!0}}exports.CertificationRequest=CertificationRequest,exports.getAllCertificationRequests=async function getAllCertificationRequests(configuration){const{issuer:issuer}=configuration.blockchainProperties,certificationRequestPromises=(await events_1.getEventsFromContract(issuer,issuer.filters.CertificationRequested(null,null,null))).map(event=>new CertificationRequest(event._id.toNumber(),configuration).sync());return Promise.all(certificationRequestPromises)}},1716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const PreciseProofClient_1=__webpack_require__(969),ConfigurationClient_1=__webpack_require__(970),UserClient_1=__webpack_require__(972),DeviceClient_1=__webpack_require__(973),RequestClient_1=__webpack_require__(235),OrganizationClient_1=__webpack_require__(971),FilesClient_1=__webpack_require__(974),CertificateClient_1=__webpack_require__(975);exports.OffChainDataSource=class OffChainDataSource{constructor(backendUrl,port=80,requestClient=new RequestClient_1.RequestClient){this.backendUrl=backendUrl,this.port=port,this.requestClient=requestClient,this.preciseProofClient=new PreciseProofClient_1.PreciseProofClient(this.requestClient),this.configurationClient=new ConfigurationClient_1.ConfigurationClient(this.dataApiUrl,this.requestClient),this.userClient=new UserClient_1.UserClient(this.dataApiUrl,this.requestClient),this.deviceClient=new DeviceClient_1.DeviceClient(this.dataApiUrl,this.requestClient),this.organizationClient=new OrganizationClient_1.OrganizationClient(this.dataApiUrl,this.requestClient),this.filesClient=new FilesClient_1.FilesClient(this.dataApiUrl,this.requestClient),this.certificateClient=new CertificateClient_1.CertificateClient(this.dataApiUrl,this.requestClient)}get dataApiUrl(){return`${this.backendUrl}:${this.port}/api`}}},1717:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const bn_js_1=__importDefault(__webpack_require__(1718)),immutable_1=__webpack_require__(1720),rxjs_1=__webpack_require__(1839),operators_1=__webpack_require__(1838),Order_1=__webpack_require__(466),Trade_1=__webpack_require__(1721);var ActionResult,ActionKind;!function(ActionResult){ActionResult[ActionResult.Cancelled=0]="Cancelled",ActionResult[ActionResult.Error=1]="Error"}(ActionResult=exports.ActionResult||(exports.ActionResult={})),function(ActionKind){ActionKind[ActionKind.AddOrder=0]="AddOrder",ActionKind[ActionKind.AddDirectBuy=1]="AddDirectBuy",ActionKind[ActionKind.CancelOrder=2]="CancelOrder"}(ActionKind||(ActionKind={}));exports.MatchingEngine=class MatchingEngine{constructor(deviceService,locationService){this.deviceService=deviceService,this.locationService=locationService,this.bids=immutable_1.List(),this.asks=immutable_1.List(),this.triggers=new rxjs_1.Subject,this.trades=new rxjs_1.Subject,this.actionResults=new rxjs_1.Subject,this.pendingActions=immutable_1.List(),this.triggers.pipe(operators_1.concatMap(async()=>this.trigger())).subscribe()}submitOrder(order){this.pendingActions=this.pendingActions.concat({kind:ActionKind.AddOrder,value:order})}submitDirectBuy(directBuy){this.pendingActions=this.pendingActions.concat({kind:ActionKind.AddDirectBuy,value:directBuy})}cancelOrder(orderId){this.pendingActions=this.pendingActions.concat({kind:ActionKind.CancelOrder,value:orderId})}orderBook(){const now=new Date,validFromFilter=order=>order.validFrom<=now;return{asks:this.asks.filter(validFromFilter),bids:this.bids.filter(validFromFilter)}}orderBookByProduct(productFilter){const{asks:asks,bids:bids}=this.orderBook();return{asks:asks.filter(ask=>ask.filterBy(productFilter,this.deviceService,this.locationService)),bids:bids.filter(bid=>bid.filterBy(productFilter,this.deviceService,this.locationService))}}tick(){this.triggers.next()}insertOrder(order){order.side===Order_1.OrderSide.Ask?this.asks=this.insert(this.asks,order):this.bids=this.insert(this.bids,order)}trigger(){const actions=this.pendingActions;let trades=immutable_1.List(),statusChange=immutable_1.List();return actions.forEach(action=>{switch(action.kind){case ActionKind.AddOrder:try{const order=action.value;this.insertOrder(order),trades=trades.concat(this.match())}catch(error){console.log(error)}break;case ActionKind.CancelOrder:try{const id=action.value,cancelEvent=this.cancel(id);statusChange=statusChange.concat(cancelEvent)}catch(error){console.log(error)}break;case ActionKind.AddDirectBuy:{const directBuy=action.value;try{const trade=this.directBuy(directBuy);trades=trades.concat(trade)}catch(error){const notExecutedEvent={orderId:directBuy.id,result:ActionResult.Error,error:error.msg};statusChange=statusChange.concat(notExecutedEvent)}break}default:throw new Error("Unexpected action")}}),this.cleanOrderBook(),this.pendingActions=this.pendingActions.clear(),trades.isEmpty()||this.trades.next(trades),statusChange.isEmpty()||this.actionResults.next(statusChange),!0}insert(orderBook,order){const unSorted=orderBook.concat(order),direction=order.side===Order_1.OrderSide.Ask?1:-1;return unSorted.sortBy(o=>direction*o.price)}directBuy(bid){const ask=this.asks.find(o=>o.id===bid.askId);if(ask.userId===bid.userId)throw new Error(`Unable to direct buy your own bid: bid=${JSON.stringify(bid)} ask=${JSON.stringify(ask)}`);if(ask.volume.lt(bid.volume))throw new Error(`Remaining volume is too low: ask.volume=${ask.volume.toString(10)} bid.volume=${bid.volume.toString(10)}`);if(ask.price!==bid.price)throw new Error("Unexpected price change");const tradedVolume=bid.volume,updatedAsk=ask.updateWithTradedVolume(bid.volume),updatedBid=bid.updateWithTradedVolume(bid.volume);return this.asks=this.updateOrder(this.asks,updatedAsk),{trade:new Trade_1.Trade(updatedBid,updatedAsk,tradedVolume,bid.price),ask:updatedAsk,bid:updatedBid}}match(){const{bids:bids,asks:asks}=this.orderBook(),executed=this.generateTrades(asks,bids);return this.updateOrderBook(executed),executed}cancel(orderId){const asks=this.findAndRemove(this.asks,orderId);if(asks.result)this.asks=asks.modified;else{const bids=this.findAndRemove(this.bids,orderId);if(!bids.result)throw new Error("Unexpected orderId");this.bids=bids.modified}return{orderId:orderId,result:ActionResult.Cancelled}}findAndRemove(source,orderId){const key=source.findKey(o=>o.id===orderId);return void 0!==key?{result:!0,modified:source.remove(key)}:{result:!1}}updateOrder(source,order){return source.set(source.findIndex(o=>o.id===order.id),order)}updateOrderBook(matched){matched.forEach(m=>{this.asks=this.updateOrder(this.asks,m.ask),this.bids=this.updateOrder(this.bids,m.bid)})}cleanOrderBook(){this.asks=this.asks.filterNot(ask=>ask.isFilled),this.bids=this.bids.filterNot(bid=>bid.isFilled)}generateTrades(asks,bids){let executed=immutable_1.List();return bids.forEach(bid=>{asks.forEach(ask=>{if(!this.matches(bid,ask))return!0;const filled=bn_js_1.default.min(ask.volume,bid.volume);return ask.updateWithTradedVolume(filled),bid.updateWithTradedVolume(filled),executed=executed.concat({trade:new Trade_1.Trade(bid,ask,filled,ask.price),ask:ask,bid:bid}),!0})}),executed}matches(bid,ask){const hasProductMatched=bid.matches(ask,this.deviceService,this.locationService),hasAskVolume=!ask.volume.isNeg()&&!ask.volume.isZero(),hasBidVolume=!bid.volume.isNeg()&&!bid.volume.isZero(),hasPriceMatched=ask.price<=bid.price,sameOwner=bid.userId===ask.userId;return hasPriceMatched&&hasAskVolume&&hasBidVolume&&hasProductMatched&&!sameOwner}}},1719:function(module,exports){},1721:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Trade=class Trade{constructor(bid,ask,volume,price){this.volume=volume,this.price=price,this.bidId=bid.id,this.askId=ask.id,this.created=new Date}}},1722:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Order_1=__webpack_require__(466),ProductFilter_1=__webpack_require__(609);class Ask extends Order_1.Order{constructor(id,price,volume,product,validFrom,userId,assetId){var _a;if(super(id,Order_1.OrderSide.Ask,validFrom,product,price,volume,userId),this.assetId=assetId,1!==(null===(_a=product.deviceType)||void 0===_a?void 0:_a.length))throw new Error("Unable to create ask order. DeviceType has to be specified");if(!product.generationTime)throw new Error("Unable to create ask order. GenerationTime has to be specified as single TimeRange");if(product.gridOperator&&product.gridOperator.length>1)throw new Error("Unable to create ask order. GridOperator has to be not set or 1")}get deviceType(){return this.product.deviceType[0]}get location(){return this.product.location[0]}filterBy(productFilter,deviceService,locationService){const hasMatchingDeviceType=this.filterByDeviceType(productFilter,deviceService),hasMatchingVintage=this.filterByDeviceVintage(productFilter),hasMatchingLocation=this.filterByLocation(productFilter,locationService),hasMatchingGenerationTime=this.filterByGenerationTime(productFilter),hasMatchingGridOperator=this.filterByGridOperator(productFilter);return hasMatchingDeviceType&&hasMatchingVintage&&hasMatchingLocation&&hasMatchingGenerationTime&&hasMatchingGridOperator}matches(bid,deviceService,locationService){const{product:product}=bid,hasMatchingDeviceType=this.hasMatchingDeviceType(product,deviceService),hasMatchingVintage=this.hasMatchingVintage(product),hasMatchingLocation=this.hasMatchingLocation(product,locationService),hasMatchingGenerationTime=this.hasMatchingGenerationTime(bid),hasMatchingGridOperator=this.hasMatchingGridOperator(product);return hasMatchingDeviceType&&hasMatchingVintage&&hasMatchingLocation&&hasMatchingGenerationTime&&hasMatchingGridOperator}clone(){return new Ask(this.id,this.price,this.volume,this.product,this.validFrom,this.userId,this.assetId)}filter(filter,pred){return filter===ProductFilter_1.Filter.All||filter===ProductFilter_1.Filter.Unspecified||pred()}filterByDeviceType(productFilter,deviceService){return this.filter(productFilter.deviceTypeFilter,()=>deviceService.includesDeviceType(this.deviceType,productFilter.deviceType))}filterByLocation(productFilter,locationService){return this.filter(productFilter.locationFilter,()=>locationService.matches(productFilter.location,this.location))}filterByDeviceVintage(productFilter){return this.filter(productFilter.deviceVintageFilter,()=>this.product.deviceVintage.matches(productFilter.deviceVintage))}filterByGenerationTime(productFilter){return this.filter(productFilter.generationTimeFilter,()=>Order_1.Order.hasMatchingGenerationTimes(productFilter,this.product))}filterByGridOperator(productFilter){return this.filter(productFilter.gridOperatorFilter,()=>productFilter.gridOperator.some(bidGridOperator=>bidGridOperator===this.product.gridOperator[0]))}hasMatchingDeviceType(product,deviceService){var _a;return null===(_a=product.deviceType)||void 0===_a||!_a.length||deviceService.includesDeviceType(this.deviceType,product.deviceType)}hasMatchingVintage(product){return!product.deviceVintage||!this.product.deviceVintage||this.product.deviceVintage.matches(product.deviceVintage)}hasMatchingLocation(product,locationService){var _a;return null===(_a=product.location)||void 0===_a||!_a.length||locationService.matches(product.location,this.location)}hasMatchingGenerationTime(bid){return!bid.product.generationTime||Order_1.Order.hasMatchingGenerationTimes(bid.product,this.product)}hasMatchingGridOperator(product){var _a,_b;return!((null===(_a=this.product.gridOperator)||void 0===_a?void 0:_a.length)&&(null===(_b=product.gridOperator)||void 0===_b?void 0:_b.length))||product.gridOperator.some(bidGridOperator=>bidGridOperator===this.product.gridOperator[0])}}exports.Ask=Ask},1723:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Operator_1=__webpack_require__(978);exports.DeviceVintage=class DeviceVintage{constructor(year,operator=Operator_1.Operator.EqualsTo){this.year=year,this.operator=operator}matches(deviceVintage){const{year:year,operator:operator}=deviceVintage;switch(operator){case Operator_1.Operator.EqualsTo:return this.year===year;case Operator_1.Operator.GreaterThanOrEqualsTo:return this.year>=year;case Operator_1.Operator.LessThanOrEqualsTo:return this.year<=year;default:return!1}}}},1724:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Bid_1=__webpack_require__(976);class DirectBuy extends Bid_1.Bid{constructor(id,userId,price,volume,askId){super(id,price,volume,null,new Date,userId),this.askId=askId}}exports.DirectBuy=DirectBuy},1725:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TimeRange=class TimeRange{static validate(timeRange){return timeRange.from<timeRange.to}}},177:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useOriginConfiguration}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_components_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(84);function useOriginConfiguration(){return Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_components_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_1__.a)}},1773:function(module,exports){},1775:function(module,exports){},1798:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const moment_1=__importDefault(__webpack_require__(9)),utils_1=__webpack_require__(79);class Entity{constructor(id,configuration,data){this.id=id,this.configuration=configuration,data?(Object.assign(this,data),this.initialized=!0):this.initialized=!1}async sync(){if(null!==this.id){const device=await this.configuration.offChainDataSource.deviceClient.getById(this.id);Object.assign(this,device),this.initialized=!0,this.configuration.logger&&this.configuration.logger.verbose(`Producing device ${this.id} synced`)}return this}get lastSmartMeterReadWh(){var _a;return null===(_a=this.lastSmartMeterReading)||void 0===_a?void 0:_a.meterReading}async saveSmartMeterRead(meterReading,timestamp=moment_1.default().unix()){const readingBN=utils_1.bigNumberify(meterReading);return this.configuration.offChainDataSource.deviceClient.addSmartMeterRead(this.id,{meterReading:readingBN,timestamp:timestamp})}async getSmartMeterReads(){return this.configuration.offChainDataSource.deviceClient.getAllSmartMeterReadings(Number(this.id))}async getAmountOfEnergyGenerated(){const allMeterReadings=await this.getSmartMeterReads();if(!allMeterReadings)return[];const energiesGenerated=[];for(let i=0;i<allMeterReadings.length;i++){const isFirstReading=0===i;energiesGenerated.push({energy:allMeterReadings[i].meterReading.sub(isFirstReading?0:allMeterReadings[i-1].meterReading),timestamp:allMeterReadings[i].timestamp})}return energiesGenerated}async setStatus(status){var _a,_b;return null===(_b=null===(_a=this.configuration.offChainDataSource)||void 0===_a?void 0:_a.deviceClient)||void 0===_b?void 0:_b.update(this.id,{status:status})}}exports.Entity=Entity,exports.getAllDevices=async configuration=>(await configuration.offChainDataSource.deviceClient.getAll()).map(device=>new Entity(device.id,configuration,device)),exports.getDeviceListLength=async configuration=>(await configuration.offChainDataSource.deviceClient.getAll()).length,exports.createDevice=async(deviceProperties,configuration)=>{const producingDevice=new Entity(null,configuration),deviceWithId=await configuration.offChainDataSource.deviceClient.add(deviceProperties);return producingDevice.id=deviceWithId.id,configuration.logger&&configuration.logger.info(`Producing device ${deviceWithId.id} created`),producingDevice.sync()}},1823:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"defaultView",(function(){return defaultView}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94),_material_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(523),_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84),_Exchange__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(403),_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(228),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_features__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(91),_features_general_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(64),_date_io_moment__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(264),_material_ui_pickers__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77),_features_users_actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(75),_utils_exchange__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(201),addSourceDecorator=(__webpack_require__(250).withSource,__webpack_require__(250).addSource);__webpack_exports__.default={parameters:{storySource:{source:"\nimport React from 'react';\nimport { withKnobs, text, boolean, number } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport {\n    createOriginConfiguration,\n    OriginConfigurationProvider\n} from '../OriginConfigurationContext';\nimport { Exchange } from './Exchange';\nimport { setupStore, TEST_DEVICE_TYPES, TEST_REGIONS } from '../../__tests__/utils/helpers';\nimport { Provider } from 'react-redux';\nimport { configurationUpdated } from '../../features';\nimport { setOffchainConfiguration, setExchangeClient } from '../../features/general/actions';\nimport { DeviceTypeService, Configuration } from '@energyweb/utils-general';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { setUserOffchain } from '../../features/users/actions';\nimport { IUserWithRelations, IOriginConfiguration } from '@energyweb/origin-backend-core';\nimport { ExchangeClient, ExchangeClientMock } from '../../utils/exchange';\n\nexport default {\n    title: 'Exchange',\n    component: Exchange,\n    decorators: [withKnobs]\n};\n\nconst originConfiguration = createOriginConfiguration();\n\nexport const defaultView = () => {\n    const { store } = setupStore(undefined, {\n        mockUserFetcher: false,\n        logActions: false,\n        runSagas: false\n    });\n\n    store.dispatch(\n        configurationUpdated(({\n            deviceTypeService: new DeviceTypeService(TEST_DEVICE_TYPES)\n        } as Partial<Configuration.Entity>) as Configuration.Entity)\n    );\n\n    store.dispatch(\n        setOffchainConfiguration({\n            configuration: ({ regions: TEST_REGIONS, countryName: 'Thailand' } as Partial<\n                IOriginConfiguration\n            >) as IOriginConfiguration\n        })\n    );\n    store.dispatch(\n        setUserOffchain(({\n            id: number('userOffchain.id', 1)\n        } as Partial<IUserWithRelations>) as IUserWithRelations)\n    );\n    store.dispatch(\n        setExchangeClient({\n            exchangeClient: boolean('useTextExchangeAPI', false)\n                ? new ExchangeClient(text('exchangeURL', 'http://localhost:3033'))\n                : ExchangeClientMock\n        })\n    );\n\n    return (\n        <OriginConfigurationProvider value={originConfiguration}>\n            <MuiThemeProvider theme={originConfiguration.materialTheme}>\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Provider store={store}>\n                        <Exchange currency={text('Currency', 'USD')} />\n                    </Provider>\n                </MuiPickersUtilsProvider>\n            </MuiThemeProvider>\n        </OriginConfigurationProvider>\n    );\n};\n",locationsMap:{"exchange--default-view":{startLoc:{col:27,line:29},endLoc:{col:1,line:73},startBody:{col:27,line:29},endBody:{col:1,line:73}}}}},title:"Exchange",component:_Exchange__WEBPACK_IMPORTED_MODULE_4__.a,decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.withKnobs]};var originConfiguration=Object(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_3__.c)(),defaultView=addSourceDecorator((function(){var store=Object(_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__.c)(void 0,{mockUserFetcher:!1,logActions:!1,runSagas:!1}).store;return store.dispatch(Object(_features__WEBPACK_IMPORTED_MODULE_7__.a)({deviceTypeService:new _energyweb_utils_general__WEBPACK_IMPORTED_MODULE_9__.DeviceTypeService(_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__.a)})),store.dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_8__.j)({configuration:{regions:_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__.b,countryName:"Thailand"}})),store.dispatch(Object(_features_users_actions__WEBPACK_IMPORTED_MODULE_12__.g)({id:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("userOffchain.id",1)})),store.dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_8__.g)({exchangeClient:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.boolean)("useTextExchangeAPI",!1)?new _utils_exchange__WEBPACK_IMPORTED_MODULE_13__.a(Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("exchangeURL","http://localhost:3033")):_utils_exchange__WEBPACK_IMPORTED_MODULE_13__.b})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_3__.b,{value:originConfiguration},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__.a,{theme:originConfiguration.materialTheme},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_11__.a,{utils:_date_io_moment__WEBPACK_IMPORTED_MODULE_10__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_6__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Exchange__WEBPACK_IMPORTED_MODULE_4__.a,{currency:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("Currency","USD")})))))}),{__STORY__:"\nimport React from 'react';\nimport { withKnobs, text, boolean, number } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport {\n    createOriginConfiguration,\n    OriginConfigurationProvider\n} from '../OriginConfigurationContext';\nimport { Exchange } from './Exchange';\nimport { setupStore, TEST_DEVICE_TYPES, TEST_REGIONS } from '../../__tests__/utils/helpers';\nimport { Provider } from 'react-redux';\nimport { configurationUpdated } from '../../features';\nimport { setOffchainConfiguration, setExchangeClient } from '../../features/general/actions';\nimport { DeviceTypeService, Configuration } from '@energyweb/utils-general';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { setUserOffchain } from '../../features/users/actions';\nimport { IUserWithRelations, IOriginConfiguration } from '@energyweb/origin-backend-core';\nimport { ExchangeClient, ExchangeClientMock } from '../../utils/exchange';\n\nexport default {\n    title: 'Exchange',\n    component: Exchange,\n    decorators: [withKnobs]\n};\n\nconst originConfiguration = createOriginConfiguration();\n\nexport const defaultView = () => {\n    const { store } = setupStore(undefined, {\n        mockUserFetcher: false,\n        logActions: false,\n        runSagas: false\n    });\n\n    store.dispatch(\n        configurationUpdated(({\n            deviceTypeService: new DeviceTypeService(TEST_DEVICE_TYPES)\n        } as Partial<Configuration.Entity>) as Configuration.Entity)\n    );\n\n    store.dispatch(\n        setOffchainConfiguration({\n            configuration: ({ regions: TEST_REGIONS, countryName: 'Thailand' } as Partial<\n                IOriginConfiguration\n            >) as IOriginConfiguration\n        })\n    );\n    store.dispatch(\n        setUserOffchain(({\n            id: number('userOffchain.id', 1)\n        } as Partial<IUserWithRelations>) as IUserWithRelations)\n    );\n    store.dispatch(\n        setExchangeClient({\n            exchangeClient: boolean('useTextExchangeAPI', false)\n                ? new ExchangeClient(text('exchangeURL', 'http://localhost:3033'))\n                : ExchangeClientMock\n        })\n    );\n\n    return (\n        <OriginConfigurationProvider value={originConfiguration}>\n            <MuiThemeProvider theme={originConfiguration.materialTheme}>\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Provider store={store}>\n                        <Exchange currency={text('Currency', 'USD')} />\n                    </Provider>\n                </MuiPickersUtilsProvider>\n            </MuiThemeProvider>\n        </OriginConfigurationProvider>\n    );\n};\n",__ADDS_MAP__:{"exchange--default-view":{startLoc:{col:27,line:29},endLoc:{col:1,line:73},startBody:{col:27,line:29},endBody:{col:1,line:73}}},__MAIN_FILE_LOCATION__:"/Exchange.stories.tsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/kuzi/Projects/origin/packages/origin-ui-core/src/components/exchange",__IDS_TO_FRAMEWORKS__:{}})},1824:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"defaultView",(function(){return defaultView}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94),_material_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(523),_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84),_Market__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(413),_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(228),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_features__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(91),_features_general_actions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(64),_date_io_moment__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(264),_material_ui_pickers__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(77),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(518),addSourceDecorator=(__webpack_require__(250).withSource,__webpack_require__(250).addSource);__webpack_exports__.default={parameters:{storySource:{source:"\nimport React from 'react';\nimport { withKnobs, text } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport {\n    createOriginConfiguration,\n    OriginConfigurationProvider\n} from '../OriginConfigurationContext';\nimport { Market } from './Market';\nimport { setupStore, TEST_DEVICE_TYPES, TEST_REGIONS } from '../../__tests__/utils/helpers';\nimport { Provider } from 'react-redux';\nimport { configurationUpdated } from '../../features';\nimport { setOffchainConfiguration } from '../../features/general/actions';\nimport { DeviceTypeService, Configuration } from '@energyweb/utils-general';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { action } from '@storybook/addon-actions';\nimport { IOriginConfiguration } from '@energyweb/origin-backend-core';\n\nexport default {\n    title: 'Market',\n    component: Market,\n    decorators: [withKnobs]\n};\n\nconst originConfiguration = createOriginConfiguration();\n\nexport const defaultView = () => {\n    const { store } = setupStore(undefined, {\n        mockUserFetcher: false,\n        logActions: false,\n        runSagas: false\n    });\n\n    store.dispatch(\n        configurationUpdated(({\n            deviceTypeService: new DeviceTypeService(TEST_DEVICE_TYPES)\n        } as Partial<Configuration.Entity>) as Configuration.Entity)\n    );\n\n    store.dispatch(\n        setOffchainConfiguration({\n            configuration: ({ regions: TEST_REGIONS, countryName: 'Thailand' } as Partial<\n                IOriginConfiguration\n            >) as IOriginConfiguration\n        })\n    );\n\n    return (\n        <OriginConfigurationProvider value={originConfiguration}>\n            <MuiThemeProvider theme={originConfiguration.materialTheme}>\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Provider store={store}>\n                        <Market\n                            onBid={action('onBid')}\n                            onNotify={action('onNotify')}\n                            onChange={action('onChange')}\n                            energyUnit={text('energyUnit', 'MWh')}\n                            currency={text('currency', 'USD')}\n                        />\n                    </Provider>\n                </MuiPickersUtilsProvider>\n            </MuiThemeProvider>\n        </OriginConfigurationProvider>\n    );\n};\n",locationsMap:{"market--default-view":{startLoc:{col:27,line:28},endLoc:{col:1,line:66},startBody:{col:27,line:28},endBody:{col:1,line:66}}}}},title:"Market",component:_Market__WEBPACK_IMPORTED_MODULE_4__.a,decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.withKnobs]};var originConfiguration=Object(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_3__.c)(),defaultView=addSourceDecorator((function(){var store=Object(_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__.c)(void 0,{mockUserFetcher:!1,logActions:!1,runSagas:!1}).store;return store.dispatch(Object(_features__WEBPACK_IMPORTED_MODULE_7__.a)({deviceTypeService:new _energyweb_utils_general__WEBPACK_IMPORTED_MODULE_9__.DeviceTypeService(_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__.a)})),store.dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_8__.j)({configuration:{regions:_tests_utils_helpers__WEBPACK_IMPORTED_MODULE_5__.b,countryName:"Thailand"}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_3__.b,{value:originConfiguration},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__.a,{theme:originConfiguration.materialTheme},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_11__.a,{utils:_date_io_moment__WEBPACK_IMPORTED_MODULE_10__.a},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_6__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Market__WEBPACK_IMPORTED_MODULE_4__.a,{onBid:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_12__.action)("onBid"),onNotify:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_12__.action)("onNotify"),onChange:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_12__.action)("onChange"),energyUnit:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("energyUnit","MWh"),currency:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.text)("currency","USD")})))))}),{__STORY__:"\nimport React from 'react';\nimport { withKnobs, text } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport {\n    createOriginConfiguration,\n    OriginConfigurationProvider\n} from '../OriginConfigurationContext';\nimport { Market } from './Market';\nimport { setupStore, TEST_DEVICE_TYPES, TEST_REGIONS } from '../../__tests__/utils/helpers';\nimport { Provider } from 'react-redux';\nimport { configurationUpdated } from '../../features';\nimport { setOffchainConfiguration } from '../../features/general/actions';\nimport { DeviceTypeService, Configuration } from '@energyweb/utils-general';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { action } from '@storybook/addon-actions';\nimport { IOriginConfiguration } from '@energyweb/origin-backend-core';\n\nexport default {\n    title: 'Market',\n    component: Market,\n    decorators: [withKnobs]\n};\n\nconst originConfiguration = createOriginConfiguration();\n\nexport const defaultView = () => {\n    const { store } = setupStore(undefined, {\n        mockUserFetcher: false,\n        logActions: false,\n        runSagas: false\n    });\n\n    store.dispatch(\n        configurationUpdated(({\n            deviceTypeService: new DeviceTypeService(TEST_DEVICE_TYPES)\n        } as Partial<Configuration.Entity>) as Configuration.Entity)\n    );\n\n    store.dispatch(\n        setOffchainConfiguration({\n            configuration: ({ regions: TEST_REGIONS, countryName: 'Thailand' } as Partial<\n                IOriginConfiguration\n            >) as IOriginConfiguration\n        })\n    );\n\n    return (\n        <OriginConfigurationProvider value={originConfiguration}>\n            <MuiThemeProvider theme={originConfiguration.materialTheme}>\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Provider store={store}>\n                        <Market\n                            onBid={action('onBid')}\n                            onNotify={action('onNotify')}\n                            onChange={action('onChange')}\n                            energyUnit={text('energyUnit', 'MWh')}\n                            currency={text('currency', 'USD')}\n                        />\n                    </Provider>\n                </MuiPickersUtilsProvider>\n            </MuiThemeProvider>\n        </OriginConfigurationProvider>\n    );\n};\n",__ADDS_MAP__:{"market--default-view":{startLoc:{col:27,line:28},endLoc:{col:1,line:66},startBody:{col:27,line:28},endBody:{col:1,line:66}}},__MAIN_FILE_LOCATION__:"/Market.stories.tsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/kuzi/Projects/origin/packages/origin-ui-core/src/components/exchange",__IDS_TO_FRAMEWORKS__:{}})},1837:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"defaultView",(function(){return defaultView}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Orders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(406),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(523),_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84),addSourceDecorator=(__webpack_require__(250).withSource,__webpack_require__(250).addSource);__webpack_exports__.default={parameters:{storySource:{source:"\nimport React from 'react';\nimport { Orders } from './Orders';\nimport { withKnobs, text, object } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { createOriginConfiguration } from '../OriginConfigurationContext';\nimport { IOrderBookOrderDTO } from '../../utils/exchange';\n\nexport default {\n    title: 'Orders',\n    component: Orders,\n    decorators: [withKnobs]\n};\n\nconst DATA: IOrderBookOrderDTO[] = ([\n    {\n        price: 99,\n        volume: '123456'\n    },\n    {\n        price: 145,\n        volume: '2000300',\n        userId: '2'\n    }\n] as Partial<IOrderBookOrderDTO[]>) as IOrderBookOrderDTO[];\n\nconst originConfiguration = createOriginConfiguration();\n\nconst OrderComponent = () => (\n    <Orders\n        data={object('data', DATA)}\n        currency={text('currency', 'USD')}\n        title={text('title', 'Orders')}\n        highlightOrdersUserId={text('highlightOrdersUserId', '2')}\n    />\n);\n\nexport const defaultView = () => (\n    <MuiThemeProvider theme={originConfiguration.materialTheme}>\n        <OrderComponent />\n    </MuiThemeProvider>\n);\n",locationsMap:{"orders--default-view":{startLoc:{col:27,line:38},endLoc:{col:1,line:42},startBody:{col:27,line:38},endBody:{col:1,line:42}}}}},title:"Orders",component:_Orders__WEBPACK_IMPORTED_MODULE_1__.a,decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs]};var DATA=[{price:99,volume:"123456"},{price:145,volume:"2000300",userId:"2"}],originConfiguration=Object(_OriginConfigurationContext__WEBPACK_IMPORTED_MODULE_4__.c)(),OrderComponent=function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Orders__WEBPACK_IMPORTED_MODULE_1__.a,{data:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.object)("data",DATA),currency:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("currency","USD"),title:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("title","Orders"),highlightOrdersUserId:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("highlightOrdersUserId","2")})};OrderComponent.displayName="OrderComponent";var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(OrderComponent,null),defaultView=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{theme:originConfiguration.materialTheme},_ref)}),{__STORY__:"\nimport React from 'react';\nimport { Orders } from './Orders';\nimport { withKnobs, text, object } from '@storybook/addon-knobs';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { createOriginConfiguration } from '../OriginConfigurationContext';\nimport { IOrderBookOrderDTO } from '../../utils/exchange';\n\nexport default {\n    title: 'Orders',\n    component: Orders,\n    decorators: [withKnobs]\n};\n\nconst DATA: IOrderBookOrderDTO[] = ([\n    {\n        price: 99,\n        volume: '123456'\n    },\n    {\n        price: 145,\n        volume: '2000300',\n        userId: '2'\n    }\n] as Partial<IOrderBookOrderDTO[]>) as IOrderBookOrderDTO[];\n\nconst originConfiguration = createOriginConfiguration();\n\nconst OrderComponent = () => (\n    <Orders\n        data={object('data', DATA)}\n        currency={text('currency', 'USD')}\n        title={text('title', 'Orders')}\n        highlightOrdersUserId={text('highlightOrdersUserId', '2')}\n    />\n);\n\nexport const defaultView = () => (\n    <MuiThemeProvider theme={originConfiguration.materialTheme}>\n        <OrderComponent />\n    </MuiThemeProvider>\n);\n",__ADDS_MAP__:{"orders--default-view":{startLoc:{col:27,line:38},endLoc:{col:1,line:42},startBody:{col:27,line:38},endBody:{col:1,line:42}}},__MAIN_FILE_LOCATION__:"/Orders.stories.tsx",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/home/kuzi/Projects/origin/packages/origin-ui-core/src/components/exchange",__IDS_TO_FRAMEWORKS__:{}})},186:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(55),__webpack_require__(96),__webpack_require__(65),__webpack_require__(117),__webpack_require__(210),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(119),__webpack_require__(28),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(16),__webpack_require__(98),__webpack_require__(32),__webpack_require__(33),__webpack_require__(452),__webpack_require__(66),__webpack_require__(26);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),configuration=__webpack_require__(177);function FilterIcon(){var styleConfig=Object(configuration.a)().styleConfig;return react_default.a.createElement("svg",{width:"15",height:"19",viewBox:"0 0 15 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},react_default.a.createElement("g",{id:"Canvas",transform:"translate(7022 2714)"},react_default.a.createElement("g",{id:"Filter"},react_default.a.createElement("g",{id:"Shape"},react_default.a.createElement("path",{transform:"translate(-7022 -2710.63)",fill:styleConfig.PRIMARY_COLOR,d:"M 0 0L 15 0L 15 2.14286L 8.57143 7.5L 8.57143 15L 6.42857 12.8571L 6.42857 7.5L 0 2.14286L 0 0Z"})),react_default.a.createElement("g",{id:"Shape"},react_default.a.createElement("path",{transform:"translate(-7022 -2714)",fill:styleConfig.PRIMARY_COLOR,d:"M 0 0L 15 0L 15 2L 0 2L 0 0Z"})))))}FilterIcon.displayName="FilterIcon",FilterIcon.__docgenInfo={description:"",methods:[],displayName:"FilterIcon"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/FilterIcon.tsx"]={name:"FilterIcon",docgenInfo:FilterIcon.__docgenInfo,path:"src/components/icons/FilterIcon.tsx"});var CustomFilterInputType,IndividualFilter=__webpack_require__(407),clsx_m=__webpack_require__(1025),helper=__webpack_require__(255);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}__webpack_require__.d(__webpack_exports__,"a",(function(){return CustomFilterInputType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FiltersHeader})),function(CustomFilterInputType){CustomFilterInputType.deviceType="deviceType",CustomFilterInputType.string="string",CustomFilterInputType.multiselect="multiselect",CustomFilterInputType.dropdown="dropdown",CustomFilterInputType.slider="slider",CustomFilterInputType.yearMonth="yearMonth"}(CustomFilterInputType||(CustomFilterInputType={}));var _ref2=react_default.a.createElement("div",{className:"Filter_icon"},react_default.a.createElement(FilterIcon,null));function FiltersHeader(props){var _useState2=_slicedToArray(Object(react.useState)(!1),2),menuShown=_useState2[0],setMenuShown=_useState2[1],_useState4=_slicedToArray(Object(react.useState)([]),2),processedFilters=_useState4[0],setProcessedFilters=_useState4[1];function changeFilterValue(targetFilter,selectedValue){var index=processedFilters.indexOf(targetFilter),updatedFilter=_objectSpread({},targetFilter,{selectedValue:selectedValue}),updatedFilters=[].concat(_toConsumableArray(processedFilters.slice(0,index)),[updatedFilter],_toConsumableArray(processedFilters.slice(index+1)));props.filtersChanged(updatedFilters),setProcessedFilters(updatedFilters)}if(Object(react.useEffect)((function(){!function setupProcessedFilters(){if(props.filters&&!Object(helper.c)(props.filters,processedFilters.map((function(_ref){return{label:_ref.label,input:_ref.input,search:_ref.search,propertyNew:_ref.property}})))){var newProcessedFilters=props.filters.map((function(filter){return filter.input.type===CustomFilterInputType.multiselect?_objectSpread({},filter,{selectedValue:filter.input.defaultOptions}):_objectSpread({},filter,{selectedValue:null})}));setProcessedFilters(newProcessedFilters)}}()}),[props.filters]),0===processedFilters.length)return null;var searchFilter=processedFilters.find((function(f){return f.search})),standardFilters=processedFilters.filter((function(f){return!f.search}));return react_default.a.createElement(react_default.a.Fragment,null,searchFilter&&react_default.a.createElement("div",{className:"pb-4"},react_default.a.createElement(IndividualFilter.a,{filter:searchFilter,changeFilterValue:changeFilterValue})),0<standardFilters.length&&react_default.a.createElement("div",{className:"FiltersHeader"},react_default.a.createElement("div",{className:"Filter ".concat(menuShown?"Filter-opened":""),onClick:function onClick(){return setMenuShown(!menuShown)}},_ref2,"Filter"),menuShown&&react_default.a.createElement("div",{className:"Filter_menu"},standardFilters.map((function(filter,index){return react_default.a.createElement("div",{className:Object(clsx_m.a)("Filter_menu_item",{"Filter_menu_item-fullWidth":filter.input&&filter.input.type===CustomFilterInputType.deviceType}),key:index},react_default.a.createElement(IndividualFilter.a,{filter:filter,changeFilterValue:changeFilterValue}))})))))}FiltersHeader.__docgenInfo={description:"",methods:[],displayName:"FiltersHeader",props:{filters:{required:!0,tsType:{name:"Array",elements:[{name:"ICustomFilterDefinition"}],raw:"ICustomFilterDefinition[]"},description:""},filtersChanged:{required:!0,tsType:{name:"signature",type:"function",raw:"(filters: ICustomFilter[]) => void",signature:{arguments:[{name:"filters",type:{name:"Array",elements:[{name:"ICustomFilter"}],raw:"ICustomFilter[]"}}],return:{name:"void"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/FiltersHeader.tsx"]={name:"FiltersHeader",docgenInfo:FiltersHeader.__docgenInfo,path:"src/components/Table/FiltersHeader.tsx"})},19:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",(function(){return getLoading})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getError})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getOffChainDataSource})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getEnvironment})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getCurrencies})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCompliance})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getRegions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getCountry})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getExchangeClient})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getExternalDeviceIdTypes})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getOffchainConfiguration})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getAccountMismatchModalProperties}));var getLoading=function(state){return state.general.loading},getError=function(state){return state.general.error},getOffChainDataSource=function(state){return state.general.offChainDataSource},getEnvironment=function(state){return state.general.environment},getCurrencies=function(state){var _state$general$offCha;return null===(_state$general$offCha=state.general.offChainConfiguration)||void 0===_state$general$offCha?void 0:_state$general$offCha.currencies},getCompliance=function(state){var _state$general$offCha2;return null===(_state$general$offCha2=state.general.offChainConfiguration)||void 0===_state$general$offCha2?void 0:_state$general$offCha2.complianceStandard},getRegions=function(state){var _state$general$offCha3;return null===(_state$general$offCha3=state.general.offChainConfiguration)||void 0===_state$general$offCha3?void 0:_state$general$offCha3.regions},getCountry=function(state){var _state$general$offCha4;return null===(_state$general$offCha4=state.general.offChainConfiguration)||void 0===_state$general$offCha4?void 0:_state$general$offCha4.countryName},getExchangeClient=function(state){return state.general.exchangeClient},getExternalDeviceIdTypes=function(state){var _state$general$offCha5;return null===(_state$general$offCha5=state.general.offChainConfiguration)||void 0===_state$general$offCha5?void 0:_state$general$offCha5.externalDeviceIdTypes},getOffchainConfiguration=function(state){return state.general.offChainConfiguration},getAccountMismatchModalProperties=function(state){return state.general.accountMismatchModalProperties}},2:function(module,__webpack_exports__,__webpack_require__){"use strict";var EnergyFormatter=__webpack_require__(138),helper=__webpack_require__(255),notifications=__webpack_require__(34),src=(__webpack_require__(48),__webpack_require__(61),__webpack_require__(64));function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PowerFormatter_PowerFormatter=function(){function PowerFormatter(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PowerFormatter)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PowerFormatter,null,[{key:"getBaseValueFromValueInDisplayUnit",value:function getBaseValueFromValueInDisplayUnit(valueInDisplayUnit){return valueInDisplayUnit*src.Unit[PowerFormatter.displayUnit]}},{key:"format",value:function format(powerInWatt,includeDisplayUnit){return"".concat(PowerFormatter.formatter.format(powerInWatt/src.Unit[PowerFormatter.displayUnit])).concat(includeDisplayUnit?" "+PowerFormatter.displayUnit:"")}}]),PowerFormatter}();_defineProperty(PowerFormatter_PowerFormatter,"displayUnit","MW"),_defineProperty(PowerFormatter_PowerFormatter,"decimalPlaces",3),_defineProperty(PowerFormatter_PowerFormatter,"formatter",new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:PowerFormatter_PowerFormatter.decimalPlaces}));var routing=__webpack_require__(215),time=__webpack_require__(115),validation=__webpack_require__(471),FiltersHeader=(__webpack_require__(440),__webpack_require__(55),__webpack_require__(96),__webpack_require__(207),__webpack_require__(587),__webpack_require__(28),__webpack_require__(16),__webpack_require__(98),__webpack_require__(32),__webpack_require__(208),__webpack_require__(320),__webpack_require__(186)),selectors=__webpack_require__(41),es=__webpack_require__(8),js_src=__webpack_require__(29);function getDeviceId(device,environment){var _ref,_device$externalDevic,_device$externalDevic2,_device$id;return null!==(_ref=null===(_device$externalDevic=device.externalDeviceIds)||void 0===_device$externalDevic||null===(_device$externalDevic2=_device$externalDevic.find((function(i){return i.type===environment.ISSUER_ID})))||void 0===_device$externalDevic2?void 0:_device$externalDevic2.id)&&void 0!==_ref?_ref:null===(_device$id=device.id)||void 0===_device$id?void 0:_device$id.toString()}function getDeviceLocationText(device){return[null==device?void 0:device.region,null==device?void 0:device.province].filter((function(i){return i})).join(", ")}function getDeviceGridOperatorText(device){var _device$gridOperator,_device$gridOperator$;return(null==device||null===(_device$gridOperator=device.gridOperator)||void 0===_device$gridOperator||null===(_device$gridOperator$=_device$gridOperator.split(";"))||void 0===_device$gridOperator$?void 0:_device$gridOperator$.join(" "))||""}function isDeviceLocationEnabled(environment){var _environment$DEVICE_P;return null==environment||null===(_environment$DEVICE_P=environment.DEVICE_PROPERTIES_ENABLED)||void 0===_environment$DEVICE_P?void 0:_environment$DEVICE_P.includes("LOCATION")}function isDeviceGridOperatorEnabled(environment){var _environment$DEVICE_P2;return null==environment||null===(_environment$DEVICE_P2=environment.DEVICE_PROPERTIES_ENABLED)||void 0===_environment$DEVICE_P2?void 0:_environment$DEVICE_P2.includes("GRID_OPERATOR")}function getDeviceFilters(recordLocationGetter,recordGridOperatorGetter,environment,t){var filters=[];return isDeviceLocationEnabled(environment)&&filters.push({property:recordLocationGetter,label:t("device.properties.regionProvince"),input:{type:FiltersHeader.a.string}}),isDeviceGridOperatorEnabled(environment)&&filters.push({property:recordGridOperatorGetter,label:t("device.properties.gridOperator"),input:{type:FiltersHeader.a.string}}),filters}function areDeviceSpecificPropertiesValid(location,gridOperator,environment){var isValid=!0;return isDeviceLocationEnabled(environment)&&(isValid=isValid&&2===(null==location?void 0:location.length)),isDeviceGridOperatorEnabled(environment)&&(isValid=isValid&&1===(null==gridOperator?void 0:gridOperator.length)),isValid}function getDeviceColumns(environment,t,locationSortProperties,gridOperatorSortProperties){var columns=[];return isDeviceLocationEnabled(environment)&&columns.push({id:"deviceLocation",label:t("device.properties.regionProvince"),sortProperties:locationSortProperties}),isDeviceGridOperatorEnabled(environment)&&columns.push({id:"gridOperator",label:t("device.properties.gridOperator"),sortProperties:gridOperatorSortProperties}),columns}function getDeviceSpecificPropertiesSearchTitle(environment,t){var location=isDeviceLocationEnabled(environment),grid=isDeviceGridOperatorEnabled(environment);return t(location&&grid?"search.searchByLocationAndGridOperator":location?"search.searchByLocation":grid?"search.searchByGridOperator":"general.actions.search")}function useDevicePermissions(){var _user$organization,user=Object(es.e)(selectors.d),t=Object(dist_es.c)().t,canCreateDevice={value:!1,rules:[{label:t("general.feedback.haveToBeLoggedInUser"),passing:!!user},{label:t("general.feedback.userHasToBePartOfApprovedOrganization"),passing:!!(null==user?void 0:user.organization)&&(null==user||null===(_user$organization=user.organization)||void 0===_user$organization?void 0:_user$organization.status)===js_src.OrganizationStatus.Active},{label:t("general.feedback.userHasToHaveBlockchainAccount"),passing:!!(null==user?void 0:user.blockchainAccountAddress)}]};return canCreateDevice.value=canCreateDevice.rules.every((function(r){return r.passing})),{canCreateDevice:canCreateDevice}}__webpack_require__(46),__webpack_require__(287),__webpack_require__(43);var react=__webpack_require__(0);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function useIntervalFetch(fetchData,refreshInterval){var dependencies=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];Object(react.useEffect)((function(){var isMounted=!0,checkIsMounted=function(){return isMounted},_fetch=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetchData(checkIsMounted);case 2:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}();_fetch();var intervalRef=setInterval(_fetch,refreshInterval);return function(){isMounted=!1,clearInterval(intervalRef)}}),dependencies)}__webpack_require__(211),__webpack_require__(581),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function formatCurrencyComplete(value,currency){return"string"==typeof value&&(value=parseFloat(value)),new Intl.NumberFormat("en-US",{style:"currency",currency:currency}).format(value)}function test_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function dataTest(value){var name=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"data-test";return test_defineProperty({},name,value)}function dataTestSelector(value){var name=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"data-test";return"[".concat(name,'="').concat(value,'"]')}var dist_es=__webpack_require__(71);__webpack_require__.d(__webpack_exports__,"b",(function(){return EnergyFormatter.a})),__webpack_require__.d(__webpack_exports__,"f",(function(){return helper.a})),__webpack_require__.d(__webpack_exports__,"B",(function(){return helper.e})),__webpack_require__.d(__webpack_exports__,"c",(function(){return notifications.a})),__webpack_require__.d(__webpack_exports__,"x",(function(){return notifications.b})),__webpack_require__.d(__webpack_exports__,"d",(function(){return PowerFormatter_PowerFormatter})),__webpack_require__.d(__webpack_exports__,"q",(function(){return routing.a})),__webpack_require__.d(__webpack_exports__,"r",(function(){return routing.b})),__webpack_require__.d(__webpack_exports__,"A",(function(){return routing.c})),__webpack_require__.d(__webpack_exports__,"a",(function(){return time.a})),__webpack_require__.d(__webpack_exports__,"j",(function(){return time.b})),__webpack_require__.d(__webpack_exports__,"w",(function(){return time.e})),__webpack_require__.d(__webpack_exports__,"v",(function(){return time.d})),__webpack_require__.d(__webpack_exports__,"u",(function(){return time.c})),__webpack_require__.d(__webpack_exports__,"D",(function(){return validation.a})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getDeviceId})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getDeviceLocationText})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getDeviceGridOperatorText})),__webpack_require__.d(__webpack_exports__,"t",(function(){return isDeviceLocationEnabled})),__webpack_require__.d(__webpack_exports__,"s",(function(){return isDeviceGridOperatorEnabled})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getDeviceFilters})),__webpack_require__.d(__webpack_exports__,"e",(function(){return areDeviceSpecificPropertiesValid})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getDeviceColumns})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getDeviceSpecificPropertiesSearchTitle})),__webpack_require__.d(__webpack_exports__,"y",(function(){return useDevicePermissions})),__webpack_require__.d(__webpack_exports__,"z",(function(){return useIntervalFetch})),__webpack_require__.d(__webpack_exports__,"i",(function(){return formatCurrencyComplete})),__webpack_require__.d(__webpack_exports__,"g",(function(){return dataTest})),__webpack_require__.d(__webpack_exports__,"h",(function(){return dataTestSelector})),__webpack_require__.d(__webpack_exports__,"C",(function(){return dist_es.c}))},201:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(48),__webpack_require__(61),__webpack_require__(16),__webpack_require__(46),__webpack_require__(43);var src=__webpack_require__(501),js_src=__webpack_require__(230);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}var TransferStatus,TransferDirection,ExchangeClient_ExchangeClient=function(){function ExchangeClient(dataApiUrl){var requestClient=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new src.RequestClient;_classCallCheck(this,ExchangeClient),this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}var _getOrderById,_getAssetById,_getTrades,_getAllTransfers,_getAccount,_directBuy,_createBid,_createAsk,_search;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ExchangeClient,[{key:"search",value:(_search=_asyncToGenerator(regeneratorRuntime.mark((function _callee(deviceType,location,gridOperator,generationFrom,generationTo){var deviceTypePresent,locationPresent,gridOperatorPresent,data,url,response;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return deviceTypePresent=0<(null==deviceType?void 0:deviceType.length),locationPresent=0<(null==location?void 0:location.length),gridOperatorPresent=0<(null==gridOperator?void 0:gridOperator.length),data={deviceTypeFilter:deviceTypePresent?js_src.Filter.Specific:js_src.Filter.Unspecified,locationFilter:locationPresent?js_src.Filter.Specific:js_src.Filter.Unspecified,gridOperatorFilter:gridOperatorPresent?js_src.Filter.Specific:js_src.Filter.Unspecified,generationTimeFilter:generationFrom&&generationTo?js_src.Filter.Specific:js_src.Filter.Unspecified,deviceVintageFilter:js_src.Filter.Unspecified,deviceType:deviceTypePresent?deviceType:void 0,location:locationPresent?location:void 0,gridOperator:gridOperatorPresent?gridOperator:void 0,generationFrom:null!=generationFrom?generationFrom:void 0,generationTo:null!=generationTo?generationTo:void 0},url="".concat(this.orderbookEndpoint,"/public/search"),this.requestClient.authenticationToken&&(url="".concat(this.orderbookEndpoint,"/search")),_context.next=8,this.requestClient.post(url,data);case 8:return response=_context.sent,_context.abrupt("return",response.data);case 10:case"end":return _context.stop()}}),_callee,this)}))),function search(){return _search.apply(this,arguments)})},{key:"createAsk",value:(_createAsk=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(data){var response;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.requestClient.post("".concat(this.ordersEndpoint,"/ask"),data);case 2:return response=_context2.sent,_context2.abrupt("return",response.data);case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function createAsk(){return _createAsk.apply(this,arguments)})},{key:"createBid",value:(_createBid=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(data){var response;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.requestClient.post("".concat(this.ordersEndpoint,"/bid"),data);case 2:return response=_context3.sent,_context3.abrupt("return",response.data);case 4:case"end":return _context3.stop()}}),_callee3,this)}))),function createBid(){return _createBid.apply(this,arguments)})},{key:"directBuy",value:(_directBuy=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(data){var response;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.requestClient.post("".concat(this.ordersEndpoint,"/ask/buy"),data);case 2:return response=_context4.sent,_context4.abrupt("return",response.data);case 4:case"end":return _context4.stop()}}),_callee4,this)}))),function directBuy(){return _directBuy.apply(this,arguments)})},{key:"getAccount",value:(_getAccount=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var response;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.requestClient.get(this.accountEndpoint);case 2:return response=_context5.sent,_context5.abrupt("return",response.data);case 4:case"end":return _context5.stop()}}),_callee5,this)}))),function getAccount(){return _getAccount.apply(this,arguments)})},{key:"getAllTransfers",value:(_getAllTransfers=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){var response;return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.requestClient.get("".concat(this.transferEndpoint,"/all"));case 2:return response=_context6.sent,_context6.abrupt("return",response.data);case 4:case"end":return _context6.stop()}}),_callee6,this)}))),function getAllTransfers(){return _getAllTransfers.apply(this,arguments)})},{key:"getTrades",value:(_getTrades=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){var response;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,this.requestClient.get(this.tradeEndpoint);case 2:return response=_context7.sent,_context7.abrupt("return",response.data);case 4:case"end":return _context7.stop()}}),_callee7,this)}))),function getTrades(){return _getTrades.apply(this,arguments)})},{key:"getAssetById",value:(_getAssetById=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(id){var response;return regeneratorRuntime.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.requestClient.get("".concat(this.assetEndpoint,"/").concat(id));case 2:return response=_context8.sent,_context8.abrupt("return",response.data);case 4:case"end":return _context8.stop()}}),_callee8,this)}))),function getAssetById(){return _getAssetById.apply(this,arguments)})},{key:"getOrderById",value:(_getOrderById=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(id){var response;return regeneratorRuntime.wrap((function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,this.requestClient.get("".concat(this.ordersEndpoint,"/").concat(id));case 2:return response=_context9.sent,_context9.abrupt("return",response.data);case 4:case"end":return _context9.stop()}}),_callee9,this)}))),function getOrderById(){return _getOrderById.apply(this,arguments)})},{key:"assetEndpoint",get:function get(){return"".concat(this.dataApiUrl,"/asset")}},{key:"accountEndpoint",get:function get(){return"".concat(this.dataApiUrl,"/account")}},{key:"ordersEndpoint",get:function get(){return"".concat(this.dataApiUrl,"/orders")}},{key:"orderbookEndpoint",get:function get(){return"".concat(this.dataApiUrl,"/orderbook")}},{key:"transferEndpoint",get:function get(){return"".concat(this.dataApiUrl,"/transfer")}},{key:"tradeEndpoint",get:function get(){return"".concat(this.dataApiUrl,"/trade")}}]),ExchangeClient}(),ExchangeClientMock={search:function search(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee10(){return regeneratorRuntime.wrap((function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",{asks:[{id:"3016eaee-e93e-4356-a5c9-f45f228642f5",price:800,volume:"3000000"},{id:"2ead1352-cff0-41b7-b5ba-841e8de07d0f",price:850,volume:"4000000"},{id:"b3da36a4-9562-466d-aa6e-9cf0aed8a336",price:860,volume:"5000000"},{id:"c6463d76-bd4e-4015-beef-0834c7fb682a",price:1e3,volume:"250"},{id:"d34ca8db-fa66-47fa-9d3f-6d9d278c03b2",price:1100,volume:"5000000"}],bids:[{id:"ed4649f2-20f8-4589-a8be-296d4fe38d9c",price:900,userId:"1",volume:"2500000"},{id:"47527400-26be-4830-aaa7-307e9a889b4e",price:850,userId:"1",volume:"2500000"},{id:"d6d8be53-4d50-4a71-9554-609a10bf2a73",price:790,volume:"5000000"}]});case 1:case"end":return _context10.stop()}}),_callee10)})))()},createBid:function createBid(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee11(){return regeneratorRuntime.wrap((function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.abrupt("return",{id:"",price:0,userId:"",product:null,side:0,validFrom:"",volume:""});case 1:case"end":return _context11.stop()}}),_callee11)})))()},directBuy:function directBuy(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee12(){return regeneratorRuntime.wrap((function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.abrupt("return",{id:"",price:0,userId:"",product:null,side:0,validFrom:"",volume:""});case 1:case"end":return _context12.stop()}}),_callee12)})))()},createAsk:function createAsk(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee13(){return regeneratorRuntime.wrap((function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.abrupt("return",null);case 1:case"end":return _context13.stop()}}),_callee13)})))()},getAllTransfers:function getAllTransfers(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee14(){return regeneratorRuntime.wrap((function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.abrupt("return",null);case 1:case"end":return _context14.stop()}}),_callee14)})))()},getAccount:function getAccount(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee15(){return regeneratorRuntime.wrap((function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.abrupt("return",null);case 1:case"end":return _context15.stop()}}),_callee15)})))()},getTrades:function getTrades(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee16(){return regeneratorRuntime.wrap((function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.abrupt("return",[]);case 1:case"end":return _context16.stop()}}),_callee16)})))()},getAssetById:function getAssetById(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee17(){return regeneratorRuntime.wrap((function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.abrupt("return",null);case 1:case"end":return _context17.stop()}}),_callee17)})))()},getOrderById:function getOrderById(){return _asyncToGenerator(regeneratorRuntime.mark((function _callee18(){return regeneratorRuntime.wrap((function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.abrupt("return",null);case 1:case"end":return _context18.stop()}}),_callee18)})))()}};!function(TransferStatus){TransferStatus[TransferStatus.Unknown=0]="Unknown",TransferStatus[TransferStatus.Accepted=1]="Accepted",TransferStatus[TransferStatus.Unconfirmed=2]="Unconfirmed",TransferStatus[TransferStatus.Confirmed=3]="Confirmed",TransferStatus[TransferStatus.Error=4]="Error"}(TransferStatus||(TransferStatus={})),function(TransferDirection){TransferDirection[TransferDirection.Deposit=0]="Deposit",TransferDirection[TransferDirection.Withdrawal=1]="Withdrawal"}(TransferDirection||(TransferDirection={}));__webpack_require__(610),__webpack_require__(211);function calculateTotalPrice(priceInDisplayUnit,energyInDisplayUnit){var priceAsFloat=parseFloat(priceInDisplayUnit),energyAsFloat=parseFloat(energyInDisplayUnit);return isNaN(priceAsFloat)||isNaN(energyAsFloat)||!priceAsFloat||!energyAsFloat?0:(priceAsFloat*energyAsFloat).toFixed(2)}__webpack_require__.d(__webpack_exports__,"a",(function(){return ExchangeClient_ExchangeClient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ExchangeClientMock})),__webpack_require__.d(__webpack_exports__,"c",(function(){return calculateTotalPrice}))},215:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return _getDevicesOwnedLink})),__webpack_require__.d(__webpack_exports__,"b",(function(){return _getProducingDeviceDetailLink})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useLinks}));__webpack_require__(48),__webpack_require__(28),__webpack_require__(16),__webpack_require__(32);var react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_features_selectors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(53);function _getDevicesLink(baseURL){return"".concat(baseURL,"/devices")}function _getCertificatesLink(baseURL){return"".concat(baseURL,"/certificates")}function _getAccountLink(baseURL){return"".concat(baseURL,"/account")}function _getOrganizationLink(baseURL){return"".concat(baseURL,"/organization")}function _getDevicesOwnedLink(baseURL){return"".concat(_getDevicesLink(baseURL),"/owned")}function _getProducingDeviceDetailLink(baseURL,deviceId){return"number"==typeof deviceId&&(deviceId=deviceId.toString()),"".concat(_getDevicesLink(baseURL),"/producing_detail_view/").concat(deviceId)}function useLinks(){var baseURL=Object(react_redux__WEBPACK_IMPORTED_MODULE_4__.e)(_features_selectors__WEBPACK_IMPORTED_MODULE_5__.a);return{baseURL:baseURL,getDevicesLink:function getDevicesLink(){return _getDevicesLink(baseURL)},getDevicesAddLink:function getDevicesAddLink(){return function _getDevicesAddLink(baseURL){return"".concat(_getDevicesLink(baseURL),"/add")}(baseURL)},getDevicesOwnedLink:function getDevicesOwnedLink(){return _getDevicesOwnedLink(baseURL)},getAccountLink:function getAccountLink(){return _getAccountLink(baseURL)},getOrganizationLink:function getOrganizationLink(){return _getOrganizationLink(baseURL)},getCertificatesLink:function getCertificatesLink(){return _getCertificatesLink(baseURL)},getCertificateDetailLink:function getCertificateDetailLink(certificateId){return function _getCertificateDetailLink(baseURL,certificateId){return"number"==typeof certificateId&&(certificateId=certificateId.toString()),"".concat(_getCertificatesLink(baseURL),"/detail_view/").concat(certificateId)}(baseURL,certificateId)},getCertificatesForDemandLink:function getCertificatesForDemandLink(demandId){return function _getCertificatesForDemandLink(baseURL,demandId){return"".concat(_getCertificatesLink(baseURL),"/for_demand/").concat(demandId)}(baseURL,demandId)},getProducingDeviceDetailLink:function getProducingDeviceDetailLink(deviceId){return _getProducingDeviceDetailLink(baseURL,deviceId)},getOrganizationViewLink:function getOrganizationViewLink(id){return function _getOrganizationViewLink(baseURL,id){return"".concat(_getOrganizationLink(baseURL),"/organization-view/").concat(id)}(baseURL,id)},getUserRegisterLink:function getUserRegisterLink(){return function _getUserRegisterLink(baseURL){return"".concat(_getAccountLink(baseURL),"/user-register")}(baseURL)},getAccountLoginLink:function getAccountLoginLink(){return function _getAccountLoginLink(baseURL){return"".concat(_getAccountLink(baseURL),"/user-login")}(baseURL)}}}},228:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){__webpack_require__.d(__webpack_exports__,"a",(function(){return TEST_DEVICE_TYPES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return TEST_REGIONS})),__webpack_require__.d(__webpack_exports__,"c",(function(){return setupStore}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(55),__webpack_require__(96),__webpack_require__(65),__webpack_require__(117),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(172),__webpack_require__(28),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(16),__webpack_require__(46),__webpack_require__(32),__webpack_require__(33),__webpack_require__(66),__webpack_require__(26),__webpack_require__(736),__webpack_require__(287),__webpack_require__(43);var history__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(140),redux_saga__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(300),redux__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(183),connected_react_router__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(620),connected_react_router__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(266),_reducers__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(511),_features_sagas__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(267),_features_producingDevices_actions__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(239),_material_ui_pickers__WEBPACK_IMPORTED_MODULE_36__=(__webpack_require__(2),__webpack_require__(77)),react__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_37__),_date_io_moment__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(264),react_redux__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(8),redux_logger__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(1028),_features_general_actions__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(13),_components__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(519),_energyweb_origin_backend_core__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(29),ethers_utils__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(79);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var TEST_DEVICE_TYPES=[["Solar"],["Solar","Photovoltaic"],["Solar","Photovoltaic","Roof mounted"],["Solar","Photovoltaic","Ground mounted"],["Solar","Photovoltaic","Classic silicon"],["Solar","Concentration"],["Wind"],["Wind","Onshore"],["Wind","Offshore"],["Hydro-electric Head"],["Hydro-electric Head","Run-of-river head installation"],["Hydro-electric Head","Storage head installation"],["Hydro-electric Head","Pure pumped storage head installation"],["Hydro-electric Head","Mixed pumped storage head"],["Marine"],["Marine","Tidal"],["Marine","Tidal","Inshore"],["Marine","Tidal","Offshore"],["Marine","Wave"],["Marine","Wave","Onshore"],["Marine","Wave","Offshore"],["Marine","Currents"],["Marine","Pressure"],["Marine","Thermal"],["Solid"],["Solid","Muncipal waste"],["Solid","Muncipal waste","Biogenic"],["Solid","Industrial and commercial waste"],["Solid","Industrial and commercial waste","Biogenic"],["Solid","Wood"],["Solid","Wood","Forestry products"],["Solid","Wood","Forestry by-products & waste"],["Solid","Animal fats"],["Solid","Biomass from agriculture"],["Solid","Biomass from agriculture","Agricultural products"],["Solid","Biomass from agriculture","Agricultural by-products & waste"],["Liquid"],["Liquid","Municipal biodegradable waste"],["Liquid","Black liquor"],["Liquid","Pure plant oil"],["Liquid","Waste plant oil"],["Liquid","Refined vegetable oil"],["Liquid","Refined vegetable oil","Biodiesel (mono-alkyl ester)"],["Liquid","Refined vegetable oil","Biogasoline (C6-C12 hydrocarbon)"],["Gaseous"],["Gaseous","Landfill gas"],["Gaseous","Sewage gas"],["Gaseous","Agricultural gas"],["Gaseous","Agricultural gas","Animal manure"],["Gaseous","Agricultural gas","Energy crops"],["Gaseous","Gas from organic waste digestion"],["Gaseous","Process gas"],["Gaseous","Process gas","Biogenic"],["Thermal"],["Thermal","Internal combustion engine"],["Thermal","Internal combustion engine","Non CHP"],["Thermal","Internal combustion engine","CHP"],["Thermal","Steam turbine with condensation turbine"],["Thermal","Steam turbine with condensation turbine","Non CHP"]],TEST_REGIONS={Northeast:["Amnat Charoen","Bueng Kan, Buri Ram","Chaiyaphum, Kalasin","Khon Kaen, Loei","Maha Sarakham","Mukdahan","Nakhon Phanom","Nakhon Ratchasima","Nong Bua Lamphu","Nong Khai","Roi Et","Sakon Nakhon","Si Sa Ket","Surin","Ubon Ratchathani","Udon Thani","Yasothon"],North:["Chiang Mai","Chiang Rai","Lampang","Lamphun","Mae Hong Son","Nan","Phayao","Phrae","Uttaradit"],West:["Tak","Kanchanaburi","Ratchaburi","Phetchaburi","Prachuap Khiri Khan"],Central:["Sukhothai","Phitsanulok","Phichit","Kamphaeng Phet","Phetchabun","Nakhon Sawan","Uthai Thani","Ang Thong","Phra Nakhon Si Ayutthaya","Bangkok, Chai Nat","Lop Buri","Nakhon Pathom","Nonthaburi","Pathum Thani","Samut Prakan","Samut Sakhon","Samut Songkhram","Saraburi","Sing Buri","Suphan Buri","Nakhon Nayok"],East:["Chachoengsao","Chanthaburi","Chon Buri","Prachin Buri","Rayong","Sa Kaeo","Trat"],South:["Chumphon","Nakhon Si Thammarat","Narathiwat","Pattani","Phatthalung","Songkhla","Surat Thani","Yala","Krabi","Phang Nga","Phuket","Ranong","Satun","Trang"]};var setupStoreInternal=function(initialHistoryEntries){var logActions=1<arguments.length&&void 0!==arguments[1]&&arguments[1],offChainDataSource=2<arguments.length?arguments[2]:void 0,runSagas=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],history=Object(history__WEBPACK_IMPORTED_MODULE_27__.d)({initialEntries:initialHistoryEntries}),sagaMiddleware=Object(redux_saga__WEBPACK_IMPORTED_MODULE_28__.a)(),middlewareToApply=[Object(connected_react_router__WEBPACK_IMPORTED_MODULE_30__.a)(history),sagaMiddleware];if(logActions){var logger=Object(redux_logger__WEBPACK_IMPORTED_MODULE_40__.createLogger)({level:{prevState:!1,nextState:!1}});middlewareToApply.push(logger)}var middleware=redux__WEBPACK_IMPORTED_MODULE_29__.applyMiddleware.apply(void 0,middlewareToApply),store=Object(redux__WEBPACK_IMPORTED_MODULE_29__.createStore)(Object(_reducers__WEBPACK_IMPORTED_MODULE_32__.a)(history),middleware);offChainDataSource&&store.dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_41__.i)(offChainDataSource));var sagasTasks=runSagas?Object.keys(_features_sagas__WEBPACK_IMPORTED_MODULE_33__.a).reduce((function(a,saga){return[].concat(_toConsumableArray(a),[sagaMiddleware.run(_features_sagas__WEBPACK_IMPORTED_MODULE_33__.a[saga])])}),[]):[];return Object(_components__WEBPACK_IMPORTED_MODULE_42__.c)("en"),{store:store,history:history,sagasTasks:sagasTasks}},DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES={status:_energyweb_origin_backend_core__WEBPACK_IMPORTED_MODULE_43__.DeviceStatus.Active,facilityName:"Wuthering Heights facility",deviceType:"Solar;Photovoltaic;Roof mounted",country:"Thailand",address:"95 Moo 7, Sa Si Mum Sub-district, Kamphaeng Saen District, Nakhon Province 73140",capacityInW:9876543,operationalSince:1568746970,complianceRegistry:"I-REC",region:"Central",province:"Nakhon Pathom"},createProducingDevice=function(properties){var _properties$lastSmart,_getAddress,owner=properties.owner||"0x0",lastSmartMeterReadWh=null!==(_properties$lastSmart=properties.lastSmartMeterReadWh)&&void 0!==_properties$lastSmart?_properties$lastSmart:Object(ethers_utils__WEBPACK_IMPORTED_MODULE_44__.bigNumberify)(0),offChainProperties={status:properties.status||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.status,address:properties.address||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.address,facilityName:properties.facilityName||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.facilityName,deviceType:properties.deviceType||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.deviceType,capacityInW:properties.capacityInW||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.capacityInW,operationalSince:properties.operationalSince||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.operationalSince,complianceRegistry:properties.complianceRegistry||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.complianceRegistry,country:properties.country||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.country,gpsLatitude:"",gpsLongitude:"",timezone:"Asia/Bangkok",otherGreenAttributes:"",typeOfPublicSupport:"",description:"",images:"",region:properties.region||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.region,province:properties.province||DEFAULT_PRODUCING_DEVICE_OFFCHAIN_PROPERTIES.province};return _objectSpread({id:properties.id,configuration:{blockchainProperties:{activeUser:{getAddress:(_getAddress=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return","0x0");case 1:case"end":return _context.stop()}}),_callee)}))),function getAddress(){return _getAddress.apply(this,arguments)})}}},owner:{address:owner}},offChainProperties,{lastSmartMeterReadWh:lastSmartMeterReadWh})},DEFAULT_SETUP_STORE_OPTIONS={mockUserFetcher:!0,logActions:!1,runSagas:!0},setupStore=function(initialHistoryEntries){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:DEFAULT_SETUP_STORE_OPTIONS,_setupStoreInternal=setupStoreInternal(initialHistoryEntries,options.logActions,options.offChainDataSource,options.runSagas),store=_setupStoreInternal.store,history=_setupStoreInternal.history,sagasTasks=_setupStoreInternal.sagasTasks;return{store:store,addProducingDevice:function addProducingDevice(properties){var entity=createProducingDevice(properties);store.dispatch(Object(_features_producingDevices_actions__WEBPACK_IMPORTED_MODULE_34__.b)(entity))},history:history,sagasTasks:sagasTasks,cleanupStore:function cleanupStore(){sagasTasks.map((function(task){return task.cancel()}))}}},originConfiguration=Object(_components__WEBPACK_IMPORTED_MODULE_42__.b)(),WrapperComponent=function(props){return react__WEBPACK_IMPORTED_MODULE_37___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_42__.a,{value:originConfiguration},react__WEBPACK_IMPORTED_MODULE_37___default.a.createElement(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_36__.a,{utils:_date_io_moment__WEBPACK_IMPORTED_MODULE_38__.a},react__WEBPACK_IMPORTED_MODULE_37___default.a.createElement(react_redux__WEBPACK_IMPORTED_MODULE_39__.a,{store:props.store},react__WEBPACK_IMPORTED_MODULE_37___default.a.createElement(connected_react_router__WEBPACK_IMPORTED_MODULE_31__.a,{history:props.history},props.children))))};WrapperComponent.displayName="WrapperComponent";WrapperComponent.__docgenInfo={description:"",methods:[],displayName:"WrapperComponent",props:{store:{required:!0,tsType:{name:"ReturnType['store']",raw:"ReturnType<typeof setupStoreInternal>['store']"},description:""},history:{required:!0,tsType:{name:"ReturnType['history']",raw:"ReturnType<typeof setupStoreInternal>['history']"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/__tests__/utils/helpers.tsx"]={name:"WrapperComponent",docgenInfo:WrapperComponent.__docgenInfo,path:"src/__tests__/utils/helpers.tsx"})}).call(this,__webpack_require__(234).setImmediate)},229:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(481),__webpack_require__(482),__webpack_require__(404),__webpack_require__(24),__webpack_require__(16),__webpack_require__(26);var formik_esm=__webpack_require__(17),react=__webpack_require__(0),utils=__webpack_require__(2);var FormikEffect=Object(formik_esm.e)((function FormikEffectComponent(_ref){var onChange=_ref.onChange,values=_ref.formik.values,prevValues=Object(utils.B)(values);return Object(react.useEffect)((function(){prevValues&&onChange&&onChange(values)}),[values]),null})),FormInput=__webpack_require__(49),FormikDatePicker=__webpack_require__(405);__webpack_require__.d(__webpack_exports__,"c",(function(){return FormikEffect})),__webpack_require__.d(__webpack_exports__,"a",(function(){return FormInput.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FormikDatePicker.b}))},230:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(1717)),__export(__webpack_require__(466));var Bid_1=__webpack_require__(976);exports.Bid=Bid_1.Bid;var Ask_1=__webpack_require__(1722);exports.Ask=Ask_1.Ask;var Product_1=__webpack_require__(977);exports.Product=Product_1.Product;var ProductFilter_1=__webpack_require__(609);exports.ProductFilter=ProductFilter_1.ProductFilter,exports.Filter=ProductFilter_1.Filter;var DeviceVintage_1=__webpack_require__(1723);exports.DeviceVintage=DeviceVintage_1.DeviceVintage;var Operator_1=__webpack_require__(978);exports.Operator=Operator_1.Operator;var DirectBuy_1=__webpack_require__(1724);exports.DirectBuy=DirectBuy_1.DirectBuy;var TimeRange_1=__webpack_require__(1725);exports.TimeRange=TimeRange_1.TimeRange},235:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const axios_1=__importDefault(__webpack_require__(410));exports.RequestClient=class RequestClient{async get(url,config={}){return axios_1.default.get(url,{...this.config,...config})}async post(url,data,config={}){return axios_1.default.post(url,data,{...this.config,...config})}async put(url,data,config={}){return axios_1.default.put(url,data,{...this.config,...config})}async delete(url,config={}){return axios_1.default.delete(url,{...this.config,...config})}generateCancelToken(){return axios_1.default.CancelToken.source()}get config(){const config={};return this.authenticationToken&&(config.headers={Authorization:`Bearer ${this.authenticationToken}`}),config}}},239:function(module,__webpack_exports__,__webpack_require__){"use strict";var ProducingDevicesActions;__webpack_require__.d(__webpack_exports__,"a",(function(){return ProducingDevicesActions})),__webpack_require__.d(__webpack_exports__,"b",(function(){return producingDeviceCreatedOrUpdated})),function(ProducingDevicesActions){ProducingDevicesActions.producingDeviceCreatedOrUpdated="PRODUCING_DEVICE_CREATED_OR_UPDATED"}(ProducingDevicesActions||(ProducingDevicesActions={}));var producingDeviceCreatedOrUpdated=function(producingDevice){return{type:ProducingDevicesActions.producingDeviceCreatedOrUpdated,producingDevice:producingDevice}}},255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return deepEqual})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deduplicate})),__webpack_require__.d(__webpack_exports__,"d",(function(){return reverse})),__webpack_require__.d(__webpack_exports__,"a",(function(){return countDecimals})),__webpack_require__.d(__webpack_exports__,"e",(function(){return usePrevious}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(55),__webpack_require__(210),__webpack_require__(24),__webpack_require__(30),__webpack_require__(767),__webpack_require__(28),__webpack_require__(57),__webpack_require__(16),__webpack_require__(46),__webpack_require__(98),__webpack_require__(32),__webpack_require__(33),__webpack_require__(320),__webpack_require__(26),__webpack_require__(287);var react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(0);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function deepEqual(a,b){return _typeof(a)===_typeof(b)&&("object"===_typeof(a)?JSON.stringify(a)===JSON.stringify(b):a===b)}function deduplicate(inputArray){return inputArray.filter((function(item,index,array){return array.map((function(nestedItem){return JSON.stringify(nestedItem)})).indexOf(JSON.stringify(item))===index}))}function reverse(array){return array.map((function(item,idx){return array[array.length-1-idx]}))}var countDecimals=function(value){return value%1?value.toString().split(".")[1].length:0};function usePrevious(value){var ref=Object(react__WEBPACK_IMPORTED_MODULE_18__.useRef)();return Object(react__WEBPACK_IMPORTED_MODULE_18__.useEffect)((function(){ref.current=value})),ref.current}},267:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(55),__webpack_require__(24),__webpack_require__(288),__webpack_require__(16),__webpack_require__(46),__webpack_require__(33),__webpack_require__(26),__webpack_require__(43);var redux_saga_effects_npm_proxy_esm=__webpack_require__(7),redux_saga_core_npm_proxy_esm=__webpack_require__(300),actions=__webpack_require__(13),selectors=__webpack_require__(19),axios=__webpack_require__(410),axios_default=__webpack_require__.n(axios),src=__webpack_require__(501),exchange=__webpack_require__(201),users_actions=__webpack_require__(75),ethers_min=__webpack_require__(236),esm=__webpack_require__(266),esm_actions=__webpack_require__(132),features_selectors=__webpack_require__(53),query_string=__webpack_require__(1027),winston=__webpack_require__(362),js_src=__webpack_require__(127),dist_js_src=__webpack_require__(64),features_actions=__webpack_require__(293),device_registry_dist_js_src=__webpack_require__(517),producingDevices_actions=__webpack_require__(239),certificates_actions=__webpack_require__(69),es=__webpack_require__(71),utils=__webpack_require__(2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var ERROR,_marked=regeneratorRuntime.mark(showAccountChangedModalOnChange),_marked2=regeneratorRuntime.mark(setupEnvironment),_marked3=regeneratorRuntime.mark(fillOffchainConfiguration),_marked4=regeneratorRuntime.mark(initializeOffChainDataSource),_marked5=regeneratorRuntime.mark(initEventHandler),_marked6=regeneratorRuntime.mark(fetchDataAfterConfigurationChange),_marked7=regeneratorRuntime.mark(fillContractLookupIfMissing),_marked8=regeneratorRuntime.mark(updateConfigurationWhenUserChanged),_marked9=regeneratorRuntime.mark(requestDeviceCreation),_marked10=regeneratorRuntime.mark(generalSaga);function createEthereumProviderAccountsChangedEventChannel(ethereumProvider){return Object(redux_saga_core_npm_proxy_esm.b)((function(emitter){return ethereumProvider.on("accountsChanged",emitter),function(){ethereumProvider.off("accountsChanged",emitter)}}))}function showAccountChangedModalOnChange(){var _ref,ethereumProvider,channel,newAccounts;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(ethereumProvider=null===(_ref=window)||void 0===_ref?void 0:_ref.ethereum){_context.next=3;break}return _context.abrupt("return");case 3:return _context.next=5,Object(redux_saga_effects_npm_proxy_esm.c)(createEthereumProviderAccountsChangedEventChannel,ethereumProvider);case 5:channel=_context.sent;case 6:return _context.next=9,Object(redux_saga_effects_npm_proxy_esm.j)(channel);case 9:return newAccounts=_context.sent,_context.next=12,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.e)(newAccounts&&newAccounts[0]||""));case 12:_context.next=6;break;case 14:case"end":return _context.stop()}}),_marked)}function prepareGetEnvironmentTask(){var _getEnvironment,source=axios_default.a.CancelToken.source();return{getEnvironment:(_getEnvironment=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var response,_ref2;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,axios_default.a.get("env-config.js",{cancelToken:source.token});case 3:return response=_context2.sent,_context2.abrupt("return",response.data);case 7:_context2.prev=7,_context2.t0=_context2.catch(0),axios_default.a.isCancel(_context2.t0)||console.warn("Error while fetching env-config.js",null!==(_ref2=null===_context2.t0||void 0===_context2.t0?void 0:_context2.t0.message)&&void 0!==_ref2?_ref2:_context2.t0);case 10:return _context2.abrupt("return",{MODE:"development",BACKEND_URL:"http://localhost",BACKEND_PORT:"3030",BLOCKCHAIN_EXPLORER_URL:"https://volta-explorer.energyweb.org",WEB3:"http://localhost:8545",REGISTRATION_MESSAGE_TO_SIGN:"I register as Origin user"});case 11:case"end":return _context2.stop()}}),_callee,null,[[0,7]])}))),function getEnvironment(){return _getEnvironment.apply(this,arguments)}),cancel:source.cancel}}function getConfigurationFromAPI(){return _getConfigurationFromAPI.apply(this,arguments)}function _getConfigurationFromAPI(){return(_getConfigurationFromAPI=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(offChainDataSource){return regeneratorRuntime.wrap((function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.prev=0,_context13.next=3,offChainDataSource.configurationClient.get();case 3:return _context13.abrupt("return",_context13.sent);case 6:return _context13.prev=6,_context13.t0=_context13.catch(0),_context13.abrupt("return",null);case 9:case"end":return _context13.stop()}}),_callee3,null,[[0,6]])})))).apply(this,arguments)}function setupEnvironment(){var getEnvironmentTask,environment;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,Object(redux_saga_effects_npm_proxy_esm.c)(prepareGetEnvironmentTask);case 3:return getEnvironmentTask=_context3.sent,_context3.next=6,Object(redux_saga_effects_npm_proxy_esm.c)(getEnvironmentTask.getEnvironment);case 6:return environment=_context3.sent,_context3.next=9,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.e)(environment));case 9:return _context3.prev=9,_context3.next=12,Object(redux_saga_effects_npm_proxy_esm.e)();case 12:if(!_context3.sent){_context3.next=14;break}getEnvironmentTask.cancel();case 14:return _context3.finish(9);case 15:case"end":return _context3.stop()}}),_marked2,null,[[0,,9,15]])}function fillOffchainConfiguration(){var environment,offChainDataSource,configuration;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=3,Object(redux_saga_effects_npm_proxy_esm.j)([actions.a.setEnvironment,actions.a.setOffChainDataSource]);case 3:return _context4.next=5,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.e);case 5:return environment=_context4.sent,_context4.next=8,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.j);case 8:if(offChainDataSource=_context4.sent,environment&&offChainDataSource){_context4.next=11;break}return _context4.abrupt("continue",0);case 11:return _context4.next=13,Object(redux_saga_effects_npm_proxy_esm.c)(getConfigurationFromAPI,offChainDataSource);case 13:return configuration=_context4.sent,_context4.next=16,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.j)({configuration:configuration}));case 16:_context4.next=0;break;case 18:case"end":return _context4.stop()}}),_marked3)}function initializeOffChainDataSource(){var environment,offChainDataSource,newOffChainDataSource;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(actions.a.setEnvironment);case 3:return _context5.next=5,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.e);case 5:return environment=_context5.sent,_context5.next=8,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.j);case 8:if(offChainDataSource=_context5.sent,environment&&!offChainDataSource){_context5.next=11;break}return _context5.abrupt("continue",0);case 11:return newOffChainDataSource=new src.OffChainDataSource(environment.BACKEND_URL,+environment.BACKEND_PORT),_context5.next=14,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.i)(newOffChainDataSource));case 14:return _context5.next=16,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.g)({exchangeClient:new exchange.a(newOffChainDataSource.dataApiUrl,newOffChainDataSource.requestClient)}));case 16:_context5.next=0;break;case 18:case"end":return _context5.stop()}}),_marked4)}function createConfiguration(account,web3,offchainConfiguration,offChainDataSource){var logger=4<arguments.length&&void 0!==arguments[4]?arguments[4]:winston.createLogger({level:"verbose",format:winston.format.combine(winston.format.colorize(),winston.format.simple()),transports:[new winston.transports.Console({level:"silly"})]}),signer=web3.getSigner(account),contractsLookup=offchainConfiguration.contractsLookup,blockchainProperties={registry:js_src.Contracts.factories.RegistryFactory.connect(contractsLookup.registry,signer),issuer:js_src.Contracts.factories.IssuerFactory.connect(contractsLookup.issuer,signer),web3:web3,activeUser:signer};return{blockchainProperties:blockchainProperties,offChainDataSource:offChainDataSource,logger:logger,deviceTypeService:new dist_js_src.DeviceTypeService(offchainConfiguration.deviceTypes)}}function initConf(){return _initConf.apply(this,arguments)}function _initConf(){return(_initConf=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(routerSearch,offchainConfiguration,offChainDataSource,environmentWeb3){var web3,params,ethereumProvider,accounts;return regeneratorRuntime.wrap((function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:if(web3=null,params=query_string.parse(routerSearch),ethereumProvider=window.ethereum,!params.rpc){_context14.next=7;break}web3=new ethers_min.ethers.providers.JsonRpcProvider(params.rpc),_context14.next=19;break;case 7:if(!ethereumProvider){_context14.next=18;break}return web3=new ethers_min.ethers.providers.Web3Provider(ethereumProvider),_context14.prev=9,_context14.next=12,ethereumProvider.enable();case 12:_context14.next=16;break;case 14:_context14.prev=14,_context14.t0=_context14.catch(9);case 16:_context14.next=19;break;case 18:window.web3?web3=new ethers_min.ethers.providers.Web3Provider(window.web3.currentProvider):environmentWeb3&&(web3=new ethers_min.ethers.providers.JsonRpcProvider(environmentWeb3));case 19:return _context14.next=21,web3.listAccounts();case 21:return accounts=_context14.sent,_context14.abrupt("return",createConfiguration(accounts[0],web3,offchainConfiguration,offChainDataSource));case 23:case"end":return _context14.stop()}}),_callee4,null,[[9,14]])})))).apply(this,arguments)}function createContractEventChannel(registry){return Object(redux_saga_core_npm_proxy_esm.b)((function(emitter){var onClaimSingle=function(claimIssuer,claimSubject,topic,id){emitter([id])},onClaimBatch=function(claimIssuer,claimSubject,topics,ids){emitter(ids)},onIssuanceSingle=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(sender,topic,id){return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:emitter([id]);case 1:case"end":return _context6.stop()}}),_callee2)})));return function(){return _ref3.apply(this,arguments)}}();return registry.on("ClaimSingle",onClaimSingle).on("ClaimBatch",onClaimBatch).on("IssuanceSingle",onIssuanceSingle),function(){registry.off("ClaimSingle",onClaimSingle).off("ClaimBatch",onClaimBatch).off("IssuanceSingle",onIssuanceSingle)}}))}function initEventHandler(){var configuration,channel,certificateIds,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,id;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 2:if(configuration=_context7.sent){_context7.next=5;break}return _context7.abrupt("return");case 5:return _context7.next=7,Object(redux_saga_effects_npm_proxy_esm.c)(createContractEventChannel,configuration.blockchainProperties.registry);case 7:channel=_context7.sent;case 8:return _context7.next=11,Object(redux_saga_effects_npm_proxy_esm.j)(channel);case 11:certificateIds=_context7.sent,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context7.prev=15,_iterator=certificateIds[Symbol.iterator]();case 17:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context7.next=25;break}if(!(id=_step.value)){_context7.next=22;break}return _context7.next=22,Object(redux_saga_effects_npm_proxy_esm.h)(Object(certificates_actions.e)(null==id?void 0:id.toNumber()));case 22:_iteratorNormalCompletion=!0,_context7.next=17;break;case 25:_context7.next=31;break;case 27:_context7.prev=27,_context7.t0=_context7.catch(15),_didIteratorError=!0,_iteratorError=_context7.t0;case 31:_context7.prev=31,_context7.prev=32,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 34:if(_context7.prev=34,!_didIteratorError){_context7.next=37;break}throw _iteratorError;case 37:return _context7.finish(34);case 38:return _context7.finish(31);case 39:_context7.next=8;break;case 41:case"end":return _context7.stop()}}),_marked5,null,[[15,27,31,39],[32,,34,38]])}function fetchDataAfterConfigurationChange(configuration){var update,producingDevices,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,device,certificates,initializedCertificates,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,certificate,_args8=arguments;return regeneratorRuntime.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return update=1<_args8.length&&void 0!==_args8[1]&&_args8[1],_context8.next=3,Object(redux_saga_effects_npm_proxy_esm.b)(device_registry_dist_js_src.ProducingDevice,device_registry_dist_js_src.ProducingDevice.getAllDevices,[configuration]);case 3:producingDevices=_context8.sent,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0,_context8.prev=7,_iterator2=producingDevices[Symbol.iterator]();case 9:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context8.next=16;break}return device=_step2.value,_context8.next=13,Object(redux_saga_effects_npm_proxy_esm.h)(Object(producingDevices_actions.b)(device));case 13:_iteratorNormalCompletion2=!0,_context8.next=9;break;case 16:_context8.next=22;break;case 18:_context8.prev=18,_context8.t0=_context8.catch(7),_didIteratorError2=!0,_iteratorError2=_context8.t0;case 22:_context8.prev=22,_context8.prev=23,_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return();case 25:if(_context8.prev=25,!_didIteratorError2){_context8.next=28;break}throw _iteratorError2;case 28:return _context8.finish(25);case 29:return _context8.finish(22);case 30:return _context8.next=32,Object(redux_saga_effects_npm_proxy_esm.b)(js_src.Certificate,js_src.CertificateUtils.getAllCertificates,[configuration]);case 32:certificates=_context8.sent,initializedCertificates=certificates.filter((function(cert){return cert.initialized})),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0,_context8.prev=37,_iterator3=initializedCertificates[Symbol.iterator]();case 39:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context8.next=46;break}return certificate=_step3.value,_context8.next=43,Object(redux_saga_effects_npm_proxy_esm.h)(update?Object(certificates_actions.l)(certificate):Object(certificates_actions.b)(certificate));case 43:_iteratorNormalCompletion3=!0,_context8.next=39;break;case 46:_context8.next=52;break;case 48:_context8.prev=48,_context8.t1=_context8.catch(37),_didIteratorError3=!0,_iteratorError3=_context8.t1;case 52:_context8.prev=52,_context8.prev=53,_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return();case 55:if(_context8.prev=55,!_didIteratorError3){_context8.next=58;break}throw _iteratorError3;case 58:return _context8.finish(55);case 59:return _context8.finish(52);case 60:case"end":return _context8.stop()}}),_marked6,null,[[7,18,22,30],[23,,25,29],[37,48,52,60],[53,,55,59]])}function fillContractLookupIfMissing(){var environment,offChainDataSource,offchainConfiguration,routerSearch,configuration,userAddress,organizations;return regeneratorRuntime.wrap((function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=3,Object(redux_saga_effects_npm_proxy_esm.j)([actions.a.setEnvironment,actions.a.setOffChainDataSource,actions.a.setOffchainConfiguration]);case 3:return _context9.next=5,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.e);case 5:return environment=_context9.sent,_context9.next=8,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.j);case 8:return offChainDataSource=_context9.sent,_context9.next=11,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.k);case 11:if(offchainConfiguration=_context9.sent,environment&&offChainDataSource&&offchainConfiguration){_context9.next=14;break}return _context9.abrupt("continue",0);case 14:if(offchainConfiguration.contractsLookup){_context9.next=20;break}return _context9.next=17,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.f)(ERROR.WRONG_NETWORK_OR_CONTRACT_ADDRESS));case 17:return _context9.next=19,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 19:return _context9.abrupt("continue",0);case 20:return _context9.next=22,Object(redux_saga_effects_npm_proxy_esm.i)(esm.c);case 22:return routerSearch=_context9.sent,configuration=void 0,_context9.prev=24,_context9.next=27,Object(redux_saga_effects_npm_proxy_esm.c)(initConf,routerSearch,offchainConfiguration,offChainDataSource,environment.WEB3);case 27:return configuration=_context9.sent,_context9.next=30,Object(redux_saga_effects_npm_proxy_esm.b)(configuration.blockchainProperties.activeUser,configuration.blockchainProperties.activeUser.getAddress,[]);case 30:return userAddress=_context9.sent,_context9.next=33,Object(redux_saga_effects_npm_proxy_esm.h)(Object(features_actions.b)(configuration));case 33:return _context9.next=35,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.e)(userAddress));case 35:return _context9.next=37,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 37:_context9.next=48;break;case 39:return _context9.prev=39,_context9.t0=_context9.catch(24),console.error("ContractsSaga::WrongNetwork",_context9.t0),_context9.next=44,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.f)(ERROR.WRONG_NETWORK_OR_CONTRACT_ADDRESS));case 44:return _context9.next=46,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 46:return _context9.next=48,Object(redux_saga_effects_npm_proxy_esm.d)();case 48:return _context9.prev=48,_context9.next=51,Object(redux_saga_effects_npm_proxy_esm.c)(fetchDataAfterConfigurationChange,configuration);case 51:return _context9.next=53,Object(redux_saga_effects_npm_proxy_esm.b)(offChainDataSource.organizationClient,offChainDataSource.organizationClient.getAll,[]);case 53:return organizations=_context9.sent,_context9.next=56,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.b)(organizations));case 56:return _context9.next=58,Object(redux_saga_effects_npm_proxy_esm.c)(initEventHandler);case 58:_context9.next=63;break;case 60:_context9.prev=60,_context9.t1=_context9.catch(48),console.error("fillContractLookupIfMissing() error",_context9.t1);case 63:_context9.next=0;break;case 65:case"end":return _context9.stop()}}),_marked7,null,[[24,39],[48,60]])}function updateConfigurationWhenUserChanged(){var _existingConfiguratio,_existingConfiguratio2,_existingConfiguratio3,_existingConfiguratio4,_existingConfiguratio5,_ref4,address,existingConfiguration,offchainConfiguration,existingSignerAddress,web3,offChainDataSource,newConfiguration;return regeneratorRuntime.wrap((function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(users_actions.a.setActiveBlockchainAccountAddress);case 3:return _ref4=_context10.sent,address=_ref4.payload,_context10.next=7,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 7:return existingConfiguration=_context10.sent,_context10.next=10,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.k);case 10:if(offchainConfiguration=_context10.sent,existingConfiguration&&offchainConfiguration&&(null==existingConfiguration||null===(_existingConfiguratio=existingConfiguration.blockchainProperties)||void 0===_existingConfiguratio?void 0:_existingConfiguratio.activeUser)){_context10.next=13;break}return _context10.abrupt("continue",0);case 13:return _context10.next=15,Object(redux_saga_effects_npm_proxy_esm.c)([null==existingConfiguration||null===(_existingConfiguratio2=existingConfiguration.blockchainProperties)||void 0===_existingConfiguratio2?void 0:_existingConfiguratio2.activeUser,null==existingConfiguration||null===(_existingConfiguratio3=existingConfiguration.blockchainProperties)||void 0===_existingConfiguratio3||null===(_existingConfiguratio4=_existingConfiguratio3.activeUser)||void 0===_existingConfiguratio4?void 0:_existingConfiguratio4.getAddress]);case 15:if(existingSignerAddress=_context10.sent,(null==address?void 0:address.toLowerCase())!==(null==existingSignerAddress?void 0:existingSignerAddress.toLowerCase())){_context10.next=18;break}return _context10.abrupt("continue",0);case 18:return web3=null==existingConfiguration||null===(_existingConfiguratio5=existingConfiguration.blockchainProperties)||void 0===_existingConfiguratio5?void 0:_existingConfiguratio5.web3,offChainDataSource=null==existingConfiguration?void 0:existingConfiguration.offChainDataSource,_context10.next=22,Object(redux_saga_effects_npm_proxy_esm.c)(createConfiguration,address,web3,offchainConfiguration,offChainDataSource,existingConfiguration.logger);case 22:return newConfiguration=_context10.sent,_context10.next=25,Object(redux_saga_effects_npm_proxy_esm.h)(Object(features_actions.b)(newConfiguration));case 25:return _context10.next=27,Object(redux_saga_effects_npm_proxy_esm.c)(fetchDataAfterConfigurationChange,newConfiguration,!0);case 27:_context10.next=0;break;case 29:case"end":return _context10.stop()}}),_marked8)}function requestDeviceCreation(){var _ref5,_ref5$payload,data,callback,configuration,baseURL,i18n,device;return regeneratorRuntime.wrap((function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(actions.a.requestDeviceCreation);case 3:return _ref5=_context11.sent,_ref5$payload=_ref5.payload,data=_ref5$payload.data,callback=_ref5$payload.callback,_context11.next=9,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 9:return configuration=_context11.sent,_context11.next=12,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.a);case 12:if(baseURL=_context11.sent,configuration){_context11.next=15;break}return _context11.abrupt("continue",0);case 15:return _context11.next=17,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!0));case 17:return i18n=Object(es.a)(),_context11.prev=18,_context11.next=21,Object(redux_saga_effects_npm_proxy_esm.c)(device_registry_dist_js_src.ProducingDevice.createDevice,data,configuration);case 21:return device=_context11.sent,_context11.next=24,Object(redux_saga_effects_npm_proxy_esm.h)(Object(producingDevices_actions.b)(device));case 24:return Object(utils.x)(i18n.t("device.feedback.deviceCreated"),utils.c.Success),_context11.next=27,Object(redux_saga_effects_npm_proxy_esm.h)(Object(esm_actions.d)(Object(utils.q)(baseURL)));case 27:_context11.next=33;break;case 29:_context11.prev=29,_context11.t0=_context11.catch(18),console.error(_context11.t0),Object(utils.x)(i18n.t("general.feedback.unknownError"),utils.c.Error);case 33:return _context11.next=35,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 35:return _context11.next=37,Object(redux_saga_effects_npm_proxy_esm.c)(callback);case 37:_context11.next=0;break;case 39:case"end":return _context11.stop()}}),_marked9,null,[[18,29]])}function generalSaga(){return regeneratorRuntime.wrap((function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.g)(showAccountChangedModalOnChange),Object(redux_saga_effects_npm_proxy_esm.g)(setupEnvironment),Object(redux_saga_effects_npm_proxy_esm.g)(initializeOffChainDataSource),Object(redux_saga_effects_npm_proxy_esm.g)(fillOffchainConfiguration),Object(redux_saga_effects_npm_proxy_esm.g)(fillContractLookupIfMissing),Object(redux_saga_effects_npm_proxy_esm.g)(updateConfigurationWhenUserChanged),Object(redux_saga_effects_npm_proxy_esm.g)(requestDeviceCreation)]);case 2:case"end":return _context12.stop()}}),_marked10)}!function(ERROR){ERROR.WRONG_NETWORK_OR_CONTRACT_ADDRESS="Please make sure you've chosen correct blockchain network and the contract address is valid."}(ERROR||(ERROR={}));__webpack_require__(65),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(66);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var sagas_marked=regeneratorRuntime.mark(setPreviouslyLoggedInOffchainUser),sagas_marked2=regeneratorRuntime.mark(persistAuthenticationToken),sagas_marked3=regeneratorRuntime.mark(fetchOffchainUserDetails),sagas_marked4=regeneratorRuntime.mark(logOutSaga),sagas_marked5=regeneratorRuntime.mark(usersSaga),LOCAL_STORAGE_KEYS_AUTHENTICATION_TOKEN="AUTHENTICATION_TOKEN";function getStoredAuthenticationToken(){return localStorage.getItem(LOCAL_STORAGE_KEYS_AUTHENTICATION_TOKEN)}function setPreviouslyLoggedInOffchainUser(){var authenticationTokenFromStorage,offChainDataSource,action,requestClient;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return authenticationTokenFromStorage=getStoredAuthenticationToken(),_context.next=3,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.j);case 3:if(offChainDataSource=_context.sent){_context.next=9;break}return _context.next=7,Object(redux_saga_effects_npm_proxy_esm.j)(actions.a.setOffChainDataSource);case 7:action=_context.sent,offChainDataSource=action.payload;case 9:if(requestClient=offChainDataSource.requestClient,authenticationTokenFromStorage&&requestClient){_context.next=12;break}return _context.abrupt("return");case 12:return requestClient.authenticationToken=authenticationTokenFromStorage,_context.next=15,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.f)(authenticationTokenFromStorage));case 15:case"end":return _context.stop()}}),sagas_marked)}function persistAuthenticationToken(){var action;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(users_actions.a.setAuthenticationToken);case 3:void 0!==(action=_context2.sent).payload&&localStorage.setItem(LOCAL_STORAGE_KEYS_AUTHENTICATION_TOKEN,action.payload),_context2.next=0;break;case 7:case"end":return _context2.stop()}}),sagas_marked2)}function fetchOffchainUserDetails(){var action,authenticationToken,offChainDataSource,userClient,userProfile,organization,organizationClient,_error$response;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=3,Object(redux_saga_effects_npm_proxy_esm.j)([users_actions.a.setAuthenticationToken,users_actions.a.refreshUserOffchain]);case 3:return action=_context3.sent,authenticationToken=action.type===users_actions.a.setAuthenticationToken?action.payload:getStoredAuthenticationToken(),_context3.next=7,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.j);case 7:if(offChainDataSource=_context3.sent,userClient=offChainDataSource.userClient,authenticationToken&&offChainDataSource&&offChainDataSource.requestClient.authenticationToken){_context3.next=11;break}return _context3.abrupt("continue",0);case 11:return _context3.prev=11,_context3.next=14,Object(redux_saga_effects_npm_proxy_esm.c)([userClient,userClient.me]);case 14:if(userProfile=_context3.sent,organization=null,void 0===userProfile.organization){_context3.next=21;break}return organizationClient=offChainDataSource.organizationClient,_context3.next=20,Object(redux_saga_effects_npm_proxy_esm.c)([organizationClient,organizationClient.getById],userProfile.organization);case 20:organization=_context3.sent;case 21:return _context3.next=23,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.g)(_objectSpread({},userProfile,{organization:organization})));case 23:_context3.next=34;break;case 25:if(_context3.prev=25,_context3.t0=_context3.catch(11),console.log("error",_context3.t0,_context3.t0.response),401!==(null===_context3.t0||void 0===_context3.t0||null===(_error$response=_context3.t0.response)||void 0===_error$response?void 0:_error$response.status)){_context3.next=33;break}return _context3.next=31,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.c)());case 31:_context3.next=34;break;case 33:console.warn("unkown error while getting user profile");case 34:_context3.next=0;break;case 36:case"end":return _context3.stop()}}),sagas_marked3,null,[[11,25]])}function logOutSaga(){var requestClient;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(users_actions.a.clearAuthenticationToken);case 3:return localStorage.removeItem(LOCAL_STORAGE_KEYS_AUTHENTICATION_TOKEN),_context4.next=6,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.j);case 6:if(requestClient=_context4.sent.requestClient){_context4.next=9;break}return _context4.abrupt("return");case 9:return requestClient.authenticationToken=null,_context4.next=12,Object(redux_saga_effects_npm_proxy_esm.h)(Object(users_actions.g)(null));case 12:_context4.next=0;break;case 14:case"end":return _context4.stop()}}),sagas_marked4)}function usersSaga(){return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.g)(setPreviouslyLoggedInOffchainUser),Object(redux_saga_effects_npm_proxy_esm.g)(persistAuthenticationToken),Object(redux_saga_effects_npm_proxy_esm.g)(fetchOffchainUserDetails),Object(redux_saga_effects_npm_proxy_esm.g)(logOutSaga)]);case 2:case"end":return _context5.stop()}}),sagas_marked5)}__webpack_require__(96),__webpack_require__(1007),__webpack_require__(28),__webpack_require__(579),__webpack_require__(32);var users_selectors=__webpack_require__(41),certificates_selectors=__webpack_require__(165),account_marked=regeneratorRuntime.mark(assertCorrectBlockchainAccount);function assertCorrectBlockchainAccount(){var user,activeBlockchainAddress,_ref,shouldContinue;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.i)(users_selectors.d);case 2:return user=_context.sent,_context.next=5,Object(redux_saga_effects_npm_proxy_esm.i)(users_selectors.a);case 5:if(activeBlockchainAddress=_context.sent,!user||!user.blockchainAccountAddress||user.blockchainAccountAddress.toLowerCase()!==(null==activeBlockchainAddress?void 0:activeBlockchainAddress.toLowerCase())){_context.next=8;break}return _context.abrupt("return",!0);case 8:return _context.next=10,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.d)({visibility:!0}));case 10:return _context.next=12,Object(redux_saga_effects_npm_proxy_esm.j)(actions.a.accountMismatchModalResolved);case 12:return _ref=_context.sent,shouldContinue=_ref.payload,_context.abrupt("return",shouldContinue);case 15:case"end":return _context.stop()}}),account_marked)}var certificates_sagas_marked=regeneratorRuntime.mark(getCertificate),certificates_sagas_marked2=regeneratorRuntime.mark(requestCertificatesSaga),certificates_sagas_marked3=regeneratorRuntime.mark(openRequestCertificatesModalSaga),certificates_sagas_marked4=regeneratorRuntime.mark(fetchCertificateSaga),certificates_sagas_marked5=regeneratorRuntime.mark(requestCertificateSaga),sagas_marked6=regeneratorRuntime.mark(requestPublishForSaleSaga),sagas_marked7=regeneratorRuntime.mark(requestClaimCertificateSaga),sagas_marked8=regeneratorRuntime.mark(requestClaimCertificateBulkSaga),sagas_marked9=regeneratorRuntime.mark(requestCertificateApprovalSaga),sagas_marked10=regeneratorRuntime.mark(certificatesSaga);function assertIsContractTransaction(data){if("number"==typeof data||!data.hash)throw new Error("Data.hash is not present")}function getCertificate(id){var configuration,certificate;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 2:return configuration=_context.sent,certificate=new js_src.Certificate(id,configuration),_context.next=6,Object(redux_saga_effects_npm_proxy_esm.c)([certificate,certificate.sync]);case 6:return _context.abrupt("return",certificate);case 7:case"end":return _context.stop()}}),certificates_sagas_marked)}function requestCertificatesSaga(){var action,configuration,_action$payload,startTime,endTime,energy,files,deviceId;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.requestCertificates);case 3:return action=_context2.sent,_context2.next=6,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!0));case 6:return _context2.next=8,Object(redux_saga_effects_npm_proxy_esm.h)(Object(certificates_actions.c)());case 8:return _context2.next=10,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 10:return configuration=_context2.sent,_action$payload=action.payload,startTime=_action$payload.startTime,endTime=_action$payload.endTime,energy=_action$payload.energy,files=_action$payload.files,deviceId=_action$payload.deviceId,_context2.prev=12,_context2.next=15,Object(redux_saga_effects_npm_proxy_esm.c)(assertCorrectBlockchainAccount);case 15:if(!_context2.sent){_context2.next=20;break}return _context2.next=19,Object(redux_saga_effects_npm_proxy_esm.b)(js_src.CertificationRequest,js_src.CertificationRequest.create,[startTime,endTime,energy,deviceId,configuration,files]);case 19:Object(utils.x)("Certificates requested.",utils.c.Success);case 20:_context2.next=26;break;case 22:_context2.prev=22,_context2.t0=_context2.catch(12),console.warn("Error while requesting certificates",_context2.t0),Object(utils.x)("Transaction could not be completed.",utils.c.Error);case 26:return _context2.next=28,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 28:_context2.next=0;break;case 30:case"end":return _context2.stop()}}),certificates_sagas_marked2,null,[[12,22]])}function openRequestCertificatesModalSaga(){var _userOffchain$organiz,action,device,userOffchain;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.showRequestCertificatesModal);case 3:return action=_context3.sent,device=action.payload.producingDevice,_context3.next=7,Object(redux_saga_effects_npm_proxy_esm.i)(users_selectors.d);case 7:if(userOffchain=_context3.sent,(null==device?void 0:device.organization)===(null==userOffchain||null===(_userOffchain$organiz=userOffchain.organization)||void 0===_userOffchain$organiz?void 0:_userOffchain$organiz.id)){_context3.next=12;break}Object(utils.x)("You need to own the device to request certificates.",utils.c.Error),_context3.next=14;break;case 12:return _context3.next=14,Object(redux_saga_effects_npm_proxy_esm.h)(Object(certificates_actions.j)(!0));case 14:_context3.next=0;break;case 16:case"end":return _context3.stop()}}),certificates_sagas_marked3)}function fetchCertificateSaga(id,entitiesBeingFetched){var entities,existingEntity,configuration,fetcher,reloadedEntity,fetchedEntity;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!entitiesBeingFetched.has(id)){_context4.next=2;break}return _context4.abrupt("return");case 2:return _context4.next=4,Object(redux_saga_effects_npm_proxy_esm.i)(certificates_selectors.c);case 4:return entities=_context4.sent,_context4.next=7,Object(redux_saga_effects_npm_proxy_esm.c)(certificates_selectors.a,entities,id);case 7:return existingEntity=_context4.sent,_context4.next=10,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 10:return configuration=_context4.sent,_context4.next=13,Object(redux_saga_effects_npm_proxy_esm.i)(certificates_selectors.b);case 13:if(fetcher=_context4.sent,entitiesBeingFetched.set(id,!0),_context4.prev=15,!existingEntity){_context4.next=25;break}return _context4.next=19,Object(redux_saga_effects_npm_proxy_esm.c)(fetcher.reload,existingEntity);case 19:if(!(reloadedEntity=_context4.sent)){_context4.next=23;break}return _context4.next=23,Object(redux_saga_effects_npm_proxy_esm.h)(Object(certificates_actions.l)(reloadedEntity));case 23:_context4.next=31;break;case 25:return _context4.next=27,Object(redux_saga_effects_npm_proxy_esm.c)(fetcher.fetch,id,configuration);case 27:if(!(fetchedEntity=_context4.sent)){_context4.next=31;break}return _context4.next=31,Object(redux_saga_effects_npm_proxy_esm.h)(Object(certificates_actions.b)(fetchedEntity));case 31:_context4.next=36;break;case 33:_context4.prev=33,_context4.t0=_context4.catch(15),console.error("Error while fetching certificate",_context4.t0);case 36:entitiesBeingFetched.delete(id);case 37:case"end":return _context4.stop()}}),certificates_sagas_marked4,null,[[15,33]])}function requestCertificateSaga(){var entitiesBeingFetched,action,entityId;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:entitiesBeingFetched=new Map;case 1:return _context5.next=4,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.requestCertificateEntityFetch);case 4:if((action=_context5.sent).payload){_context5.next=7;break}return _context5.abrupt("continue",1);case 7:return entityId=action.payload,_context5.prev=8,_context5.next=11,Object(redux_saga_effects_npm_proxy_esm.g)(fetchCertificateSaga,entityId,entitiesBeingFetched);case 11:_context5.next=16;break;case 13:_context5.prev=13,_context5.t0=_context5.catch(8),console.error("requestCertificateSaga: error",_context5.t0);case 16:_context5.next=1;break;case 18:case"end":return _context5.stop()}}),certificates_sagas_marked5,null,[[8,13]])}function requestPublishForSaleSaga(){var action,exchangeClient,_action$payload2,amount,certificateId,callback,price,i18n;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.requestPublishForSale);case 3:return action=_context7.sent,_context7.next=6,Object(redux_saga_effects_npm_proxy_esm.i)(selectors.g);case 6:if(exchangeClient=_context7.sent){_context7.next=9;break}return _context7.abrupt("continue",0);case 9:return _context7.next=11,Object(redux_saga_effects_npm_proxy_esm.c)(assertCorrectBlockchainAccount);case 11:if(_context7.sent){_context7.next=14;break}return _context7.abrupt("continue",0);case 14:return _action$payload2=action.payload,amount=_action$payload2.amount,certificateId=_action$payload2.certificateId,callback=_action$payload2.callback,price=_action$payload2.price,i18n=Object(es.a)(),_context7.next=18,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!0));case 18:return _context7.prev=18,_context7.delegateYield(regeneratorRuntime.mark((function _callee(){var account,certificate,transferResult,transfer,transfers;return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,Object(redux_saga_effects_npm_proxy_esm.c)([exchangeClient,exchangeClient.getAccount]);case 2:return account=_context6.sent,_context6.next=5,Object(redux_saga_effects_npm_proxy_esm.c)(getCertificate,certificateId);case 5:return certificate=_context6.sent,_context6.next=8,Object(redux_saga_effects_npm_proxy_esm.c)([certificate,certificate.transfer],account.address,amount);case 8:assertIsContractTransaction(transferResult=_context6.sent),transfer=void 0;case 11:return _context6.next=14,Object(redux_saga_effects_npm_proxy_esm.c)([exchangeClient,exchangeClient.getAllTransfers]);case 14:if(transfers=_context6.sent,!(transfer=transfers.find((function(item){return item.transactionHash===transferResult.hash})))){_context6.next=18;break}return _context6.abrupt("break",22);case 18:return _context6.next=20,Object(redux_saga_effects_npm_proxy_esm.f)(1e3);case 20:_context6.next=11;break;case 22:return _context6.next=24,Object(redux_saga_effects_npm_proxy_esm.c)([exchangeClient,exchangeClient.createAsk],{assetId:transfer.asset.id,price:price,volume:amount.toString(),validFrom:Object(utils.u)().toISOString()});case 24:Object(utils.x)(i18n.t("certificate.feedback.certificatePublished"),utils.c.Success);case 25:case"end":return _context6.stop()}}),_callee)}))(),"t0",20);case 20:_context7.next=26;break;case 22:_context7.prev=22,_context7.t1=_context7.catch(18),console.error(_context7.t1),Object(utils.x)(i18n.t("general.feedback.unknownError"),utils.c.Error);case 26:return _context7.next=28,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 28:if(!callback){_context7.next=31;break}return _context7.next=31,Object(redux_saga_effects_npm_proxy_esm.c)(callback);case 31:_context7.next=0;break;case 33:case"end":return _context7.stop()}}),sagas_marked6,null,[[18,22]])}function requestClaimCertificateSaga(){var action,certificateId,certificate,i18n;return regeneratorRuntime.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.requestClaimCertificate);case 3:return action=_context8.sent,_context8.next=6,Object(redux_saga_effects_npm_proxy_esm.c)(assertCorrectBlockchainAccount);case 6:if(_context8.sent){_context8.next=9;break}return _context8.abrupt("continue",0);case 9:return certificateId=action.payload.certificateId,_context8.next=12,Object(redux_saga_effects_npm_proxy_esm.c)(getCertificate,certificateId);case 12:if(certificate=_context8.sent,i18n=Object(es.a)(),certificate&&certificate.isOwned){_context8.next=17;break}return Object(utils.x)(i18n.t("certificate.feedback.notOwner",{id:certificate.id}),utils.c.Error),_context8.abrupt("continue",0);case 17:return _context8.next=19,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!0));case 19:return _context8.prev=19,_context8.next=22,Object(redux_saga_effects_npm_proxy_esm.c)([certificate,certificate.claim]);case 22:Object(utils.x)(i18n.t("certificate.feedback.claimed",{id:certificate.id}),utils.c.Success),_context8.next=29;break;case 25:_context8.prev=25,_context8.t0=_context8.catch(19),console.error(_context8.t0),Object(utils.x)(i18n.t("general.feedback.unknownError"),utils.c.Error);case 29:return _context8.next=31,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 31:_context8.next=0;break;case 33:case"end":return _context8.stop()}}),sagas_marked7,null,[[19,25]])}function requestClaimCertificateBulkSaga(){var action,configuration,certificateIds,i18n;return regeneratorRuntime.wrap((function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.requestClaimCertificateBulk);case 3:return action=_context9.sent,_context9.next=6,Object(redux_saga_effects_npm_proxy_esm.i)(features_selectors.b);case 6:return configuration=_context9.sent,_context9.next=9,Object(redux_saga_effects_npm_proxy_esm.c)(assertCorrectBlockchainAccount);case 9:if(_context9.sent&&configuration){_context9.next=12;break}return _context9.abrupt("continue",0);case 12:return certificateIds=action.payload.certificateIds,i18n=Object(es.a)(),_context9.next=16,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!0));case 16:return _context9.prev=16,_context9.next=19,Object(redux_saga_effects_npm_proxy_esm.c)(js_src.CertificateUtils.claimCertificates,certificateIds,configuration);case 19:Object(utils.x)(i18n.t("certificate.feedback.certificatesClaimed"),utils.c.Success),_context9.next=26;break;case 22:_context9.prev=22,_context9.t0=_context9.catch(16),console.error(_context9.t0),Object(utils.x)(i18n.t("general.feedback.unknownError"),utils.c.Error);case 26:return _context9.next=28,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 28:_context9.next=0;break;case 30:case"end":return _context9.stop()}}),sagas_marked8,null,[[16,22]])}function requestCertificateApprovalSaga(){var action,_action$payload3,certificationRequest,callback,i18n;return regeneratorRuntime.wrap((function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=3,Object(redux_saga_effects_npm_proxy_esm.j)(certificates_actions.a.requestCertificateApproval);case 3:return action=_context10.sent,_context10.next=6,Object(redux_saga_effects_npm_proxy_esm.c)(assertCorrectBlockchainAccount);case 6:if(_context10.sent){_context10.next=9;break}return _context10.abrupt("continue",0);case 9:return _action$payload3=action.payload,certificationRequest=_action$payload3.certificationRequest,callback=_action$payload3.callback,i18n=Object(es.a)(),_context10.next=13,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!0));case 13:return _context10.prev=13,_context10.next=16,Object(redux_saga_effects_npm_proxy_esm.c)([certificationRequest,certificationRequest.approve]);case 16:Object(utils.x)(i18n.t("certificate.feedback.approved"),utils.c.Success),_context10.next=23;break;case 19:_context10.prev=19,_context10.t0=_context10.catch(13),console.error(_context10.t0),Object(utils.x)(i18n.t("general.feedback.unknownError"),utils.c.Error);case 23:return _context10.next=25,Object(redux_saga_effects_npm_proxy_esm.h)(Object(actions.h)(!1));case 25:if(!callback){_context10.next=28;break}return _context10.next=28,Object(redux_saga_effects_npm_proxy_esm.c)(callback);case 28:_context10.next=0;break;case 30:case"end":return _context10.stop()}}),sagas_marked9,null,[[13,19]])}function certificatesSaga(){return regeneratorRuntime.wrap((function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,Object(redux_saga_effects_npm_proxy_esm.a)([Object(redux_saga_effects_npm_proxy_esm.g)(requestCertificatesSaga),Object(redux_saga_effects_npm_proxy_esm.g)(openRequestCertificatesModalSaga),Object(redux_saga_effects_npm_proxy_esm.g)(requestCertificateSaga),Object(redux_saga_effects_npm_proxy_esm.g)(requestPublishForSaleSaga),Object(redux_saga_effects_npm_proxy_esm.g)(requestClaimCertificateSaga),Object(redux_saga_effects_npm_proxy_esm.g)(requestClaimCertificateBulkSaga),Object(redux_saga_effects_npm_proxy_esm.g)(requestCertificateApprovalSaga)]);case 2:case"end":return _context11.stop()}}),sagas_marked10)}__webpack_require__.d(__webpack_exports__,"a",(function(){return sagas}));var sagas={generalSaga:generalSaga,usersSaga:usersSaga,certificatesSaga:certificatesSaga}},29:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(1661)),__export(__webpack_require__(1662)),__export(__webpack_require__(1663)),__export(__webpack_require__(1664)),__export(__webpack_require__(1665)),__export(__webpack_require__(1666)),__export(__webpack_require__(1667)),__export(__webpack_require__(1668))},293:function(module,__webpack_exports__,__webpack_require__){"use strict";var Actions;__webpack_require__.d(__webpack_exports__,"a",(function(){return Actions})),__webpack_require__.d(__webpack_exports__,"b",(function(){return configurationUpdated})),function(Actions){Actions.producingDeviceCreatedOrUpdated="PRODUCING_DEVICE_CREATED_OR_UPDATED",Actions.configurationUpdated="CONFIGURATION_UPDATED"}(Actions||(Actions={}));var configurationUpdated=function(conf){return{type:Actions.configurationUpdated,conf:conf}}},34:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NotificationType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return showNotification}));var NotificationType,toastr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1020),toastr__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_0__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71);!function(NotificationType){NotificationType.Success="success",NotificationType.Info="info",NotificationType.Error="error",NotificationType.Warning="warning"}(NotificationType||(NotificationType={}));var DEFAULT_OPTIONS={timeOut:6e3};function showNotification(message){var type=1<arguments.length&&void 0!==arguments[1]?arguments[1]:NotificationType.Info,options=2<arguments.length&&void 0!==arguments[2]?arguments[2]:DEFAULT_OPTIONS;toastr__WEBPACK_IMPORTED_MODULE_0___default.a[type.toLowerCase()](message,Object(react_i18next__WEBPACK_IMPORTED_MODULE_1__.a)().t("notification.type.".concat(type)),options)}},355:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MultiSelectAutocomplete}));__webpack_require__(30),__webpack_require__(119),__webpack_require__(97);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_material_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(159),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(304),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1868),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(520),_material_ui_lab__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1865),_utils_configuration__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(177);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function MultiSelectAutocomplete(props){var label=props.label,placeholder=props.placeholder,options=props.options,selectedValues=props.selectedValues,disabled=props.disabled,className=props.className,max=props.max,styleConfig=Object(_utils_configuration__WEBPACK_IMPORTED_MODULE_10__.a)().styleConfig,classes=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.a)((function(){return Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a)({clearIndicator:{color:styleConfig.FIELD_ICON_COLOR},popupIndicator:{color:styleConfig.FIELD_ICON_COLOR}})}))(Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.a)());return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:className},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_lab__WEBPACK_IMPORTED_MODULE_9__.a,{multiple:!0,filterSelectedOptions:!0,options:options,getOptionLabel:function getOptionLabel(option){return option.label},onChange:function onChange(event,value){props.onChange(value?value.slice(0,null!=max?max:value.length):value)},value:selectedValues,renderTags:function renderTags(value,getTagProps){return value.map((function(option,index){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.a,_extends({label:option.label,color:"primary",key:option.value,disabled:disabled},getTagProps({index:index})))}))},renderInput:function renderInput(params){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.a,_extends({},params,{label:label,placeholder:placeholder,fullWidth:!0,variant:"filled"}))},getOptionSelected:function getOptionSelected(option,value){return option.value===value.value},getOptionDisabled:function getOptionDisabled(){return disabled},disabled:disabled,classes:classes}))}MultiSelectAutocomplete.displayName="MultiSelectAutocomplete",MultiSelectAutocomplete.__docgenInfo={description:"",methods:[],displayName:"MultiSelectAutocomplete",props:{label:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!0,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"IAutocompleteMultiSelectOptionType"}],raw:"IAutocompleteMultiSelectOptionType[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: IAutocompleteMultiSelectOptionType[]) => void",signature:{arguments:[{name:"value",type:{name:"Array",elements:[{name:"IAutocompleteMultiSelectOptionType"}],raw:"IAutocompleteMultiSelectOptionType[]"}}],return:{name:"void"}}},description:""},selectedValues:{required:!0,tsType:{name:"Array",elements:[{name:"IAutocompleteMultiSelectOptionType"}],raw:"IAutocompleteMultiSelectOptionType[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},max:{required:!1,tsType:{name:"number"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MultiSelectAutocomplete.tsx"]={name:"MultiSelectAutocomplete",docgenInfo:MultiSelectAutocomplete.__docgenInfo,path:"src/components/MultiSelectAutocomplete.tsx"})},361:function(module,__webpack_exports__,__webpack_require__){"use strict";var Exchange=__webpack_require__(403),react=(__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(55),__webpack_require__(65),__webpack_require__(44),__webpack_require__(24),__webpack_require__(28),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(16),__webpack_require__(46),__webpack_require__(32),__webpack_require__(33),__webpack_require__(66),__webpack_require__(26),__webpack_require__(43),__webpack_require__(0)),react_default=__webpack_require__.n(react),es=__webpack_require__(8),Grid=__webpack_require__(142),selectors=__webpack_require__(19),utils=__webpack_require__(2),TableMaterial=(__webpack_require__(30),__webpack_require__(119),__webpack_require__(384),__webpack_require__(134)),PaginatedLoaderHooks=__webpack_require__(133),EnergyFormatter=__webpack_require__(138),Typography=__webpack_require__(141),exchange=__webpack_require__(201);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Trades(props){var currency=props.currency,data=props.data,title=props.title,t=Object(utils.C)().t;function _getPaginatedData(){return(_getPaginatedData=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref2){var requestedPageSize,offset,newPaginatedData,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return requestedPageSize=_ref2.requestedPageSize,offset=_ref2.offset,newTotal=(newPaginatedData=data).length,newPaginatedData=newPaginatedData.sort((function(a,b){return Object(utils.u)(b.created).unix()-Object(utils.u)(a.created).unix()})).slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:newPaginatedData,total:newTotal});case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoaderFi=Object(PaginatedLoaderHooks.c)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoaderFi.paginatedData,loadPage=_usePaginatedLoaderFi.loadPage,total=_usePaginatedLoaderFi.total,pageSize=_usePaginatedLoaderFi.pageSize;Object(react.useEffect)((function(){var isMounted=!0;return loadPage(1,null,(function(){return isMounted})),function(){isMounted=!1}}),[props.data]);var columns=[{id:"date",label:t("exchange.info.date")},{id:"side",label:t("exchange.info.side")},{id:"volume",label:t("exchange.info.volume",{unit:EnergyFormatter.a.displayUnit})},{id:"price",label:t("exchange.info.price",{currency:currency,energyUnit:EnergyFormatter.a.displayUnit})},{id:"total",label:t("exchange.info.total")}],rows=paginatedData.map((function(_ref){var price=_ref.price,volume=_ref.volume,created=_ref.created,bidId=_ref.bidId,priceInDisplayUnit=(price/100).toString();return{date:Object(utils.j)(created,!0),side:t(bidId?"exchange.info.buy":"exchange.info.sell"),volume:EnergyFormatter.a.format(volume),price:priceInDisplayUnit,total:"".concat(Object(utils.i)(Object(exchange.c)(priceInDisplayUnit,EnergyFormatter.a.format(volume)),currency))}}));return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Typography.a,{variant:"h3",gutterBottom:!0},title),react_default.a.createElement(TableMaterial.a,{columns:columns,rows:rows,loadPage:loadPage,total:total,pageSize:pageSize}))}function MyTrades_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function MyTrades(props){var _refreshInterval$prop=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({refreshInterval:1e4},props),currency=_refreshInterval$prop.currency,refreshInterval=_refreshInterval$prop.refreshInterval,exchangeClient=Object(es.e)(selectors.g),t=Object(utils.C)().t,_useState2=_slicedToArray(Object(react.useState)([]),2),data=_useState2[0],setData=_useState2[1],fetchData=function(){var _ref=function MyTrades_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){MyTrades_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){MyTrades_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(checkIsMounted){var _ref2,fetchedData;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,null==exchangeClient?void 0:exchangeClient.getTrades();case 2:if(_context.t1=_ref2=_context.sent,_context.t0=null!==_context.t1,!_context.t0){_context.next=6;break}_context.t0=void 0!==_ref2;case 6:if(!_context.t0){_context.next=10;break}_context.t2=_ref2,_context.next=11;break;case 10:_context.t2=[];case 11:fetchedData=_context.t2,checkIsMounted()&&setData(fetchedData);case 13:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}();return Object(utils.z)(fetchData,refreshInterval),react_default.a.createElement("div",null,react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:12},react_default.a.createElement(Trades,{currency:currency,data:data,title:t("exchange.info.myTrades")}))))}Trades.__docgenInfo={description:"",methods:[],displayName:"Trades",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"ITradeDTO"}],raw:"ITradeDTO[]"},description:""},currency:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/exchange/Trades.tsx"]={name:"Trades",docgenInfo:Trades.__docgenInfo,path:"src/components/exchange/Trades.tsx"}),MyTrades.displayName="MyTrades",MyTrades.__docgenInfo={description:"",methods:[],displayName:"MyTrades",props:{currency:{required:!0,tsType:{name:"string"},description:""},refreshInterval:{required:!1,tsType:{name:"number"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/exchange/MyTrades.tsx"]={name:"MyTrades",docgenInfo:MyTrades.__docgenInfo,path:"src/components/exchange/MyTrades.tsx"});var Orders=__webpack_require__(406),features=(__webpack_require__(587),__webpack_require__(97),__webpack_require__(195),__webpack_require__(98),__webpack_require__(320),__webpack_require__(91)),InputAdornment=__webpack_require__(521),TableCell=__webpack_require__(363),Button=__webpack_require__(273),users_selectors=__webpack_require__(41),Form=__webpack_require__(229),formik_esm=__webpack_require__(17);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function Asks_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Asks_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Asks_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Asks_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Asks_slicedToArray(arr,i){return function Asks_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Asks_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Asks_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Asks_ref=react_default.a.createElement("br",null),Asks_ref2=react_default.a.createElement("br",null),_ref3=react_default.a.createElement("br",null),_ref4=react_default.a.createElement("br",null),_ref5=react_default.a.createElement("br",null),_ref6=react_default.a.createElement("br",null),_ref7=react_default.a.createElement("br",null);function Asks(props){var _device$deviceType,_user$id,buyDirect=props.buyDirect,displayAssetDetails=props.displayAssetDetails,energyUnit=props.energyUnit,currency=props.currency,exchangeClient=Object(es.e)(features.d),offChainDataSource=Object(es.e)(features.e),environment=Object(es.e)(features.c),user=Object(es.e)(users_selectors.d),t=Object(utils.C)().t,Yup=Object(utils.D)().Yup,_useState2=Asks_slicedToArray(Object(react.useState)(null),2),selectedOrder=_useState2[0],setSelectedOrder=_useState2[1],_useState4=Asks_slicedToArray(Object(react.useState)(),2),asset=_useState4[0],setAsset=_useState4[1],_useState6=Asks_slicedToArray(Object(react.useState)(),2),device=_useState6[0],setDevice=_useState6[1],_useState8=Asks_slicedToArray(Object(react.useState)(!1),2),buyDirectExpanded=_useState8[0],setBuyDirectExpanded=_useState8[1];function _fetchDetails(){return(_fetchDetails=Asks_asyncToGenerator(regeneratorRuntime.mark((function _callee(assetId){var newAsset,newDevice;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(assetId){_context.next=4;break}return setAsset(null),setDevice(null),_context.abrupt("return");case 4:return _context.next=6,exchangeClient.getAssetById(selectedOrder.assetId);case 6:return newAsset=_context.sent,_context.next=9,offChainDataSource.deviceClient.getByExternalId({id:newAsset.deviceId,type:environment.ISSUER_ID});case 9:newDevice=_context.sent,setAsset(newAsset),setDevice(newDevice);case 12:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}Object(react.useEffect)((function(){return function fetchDetails(){return _fetchDetails.apply(this,arguments)}(null==selectedOrder?void 0:selectedOrder.assetId),function(){setAsset(null),setDevice(null)}}),[selectedOrder]);var VALIDATION_SCHEMA=Yup.object().shape({energy:Yup.number().positive().integer().max(selectedOrder?utils.b.getValueInDisplayUnit(selectedOrder.volume):0).label(t("exchange.properties.energy"))}),_ref8=react_default.a.createElement(InputAdornment.a,{position:"end"},energyUnit);return react_default.a.createElement(Orders.a,_extends({handleRowClick:function handleRowClick(newOrder){(null==selectedOrder?void 0:selectedOrder.id)===(null==newOrder?void 0:newOrder.id)?setSelectedOrder(null):setSelectedOrder(newOrder)},customRow:selectedOrder&&displayAssetDetails&&device?{shouldDisplay:function shouldDisplay(row){return(null==row?void 0:row.id)===(null==selectedOrder?void 0:selectedOrder.id)},display:react_default.a.createElement(TableCell.a,{colSpan:2},t("device.properties.facilityName"),": ",null==device?void 0:device.facilityName,Asks_ref,Asks_ref2,t("device.properties.constructed"),":"," ",(null==device?void 0:device.operationalSince)&&utils.u.unix(device.operationalSince).year(),_ref3,_ref4,t("device.properties.deviceType"),":"," ",null==device||null===(_device$deviceType=device.deviceType)||void 0===_device$deviceType?void 0:_device$deviceType.split(";").join(" - "),_ref5,_ref6,t("exchange.properties.generationFrom"),":"," ",Object(utils.j)(asset.generationFrom)," ",_ref7,t("exchange.properties.generationTo"),":"," ",Object(utils.j)(asset.generationTo),(null==selectedOrder?void 0:selectedOrder.userId)!==(null==user||null===(_user$id=user.id)||void 0===_user$id?void 0:_user$id.toString())&&react_default.a.createElement(formik_esm.d,{initialValues:{energy:"1"},validationSchema:VALIDATION_SCHEMA,validateOnMount:!1,onSubmit:null},(function(formikProps){var isValid=formikProps.isValid,values=formikProps.values;return react_default.a.createElement(formik_esm.c,{translate:""},react_default.a.createElement(Grid.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center"},buyDirectExpanded&&react_default.a.createElement(Grid.a,{item:!0,xs:9},react_default.a.createElement(Form.a,{label:t("exchange.properties.energy"),property:"energy",className:"mt-3",required:!0,InputProps:{endAdornment:_ref8}})),react_default.a.createElement(Grid.a,{item:!0,xs:3},react_default.a.createElement(Button.a,{onClick:function onClick(){var _EnergyFormatter$getB;buyDirectExpanded?buyDirect(selectedOrder.id,null===(_EnergyFormatter$getB=utils.b.getBaseValueFromValueInDisplayUnit(parseInt(values.energy,10)))||void 0===_EnergyFormatter$getB?void 0:_EnergyFormatter$getB.toString(),selectedOrder.price):setBuyDirectExpanded(!0)},disabled:!isValid,style:{height:"72px",lineHeight:"72px"}},t("exchange.actions.buy")))),buyDirectExpanded&&isValid&&react_default.a.createElement(react_default.a.Fragment,null,t("exchange.feedback.total"),":"," ",Object(exchange.c)((selectedOrder.price/100).toString(),values.energy),currency))})))}:null},props))}Asks.displayName="Asks",Asks.__docgenInfo={description:"",methods:[],displayName:"Asks",props:{buyDirect:{required:!0,tsType:{name:"signature",type:"function",raw:"(orderId: string, volume: string, price: number) => void",signature:{arguments:[{name:"orderId",type:{name:"string"}},{name:"volume",type:{name:"string"}},{name:"price",type:{name:"number"}}],return:{name:"void"}}},description:""},energyUnit:{required:!0,tsType:{name:"string"},description:""},displayAssetDetails:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/exchange/Asks.tsx"]={name:"Asks",docgenInfo:Asks.__docgenInfo,path:"src/components/exchange/Asks.tsx"}),__webpack_require__.d(__webpack_exports__,"b",(function(){return Exchange.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MyTrades})),__webpack_require__.d(__webpack_exports__,"d",(function(){return Orders.a})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Asks}))},403:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Exchange}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(55),__webpack_require__(65),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(1007),__webpack_require__(28),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(16),__webpack_require__(211),__webpack_require__(46),__webpack_require__(98),__webpack_require__(32),__webpack_require__(33),__webpack_require__(452),__webpack_require__(66),__webpack_require__(26),__webpack_require__(43);var react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_26__),_Market__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(413),_utils__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(2),___WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(361),_material_ui_core__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(142),_features_users_selectors__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(41),_features_general_selectors__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(19),react_redux__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(8),_features_general_actions__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(13);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _ref3=react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement("br",null),_ref4=react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement("br",null);function Exchange(props){var _user$id,_user$id2,_refreshInterval$prop=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({refreshInterval:5e3},props),currency=_refreshInterval$prop.currency,refreshInterval=_refreshInterval$prop.refreshInterval,user=Object(react_redux__WEBPACK_IMPORTED_MODULE_33__.e)(_features_users_selectors__WEBPACK_IMPORTED_MODULE_31__.d),exchangeClient=Object(react_redux__WEBPACK_IMPORTED_MODULE_33__.e)(_features_general_selectors__WEBPACK_IMPORTED_MODULE_32__.g),country=Object(react_redux__WEBPACK_IMPORTED_MODULE_33__.e)(_features_general_selectors__WEBPACK_IMPORTED_MODULE_32__.c),dispatch=Object(react_redux__WEBPACK_IMPORTED_MODULE_33__.d)(),t=Object(_utils__WEBPACK_IMPORTED_MODULE_28__.C)().t,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_26__.useState)({asks:[],bids:[]}),2),data=_useState2[0],setData=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_26__.useState)([]),2),deviceType=_useState4[0],setDeviceType=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_26__.useState)([]),2),location=_useState6[0],setLocation=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_26__.useState)([]),2),gridOperator=_useState8[0],setGridOperator=_useState8[1],_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_26__.useState)(),2),generationDateStart=_useState10[0],setGenerationDateStart=_useState10[1],_useState12=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_26__.useState)(),2),generationDateEnd=_useState12[0],setGenerationDateEnd=_useState12[1],fetchData=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(checkIsMounted){var _ref2,fetchedData;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,null==exchangeClient?void 0:exchangeClient.search(deviceType,location,gridOperator,generationDateStart,generationDateEnd);case 2:if(_context.t1=_ref2=_context.sent,_context.t0=null!==_context.t1,!_context.t0){_context.next=6;break}_context.t0=void 0!==_ref2;case 6:if(!_context.t0){_context.next=10;break}_context.t2=_ref2,_context.next=11;break;case 10:_context.t2={asks:[],bids:[]};case 11:fetchedData=_context.t2,checkIsMounted()&&setData(fetchedData);case 13:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}();function _onBid(){return(_onBid=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(values){var _values$deviceType,_values$location,_values$location2;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_34__.h)(!0)),_context2.next=3,exchangeClient.createBid({price:100*parseFloat(values.price),product:{deviceType:0<(null===(_values$deviceType=values.deviceType)||void 0===_values$deviceType?void 0:_values$deviceType.length)?values.deviceType:void 0,location:0<(null===(_values$location=values.location)||void 0===_values$location?void 0:_values$location.length)?null===(_values$location2=values.location)||void 0===_values$location2?void 0:_values$location2.map((function(l){return"".concat(country,";").concat(l)})):void 0,generationFrom:generationDateStart,generationTo:generationDateEnd},validFrom:Object(_utils__WEBPACK_IMPORTED_MODULE_28__.u)().toISOString(),volume:_utils__WEBPACK_IMPORTED_MODULE_28__.b.getBaseValueFromValueInDisplayUnit(parseFloat(values.energy)).toString()});case 3:dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_34__.h)(!1));case 4:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function _buyDirect(){return(_buyDirect=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(orderId,volume,price){return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(void 0!==orderId&&void 0!==volume&&void 0!==price){_context3.next=2;break}throw new Error("Can't buyDirect order with undefined parameters passed");case 2:return dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_34__.h)(!0)),_context3.next=5,exchangeClient.directBuy({askId:orderId,volume:volume,price:price});case 5:dispatch(Object(_features_general_actions__WEBPACK_IMPORTED_MODULE_34__.h)(!1));case 6:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}return Object(_utils__WEBPACK_IMPORTED_MODULE_28__.z)(fetchData,refreshInterval,[deviceType,location,gridOperator,generationDateStart,generationDateEnd]),react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement(_Market__WEBPACK_IMPORTED_MODULE_27__.a,{onBid:function onBid(){return _onBid.apply(this,arguments)},onNotify:function onNotify(){},onChange:function onChange(values){var _values$generationDat,_values$generationDat2;JSON.stringify(values.deviceType)!==JSON.stringify(deviceType)&&setDeviceType(values.deviceType);var newLocation=values.location.map((function(l){return"".concat(country,";").concat(l)}));JSON.stringify(newLocation)!==JSON.stringify(location)&&setLocation(newLocation);var newGridOperator=values.gridOperator;JSON.stringify(newGridOperator)!==JSON.stringify(gridOperator)&&setGridOperator(newGridOperator);var newGenerationDateStart=null===(_values$generationDat=values.generationDateStart)||void 0===_values$generationDat?void 0:_values$generationDat.startOf("month").toISOString();JSON.stringify(newGenerationDateStart)!==JSON.stringify(generationDateStart)&&setGenerationDateStart(newGenerationDateStart);var newGenerationDateEnd=null===(_values$generationDat2=values.generationDateEnd)||void 0===_values$generationDat2?void 0:_values$generationDat2.endOf("month").toISOString();JSON.stringify(newGenerationDateEnd)!==JSON.stringify(generationDateEnd)&&setGenerationDateEnd(newGenerationDateEnd)},energyUnit:_utils__WEBPACK_IMPORTED_MODULE_28__.b.displayUnit,currency:currency,disableBidding:!user}),_ref3,_ref4,react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_30__.a,{container:!0,spacing:3},react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_30__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement(___WEBPACK_IMPORTED_MODULE_29__.a,{data:data.asks,currency:currency,title:t("exchange.info.asks"),highlightOrdersUserId:null==user||null===(_user$id=user.id)||void 0===_user$id?void 0:_user$id.toString(),displayAssetDetails:!0,buyDirect:function buyDirect(){return _buyDirect.apply(this,arguments)},energyUnit:_utils__WEBPACK_IMPORTED_MODULE_28__.b.displayUnit})),react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_30__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_26___default.a.createElement(___WEBPACK_IMPORTED_MODULE_29__.d,{data:data.bids,currency:currency,title:t("exchange.info.bids"),highlightOrdersUserId:null==user||null===(_user$id2=user.id)||void 0===_user$id2?void 0:_user$id2.toString()}))))}Exchange.displayName="Exchange",Exchange.__docgenInfo={description:"",methods:[],displayName:"Exchange",props:{currency:{required:!0,tsType:{name:"string"},description:""},refreshInterval:{required:!1,tsType:{name:"number"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/exchange/Exchange.tsx"]={name:"Exchange",docgenInfo:Exchange.__docgenInfo,path:"src/components/exchange/Exchange.tsx"})},404:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormCountrySelect}));__webpack_require__(30),__webpack_require__(118),__webpack_require__(97);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_FormSelect__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(509),_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(64);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var COUNTRY_OPTIONS=_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_5__.Countries.map((function(country){return{value:country.id,label:country.name}}));function FormCountrySelect(props){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_FormSelect__WEBPACK_IMPORTED_MODULE_4__.a,_extends({options:COUNTRY_OPTIONS},props))}FormCountrySelect.displayName="FormCountrySelect",FormCountrySelect.__docgenInfo={description:"",methods:[],displayName:"FormCountrySelect",props:{label:{required:!0,tsType:{name:"string"},description:""},property:{required:!0,tsType:{name:"string"},description:""},currentValue:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormCountrySelect.tsx"]={name:"FormCountrySelect",docgenInfo:FormCountrySelect.__docgenInfo,path:"src/components/Form/FormCountrySelect.tsx"})},405:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormikDatePicker})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FormikDatePickerWithMonthArrowsFilled}));__webpack_require__(22),__webpack_require__(210),__webpack_require__(24),__webpack_require__(118),__webpack_require__(97),__webpack_require__(57),__webpack_require__(16),__webpack_require__(26);var react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_material_ui_icons__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1860),_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1861),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(520),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(521),_material_ui_pickers__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1849),formik_material_ui_pickers__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1044),formik__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(17),_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var TextFieldWithArrows=function(_ref){var onLeftArrowClick=_ref.onLeftArrowClick,onRightArrowClick=_ref.onRightArrowClick,rest=_objectWithoutProperties(_ref,["onLeftArrowClick","onRightArrowClick"]);return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a,_extends({},rest,{InputProps:{endAdornment:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{position:"end"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_9__.a,{style:{cursor:"pointer"},onClick:function onClick(event){event.stopPropagation(),onLeftArrowClick()}}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__.a,{style:{cursor:"pointer"},onClick:function onClick(event){event.stopPropagation(),onRightArrowClick()}}))}}))};TextFieldWithArrows.displayName="TextFieldWithArrows";var FormikDatePickerWithArrows=function(_ref2){var onLeftArrowClick=_ref2.onLeftArrowClick,onRightArrowClick=_ref2.onRightArrowClick,rest=_objectWithoutProperties(_ref2,["onLeftArrowClick","onRightArrowClick"]);return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(formik_material_ui_pickers__WEBPACK_IMPORTED_MODULE_14__.a,_extends({format:_utils__WEBPACK_IMPORTED_MODULE_16__.a,TextFieldComponent:function TextFieldComponent(props){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(TextFieldWithArrows,_extends({onLeftArrowClick:onLeftArrowClick,onRightArrowClick:onRightArrowClick},props))}},rest))};FormikDatePickerWithArrows.displayName="FormikDatePickerWithArrows";var FormikDatePicker=function(_ref3){var setFieldValue=_ref3.form.setFieldValue,_ref3$field=_ref3.field,name=_ref3$field.name,value=_ref3$field.value,rest=_objectWithoutProperties(_ref3,["form","field"]);return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_13__.a,_extends({onChange:function onChange(newValue){return setFieldValue(name,newValue)},value:value,format:_utils__WEBPACK_IMPORTED_MODULE_16__.a},rest))};FormikDatePicker.displayName="FormikDatePicker";var FormikDatePickerWithMonthArrowsFilled=function(_ref4){var name=_ref4.name,label=_ref4.label,disabled=_ref4.disabled,required=_ref4.required,_useFormikContext=Object(formik__WEBPACK_IMPORTED_MODULE_15__.g)(),setFieldValue=_useFormikContext.setFieldValue,values=_useFormikContext.values;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_15__.a,{name:name,label:label,inputVariant:"filled",variant:"inline",fullWidth:!0,required:required,component:FormikDatePickerWithArrows,disabled:disabled,views:["year","month"],format:null,onLeftArrowClick:function onLeftArrowClick(){return setFieldValue(name,values[name].clone().subtract(1,"month").startOf("month"))},onRightArrowClick:function onRightArrowClick(){return values[name]&&setFieldValue(name,values[name].clone().add(1,"month").endOf("month"))}})};FormikDatePickerWithMonthArrowsFilled.displayName="FormikDatePickerWithMonthArrowsFilled",FormikDatePickerWithArrows.__docgenInfo={description:"",methods:[],displayName:"FormikDatePickerWithArrows",props:{onLeftArrowClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRightArrowClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormikDatePicker.tsx"]={name:"FormikDatePickerWithArrows",docgenInfo:FormikDatePickerWithArrows.__docgenInfo,path:"src/components/Form/FormikDatePicker.tsx"}),FormikDatePicker.__docgenInfo={description:"",methods:[],displayName:"FormikDatePicker"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormikDatePicker.tsx"]={name:"FormikDatePicker",docgenInfo:FormikDatePicker.__docgenInfo,path:"src/components/Form/FormikDatePicker.tsx"}),FormikDatePickerWithMonthArrowsFilled.__docgenInfo={description:"",methods:[],displayName:"FormikDatePickerWithMonthArrowsFilled",props:{name:{required:!0,tsType:{name:"string"},description:""},label:{required:!0,tsType:{name:"string"},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""},required:{required:!0,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormikDatePicker.tsx"]={name:"FormikDatePickerWithMonthArrowsFilled",docgenInfo:FormikDatePickerWithMonthArrowsFilled.__docgenInfo,path:"src/components/Form/FormikDatePicker.tsx"})},406:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Orders}));__webpack_require__(96),__webpack_require__(30),__webpack_require__(119),__webpack_require__(610),__webpack_require__(16),__webpack_require__(46),__webpack_require__(43);var react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_Table_TableMaterial__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(134),_Table_PaginatedLoaderHooks__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(133),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(141),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Orders(props){var currency=props.currency,data=props.data,title=props.title,highlightOrdersUserId=props.highlightOrdersUserId,handleRowClick=props.handleRowClick,customRow=props.customRow,t=Object(_utils__WEBPACK_IMPORTED_MODULE_11__.C)().t;function _getPaginatedData(){return(_getPaginatedData=_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref2){var requestedPageSize,offset,newPaginatedData,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return requestedPageSize=_ref2.requestedPageSize,offset=_ref2.offset,newTotal=(newPaginatedData=data).length,newPaginatedData=newPaginatedData.slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:newPaginatedData,total:newTotal});case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoaderFi=Object(_Table_PaginatedLoaderHooks__WEBPACK_IMPORTED_MODULE_9__.c)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoaderFi.paginatedData,loadPage=_usePaginatedLoaderFi.loadPage,total=_usePaginatedLoaderFi.total,pageSize=_usePaginatedLoaderFi.pageSize;Object(react__WEBPACK_IMPORTED_MODULE_7__.useEffect)((function(){var isMounted=!0;return loadPage(1,null,(function(){return isMounted})),function(){isMounted=!1}}),[props.data]);var columns=[{id:"volume",label:t("exchange.info.volume",{unit:_utils__WEBPACK_IMPORTED_MODULE_11__.b.displayUnit})},{id:"price",label:t("exchange.info.price",{currency:currency,energyUnit:_utils__WEBPACK_IMPORTED_MODULE_11__.b.displayUnit})}],highlightedRowsIndexes=[],rows=paginatedData.map((function(_ref,index){var id=_ref.id,price=_ref.price,volume=_ref.volume,userId=_ref.userId;return null!=userId&&userId===highlightOrdersUserId&&highlightedRowsIndexes.push(index),{id:id,volume:_utils__WEBPACK_IMPORTED_MODULE_11__.b.format(volume),price:(price/100).toFixed(2)}}));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{variant:"h3",gutterBottom:!0},title),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_Table_TableMaterial__WEBPACK_IMPORTED_MODULE_8__.a,{columns:columns,rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,highlightedRowsIds:highlightedRowsIndexes,handleRowClick:handleRowClick?function(id){handleRowClick(null==paginatedData?void 0:paginatedData.find((function(r){return r.id===id})))}:null,customRow:customRow}))}Orders.__docgenInfo={description:"",methods:[],displayName:"Orders",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"IOrderBookOrderDTO"}],raw:"IOrderBookOrderDTO[]"},description:""},currency:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},highlightOrdersUserId:{required:!0,tsType:{name:"string"},description:""},handleRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(order: IOrderBookOrderDTO) => void",signature:{arguments:[{name:"order",type:{name:"IOrderBookOrderDTO"}}],return:{name:"void"}}},description:""},customRow:{required:!1,tsType:{name:"ICustomRow",elements:[{name:"any"}],raw:"ICustomRow<any>"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/exchange/Orders.tsx"]={name:"Orders",docgenInfo:Orders.__docgenInfo,path:"src/components/exchange/Orders.tsx"})},407:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(55),__webpack_require__(96),__webpack_require__(210),__webpack_require__(30),__webpack_require__(97);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),es=__webpack_require__(8),FilledInput=__webpack_require__(1046),MenuItem=__webpack_require__(1847),FormControl=__webpack_require__(1047),TextField=__webpack_require__(520),InputLabel=__webpack_require__(1051),Select=__webpack_require__(1864),Chip=__webpack_require__(1868),DatePicker=__webpack_require__(1849),FiltersHeader=__webpack_require__(186),makeStyles=__webpack_require__(159),createStyles=__webpack_require__(304),useTheme=__webpack_require__(89),Slider=__webpack_require__(1935),utils_configuration=__webpack_require__(177);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var _ref=react_default.a.createElement("span",{className:"bar"}),_ref2=react_default.a.createElement("span",{className:"bar"}),_ref3=react_default.a.createElement("span",{className:"bar"});function CustomSliderThumbComponent(props){return react_default.a.createElement("span",props,props.children,_ref,_ref2,_ref3)}function CustomSlider(props){var customSliderStyle=Object(utils_configuration.a)().customSliderStyle,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)(customSliderStyle)}))(Object(useTheme.a)());return react_default.a.createElement(Slider.a,_extends({},props,{classes:classes}))}CustomSliderThumbComponent.displayName="CustomSliderThumbComponent",CustomSlider.displayName="CustomSlider",CustomSliderThumbComponent.__docgenInfo={description:"",methods:[],displayName:"CustomSliderThumbComponent",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSlider.tsx"]={name:"CustomSliderThumbComponent",docgenInfo:CustomSliderThumbComponent.__docgenInfo,path:"src/components/CustomSlider.tsx"}),CustomSlider.__docgenInfo={description:"",methods:[],displayName:"CustomSlider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSlider.tsx"]={name:"CustomSlider",docgenInfo:CustomSlider.__docgenInfo,path:"src/components/CustomSlider.tsx"});var utils=__webpack_require__(2),HierarchicalMultiSelect=__webpack_require__(157),selectors=__webpack_require__(53);function IndividualFilter_extends(){return(IndividualFilter_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"a",(function(){return IndividualFilter}));var IndividualFilter_ref=react_default.a.createElement(FilledInput.a,null),IndividualFilter_ref2=react_default.a.createElement(FilledInput.a,null),IndividualFilter_ref3=react_default.a.createElement(MenuItem.a,{value:""},"Any");function IndividualFilter(props){var _configuration$device,filter=props.filter,configuration=Object(es.e)(selectors.b);if(!filter)return null;switch(filter.input.type){case FiltersHeader.a.string:return react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled"},react_default.a.createElement(TextField.a,IndividualFilter_extends({onChange:function onChange(e){return props.changeFilterValue(filter,e.target.value)},value:filter.selectedValue?filter.selectedValue:"",label:filter.label,fullWidth:!0,variant:"filled"},Object(utils.g)("".concat(filter.label,"-textfield")))));case FiltersHeader.a.multiselect:return react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled"},react_default.a.createElement(InputLabel.a,null,filter.label),react_default.a.createElement(Select.a,{multiple:!0,value:filter.selectedValue,onChange:function onChange(e){return props.changeFilterValue(filter,e.target.value)},input:IndividualFilter_ref,renderValue:function renderValue(selected){return react_default.a.createElement(react_default.a.Fragment,null,selected.map((function(value){return react_default.a.createElement(Chip.a,{color:"primary",key:value,label:filter.input.availableOptions.find((function(o){return o.value===value})).label})})))}},filter.input.availableOptions.map((function(option){return react_default.a.createElement(MenuItem.a,{key:option.value,value:option.value,style:{fontWeight:-1===filter.selectedValue.indexOf(option.value)?300:600}},option.label)}))));case FiltersHeader.a.deviceType:return react_default.a.createElement(HierarchicalMultiSelect.a,{selectedValue:filter.selectedValue?filter.selectedValue:[],onChange:function onChange(e){return props.changeFilterValue(filter,e)},allValues:null==configuration||null===(_configuration$device=configuration.deviceTypeService)||void 0===_configuration$device?void 0:_configuration$device.deviceTypes,selectOptions:[{label:"Device type",placeholder:"Select device type"},{label:"Device type",placeholder:"Select device type"},{label:"Device type",placeholder:"Select device type"}]});case FiltersHeader.a.dropdown:return react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled"},react_default.a.createElement(InputLabel.a,null,filter.label),react_default.a.createElement(Select.a,{value:filter.selectedValue?filter.selectedValue:"",onChange:function onChange(e){return props.changeFilterValue(filter,e.target.value)},fullWidth:!0,variant:"filled",input:IndividualFilter_ref2},IndividualFilter_ref3,filter.input.availableOptions.map((function(option){return react_default.a.createElement(MenuItem.a,{value:option.value,key:option.value},option.label)}))));case FiltersHeader.a.slider:return react_default.a.createElement("div",{className:"Filter_menu_item_sliderWrapper"},react_default.a.createElement(InputLabel.a,{shrink:!0},filter.label),react_default.a.createElement(CustomSlider,{valueLabelDisplay:"on",defaultValue:filter.selectedValue||[filter.input.min,filter.input.max],min:filter.input.min,max:filter.input.max,ThumbComponent:CustomSliderThumbComponent,onChangeCommitted:function onChangeCommitted(event,value){return props.changeFilterValue(filter,value)}}));case FiltersHeader.a.yearMonth:return react_default.a.createElement(DatePicker.a,{openTo:"year",views:["year","month"],label:filter.label,value:filter.selectedValue,onChange:function onChange(date){return props.changeFilterValue(filter,date)},variant:"inline",inputVariant:"filled",fullWidth:!0})}}IndividualFilter.__docgenInfo={description:"",methods:[],displayName:"IndividualFilter",props:{filter:{required:!0,tsType:{name:"ICustomFilter"},description:""},changeFilterValue:{required:!0,tsType:{name:"signature",type:"function",raw:"(targetFilter: ICustomFilter, selectedValue: any) => void",signature:{arguments:[{name:"targetFilter",type:{name:"ICustomFilter"}},{name:"selectedValue",type:{name:"any"}}],return:{name:"void"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/IndividualFilter.tsx"]={name:"IndividualFilter",docgenInfo:IndividualFilter.__docgenInfo,path:"src/components/Table/IndividualFilter.tsx"})},408:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const en_json_1=__importDefault(__webpack_require__(1482)),pl_json_1=__importDefault(__webpack_require__(1483));exports.ORIGIN_LANGUAGES={en:en_json_1.default,pl:pl_json_1.default},exports.AVAILABLE_ORIGIN_LANGUAGES=Object.keys(exports.ORIGIN_LANGUAGES)},41:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getActiveBlockchainAccountAddress})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getUserOffchain})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getIsLeadUser})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getOrganizations}));var getActiveBlockchainAccountAddress=function(state){return state.users.activeBlockchainAccountAddress},getUserOffchain=function(state){return state.users.userOffchain},getIsLeadUser=function(state){var _user$organization,user=getUserOffchain(state);return!!user&&(null===(_user$organization=user.organization)||void 0===_user$organization?void 0:_user$organization.leadUser)===user.id},getOrganizations=function(state){return state.users.organizations}},413:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Market}));__webpack_require__(24),__webpack_require__(610),__webpack_require__(16),__webpack_require__(211),__webpack_require__(26);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1862),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(159),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(304),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(89),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(521),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(628),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(141),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(142),_material_ui_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(273),_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(157),react_redux__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(8),_features__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(91),_material_ui_lab__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1859),_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2),_utils_exchange__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(201),formik__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(17),_Form__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(229),_DeviceSelectors__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(510),INITIAL_FORM_VALUES={energy:"",generationDateStart:null,generationDateEnd:null,price:"",deviceType:[],location:[],gridOperator:[]},_ref=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_lab__WEBPACK_IMPORTED_MODULE_18__.a,{variant:"rect",height:200}),_ref3=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null),_ref4=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null),_ref5=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.a,{variant:"middle"}),_ref6=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null),_ref10=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null);function Market(props){var _configuration$device,onBid=props.onBid,currency=props.currency,energyUnit=props.energyUnit,onNotify=props.onNotify,onChange=props.onChange,disableBidding=props.disableBidding,configuration=Object(react_redux__WEBPACK_IMPORTED_MODULE_16__.e)(_features__WEBPACK_IMPORTED_MODULE_17__.b),t=Object(_utils__WEBPACK_IMPORTED_MODULE_19__.C)().t,classes=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.a)((function(){return Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.a)({wrapper:{padding:"10px"}})}))(Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.a)()),Yup=Object(_utils__WEBPACK_IMPORTED_MODULE_19__.D)().Yup,VALIDATION_SCHEMA=Yup.object().shape({generationDateStart:Yup.date().label(t("exchange.properties.generationDateStart")),generationDateEnd:Yup.date().label(t("exchange.properties.generationDateEnd")),energy:Yup.number().positive().integer().label(t("exchange.properties.energy")),price:Yup.number().positive().min(.01).label(t("exchange.properties.price"))});if(!(null==configuration||null===(_configuration$device=configuration.deviceTypeService)||void 0===_configuration$device?void 0:_configuration$device.deviceTypes))return _ref;var _ref2=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_22__.c,{onChange:onChange}),_ref7=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{position:"end"},energyUnit),_ref8=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{position:"end"},currency);return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a,{className:classes.wrapper},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_21__.d,{initialValues:INITIAL_FORM_VALUES,validationSchema:VALIDATION_SCHEMA,validateOnMount:!1,onSubmit:null},(function(formikProps){var isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting,setFieldValue=formikProps.setFieldValue,errors=formikProps.errors,values=formikProps.values,totalPrice=isValid?Object(_utils_exchange__WEBPACK_IMPORTED_MODULE_20__.c)(values.price,values.energy):0,fieldDisabled=isSubmitting,notifyButtonEnabled=values.price&&!(null==errors?void 0:errors.price)&&!isSubmitting&&!disableBidding,bidButtonEnabled=values.price&&values.energy&&!(null==errors?void 0:errors.price)&&!(null==errors?void 0:errors.energy)&&!isSubmitting&&!disableBidding;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_21__.c,{translate:""},_ref2,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{variant:"h4"},t("exchange.info.market")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{container:!0,spacing:3},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_15__.a,{selectedValue:values.deviceType,onChange:function(value){return setFieldValue("deviceType",value)},allValues:configuration.deviceTypeService.deviceTypes,selectOptions:[{label:t("device.properties.deviceType"),placeholder:t("device.info.selectDeviceType")},{label:t("device.properties.deviceType"),placeholder:t("device.info.selectDeviceType")},{label:t("device.properties.deviceType"),placeholder:t("device.info.selectDeviceType")}],disabled:fieldDisabled})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_DeviceSelectors__WEBPACK_IMPORTED_MODULE_23__.a,{location:values.location,onLocationChange:function onLocationChange(value){return setFieldValue("location",value)},gridOperator:values.gridOperator,onGridOperatorChange:function onGridOperatorChange(value){return setFieldValue("gridOperator",value)},disabled:fieldDisabled})),_ref3,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{container:!0,spacing:3},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_22__.b,{name:"generationDateStart",label:t("exchange.properties.generationDateStart"),disabled:fieldDisabled,required:!1})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_22__.b,{name:"generationDateEnd",label:t("exchange.properties.generationDateEnd"),disabled:fieldDisabled,required:!1}))),_ref4,_ref5,_ref6,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{container:!0,spacing:3},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_22__.a,{label:t("exchange.properties.energy"),property:"energy",disabled:fieldDisabled,className:"mt-3",required:!0,InputProps:{endAdornment:_ref7}})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_Form__WEBPACK_IMPORTED_MODULE_22__.a,{label:t("exchange.properties.price"),property:"price",disabled:fieldDisabled,className:"mt-3",required:!0,InputProps:{endAdornment:_ref8},wrapperProps:{onBlur:function onBlur(e){var _ref9,parsedValue=parseFloat(null===(_ref9=e.target)||void 0===_ref9?void 0:_ref9.value);!isNaN(parsedValue)&&0<parsedValue&&setFieldValue("price",parsedValue.toFixed(2))}}}))),_ref10,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{container:!0,spacing:3},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,null,t("exchange.feedback.total"),":"," ",Object(_utils__WEBPACK_IMPORTED_MODULE_19__.i)(totalPrice,currency))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:6},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__.a,{disabled:!notifyButtonEnabled,onClick:function onClick(){return onNotify(values)}},t("exchange.actions.notify")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__.a,{disabled:!bidButtonEnabled,onClick:function onClick(){return onBid(values)}},t("exchange.actions.bid")))))})))}Market.displayName="Market",Market.__docgenInfo={description:"",methods:[],displayName:"Market",props:{onBid:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: IMarketFormValues) => void",signature:{arguments:[{name:"values",type:{name:"IMarketFormValues"}}],return:{name:"void"}}},description:""},onNotify:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: IMarketFormValues) => void",signature:{arguments:[{name:"values",type:{name:"IMarketFormValues"}}],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(values: IMarketFormValues) => void",signature:{arguments:[{name:"values",type:{name:"IMarketFormValues"}}],return:{name:"void"}}},description:""},currency:{required:!0,tsType:{name:"string"},description:""},energyUnit:{required:!0,tsType:{name:"string"},description:""},disableBidding:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/exchange/Market.tsx"]={name:"Market",docgenInfo:Market.__docgenInfo,path:"src/components/exchange/Market.tsx"})},466:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const Moment=__importStar(__webpack_require__(9)),moment=__webpack_require__(960).extendMoment(Moment);!function(OrderSide){OrderSide[OrderSide.Bid=0]="Bid",OrderSide[OrderSide.Ask=1]="Ask"}(exports.OrderSide||(exports.OrderSide={}));exports.Order=class Order{constructor(id,side,validFrom,product,price,volume,userId){if(this.id=id,this.side=side,this.validFrom=validFrom,this.product=product,this.price=price,this.userId=userId,volume.isZero()||volume.isNeg())throw new Error("Incorrect negative volume");if(price<=0)throw new Error("Incorrect negative price");this._volume=volume}get volume(){return this._volume}get isFilled(){return this.volume.isZero()}updateWithTradedVolume(tradedVolume){if(tradedVolume.gt(this.volume))throw new Error("Order overmatched");return this._volume=this._volume.sub(tradedVolume),this}static hasMatchingGenerationTimes(bidProduct,askProduct){const bidRange=moment.range(bidProduct.generationTime.from,bidProduct.generationTime.to),askRange=moment.range(askProduct.generationTime.from,askProduct.generationTime.to);return bidRange.contains(askRange)}}},471:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useValidation}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(44),__webpack_require__(24),__webpack_require__(28),__webpack_require__(16),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26);var yup__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(40),react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),react_i18next__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(71),yup_lib_util_printValue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(621),yup_lib_util_printValue__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(yup_lib_util_printValue__WEBPACK_IMPORTED_MODULE_14__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function useValidation(){var t=Object(react_i18next__WEBPACK_IMPORTED_MODULE_13__.c)().t,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_12__.useState)(!1),2),yupLocaleInitialized=_useState2[0],setYupLocaleInitialized=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_12__.useEffect)((function(){t&&!yupLocaleInitialized&&function setYupLanguage(){var translate=function(path){return function(values){return t("validations.yup.".concat(path),values)}};yup__WEBPACK_IMPORTED_MODULE_11__.setLocale({mixed:{default:translate("mixed.default"),required:translate("mixed.required"),oneOf:translate("mixed.oneOf"),notOneOf:translate("mixed.notOneOf"),notType:function notType(_ref){var path=_ref.path,type=_ref.type,value=_ref.value,originalValue=_ref.originalValue,butValueWas="".concat(t("validations.yup.mixed.notType.butValueWas",{value:yup_lib_util_printValue__WEBPACK_IMPORTED_MODULE_14___default()(value,!0)})),msg="".concat(t("validations.yup.mixed.notType.mustBeType",{path:path,type:type})," ").concat(butValueWas)+(null!=originalValue&&originalValue!==value?" ".concat(t("validations.yup.mixed.notType.castFromTheValue",{originalValue:yup_lib_util_printValue__WEBPACK_IMPORTED_MODULE_14___default()(originalValue,!0)})):".");return null===value&&(msg+="\n ".concat(t("validations.yup.mixed.notType.ifNull"))),msg}},string:{length:translate("string.length"),min:translate("string.min"),max:translate("string.max"),matches:translate("string.matches"),email:translate("string.email"),url:translate("string.url"),trim:translate("string.trim"),lowercase:translate("string.lowercase"),uppercase:translate("string.uppercase")},number:{min:translate("number.min"),max:translate("number.max"),lessThan:translate("number.lessThan"),moreThan:translate("number.moreThan"),positive:translate("number.positive"),negative:translate("number.negative"),integer:translate("number.integer")}}),setYupLocaleInitialized(!0)}()}),[t,yupLocaleInitialized]),{Yup:yup__WEBPACK_IMPORTED_MODULE_11__,yupLocaleInitialized:yupLocaleInitialized}}},481:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormBusinessTypeSelect}));__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(55),__webpack_require__(117),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(28),__webpack_require__(288),__webpack_require__(57),__webpack_require__(16),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26);var react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__),_FormSelect__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(509),_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(64),_FormInput__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(49);var BUSINESS_LEGAL_TYPE_OPTIONS=[].concat(function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(Object.keys(_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_18__.IRECBusinessLegalStatus).filter((function(k){return!isNaN(+k)})).map((function(item){return{value:item,label:_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_18__.IRECBusinessLegalStatusLabelsMap[item]}}))),[{value:"Other",label:"Other"}]);function FormBusinessTypeSelect(props){var inputProperty=props.inputProperty,label=props.label,selectCurrentValue=props.selectCurrentValue,selectProperty=props.selectProperty,className=props.className,disabled=props.disabled,required=props.required;return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_16___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_FormSelect__WEBPACK_IMPORTED_MODULE_17__.a,{options:BUSINESS_LEGAL_TYPE_OPTIONS,property:selectProperty,currentValue:selectCurrentValue,label:label,className:className,required:required,disabled:disabled}),"Other"===selectCurrentValue&&react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_FormInput__WEBPACK_IMPORTED_MODULE_19__.a,{property:inputProperty,label:label,className:className,required:required,disabled:disabled}))}FormBusinessTypeSelect.__docgenInfo={description:"",methods:[],displayName:"FormBusinessTypeSelect",props:{label:{required:!0,tsType:{name:"string"},description:""},selectProperty:{required:!0,tsType:{name:"string"},description:""},selectCurrentValue:{required:!0,tsType:{name:"string"},description:""},inputProperty:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormBusinessTypeSelect.tsx"]={name:"FormBusinessTypeSelect",docgenInfo:FormBusinessTypeSelect.__docgenInfo,path:"src/components/Form/FormBusinessTypeSelect.tsx"})},482:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormCountryMultiSelect}));__webpack_require__(30),__webpack_require__(28),__webpack_require__(118),__webpack_require__(16),__webpack_require__(32);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_MultiSelectAutocomplete__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(355),_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64),COUNTRY_OPTIONS=_energyweb_utils_general__WEBPACK_IMPORTED_MODULE_7__.Countries.map((function(country){return{value:country.id.toString(),label:country.name}}));function FormCountryMultiSelect(props){var className=props.className,label=props.label,placeholder=props.placeholder,_onChange=props.onChange,selectedValues=props.selectedValues,disabled=props.disabled,max=props.max;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:className},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_MultiSelectAutocomplete__WEBPACK_IMPORTED_MODULE_6__.a,{label:label,placeholder:placeholder,options:COUNTRY_OPTIONS,onChange:function onChange(value){return _onChange(value||[])},selectedValues:selectedValues,className:"mt-3",disabled:disabled,max:max}))}FormCountryMultiSelect.displayName="FormCountryMultiSelect",FormCountryMultiSelect.__docgenInfo={description:"",methods:[],displayName:"FormCountryMultiSelect",props:{label:{required:!0,tsType:{name:"string"},description:""},selectedValues:{required:!0,tsType:{name:"Array",elements:[{name:"IAutocompleteMultiSelectOptionType"}],raw:"IAutocompleteMultiSelectOptionType[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: IAutocompleteMultiSelectOptionType[]) => void",signature:{arguments:[{name:"value",type:{name:"Array",elements:[{name:"IAutocompleteMultiSelectOptionType"}],raw:"IAutocompleteMultiSelectOptionType[]"}}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},max:{required:!1,tsType:{name:"number"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormCountryMultiSelect.tsx"]={name:"FormCountryMultiSelect",docgenInfo:FormCountryMultiSelect.__docgenInfo,path:"src/components/Form/FormCountryMultiSelect.tsx"})},49:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormInput}));__webpack_require__(22),__webpack_require__(210),__webpack_require__(97),__webpack_require__(57);var react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),formik__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),formik_material_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(106);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function FormInput(_ref){var _props$variant,_props$type,wrapperProps=_ref.wrapperProps,props=_objectWithoutProperties(_ref,["wrapperProps"]),variant=null!==(_props$variant=props.variant)&&void 0!==_props$variant?_props$variant:"filled",type=null!==(_props$type=props.type)&&void 0!==_props$type?_props$type:"text";return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",wrapperProps,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_5__.a,_extends({label:props.label,name:props.property,component:formik_material_ui__WEBPACK_IMPORTED_MODULE_6__.c,variant:variant,fullWidth:!0,required:props.required,disabled:props.disabled,type:type},props)))}FormInput.displayName="FormInput",FormInput.__docgenInfo={description:"",methods:[],displayName:"FormInput",props:{property:{required:!0,tsType:{name:"string"},description:""},className:{required:!0,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},variant:{required:!1,tsType:{name:"FormControlTypeMap['props']['variant']",raw:"FormControlTypeMap['props']['variant']"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},type:{required:!1,tsType:{name:"string"},description:""},wrapperProps:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n    onBlur: FocusEventHandler;\n}",signature:{properties:[{key:"onBlur",value:{name:"FocusEventHandler",required:!0}}]}},description:""}},composes:["Omit"]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormInput.tsx"]={name:"FormInput",docgenInfo:FormInput.__docgenInfo,path:"src/components/Form/FormInput.tsx"})},501:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(969)),__export(__webpack_require__(970)),__export(__webpack_require__(971)),__export(__webpack_require__(972)),__export(__webpack_require__(235)),__export(__webpack_require__(973)),__export(__webpack_require__(1716)),__export(__webpack_require__(974)),__export(__webpack_require__(975))},509:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormSelect}));__webpack_require__(30);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_material_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1047),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1051),_material_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1046),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1847),formik__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17),formik_material_ui__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(106);function FormSelect(props){var _props$currentValue;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__.a,{fullWidth:!0,variant:"filled",className:props.className,required:props.required},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{required:!0},props.label),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(formik__WEBPACK_IMPORTED_MODULE_6__.a,{name:props.property,label:props.label,component:formik_material_ui__WEBPACK_IMPORTED_MODULE_7__.b,input:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.a,{value:null!==(_props$currentValue=props.currentValue)&&void 0!==_props$currentValue?_props$currentValue:""}),fullWidth:!0,variant:"filled",required:props.required,disabled:props.disabled},props.options.map((function(option){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{value:option.value,key:option.value},option.label)}))))}FormSelect.displayName="FormSelect",FormSelect.__docgenInfo={description:"",methods:[],displayName:"FormSelect",props:{label:{required:!0,tsType:{name:"string"},description:""},property:{required:!0,tsType:{name:"string"},description:""},currentValue:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"IFormSelectOption"}],raw:"IFormSelectOption[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Form/FormSelect.tsx"]={name:"FormSelect",docgenInfo:FormSelect.__docgenInfo,path:"src/components/Form/FormSelect.tsx"})},510:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DeviceSelectors}));__webpack_require__(22),__webpack_require__(55),__webpack_require__(65),__webpack_require__(172),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(66);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2),_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(157),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(142),react_redux__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8),_features__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(91);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DeviceSelectors(props){var _configuration$gridOp,_gridItemSize$props=_objectSpread({gridItemSize:6},props),location=_gridItemSize$props.location,gridOperator=_gridItemSize$props.gridOperator,onGridOperatorChange=_gridItemSize$props.onGridOperatorChange,onLocationChange=_gridItemSize$props.onLocationChange,disabled=_gridItemSize$props.disabled,singleChoice=_gridItemSize$props.singleChoice,gridItemSize=_gridItemSize$props.gridItemSize,regions=Object(react_redux__WEBPACK_IMPORTED_MODULE_14__.e)(_features__WEBPACK_IMPORTED_MODULE_15__.g),configuration=Object(react_redux__WEBPACK_IMPORTED_MODULE_14__.e)(_features__WEBPACK_IMPORTED_MODULE_15__.f),environment=Object(react_redux__WEBPACK_IMPORTED_MODULE_14__.e)(_features__WEBPACK_IMPORTED_MODULE_15__.c),t=Object(_utils__WEBPACK_IMPORTED_MODULE_11__.C)().t;return configuration?react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_10___default.a.Fragment,null,Object(_utils__WEBPACK_IMPORTED_MODULE_11__.t)(environment)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:gridItemSize},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_12__.a,{selectedValue:location,onChange:onLocationChange,options:regions,selectOptions:[{label:t("device.properties.regions"),placeholder:t("device.info.selectRegion")},{label:t("device.properties.provinces"),placeholder:t("device.info.selectProvince")}],singleChoice:singleChoice,disabled:disabled})),Object(_utils__WEBPACK_IMPORTED_MODULE_11__.s)(environment)&&react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{item:!0,xs:gridItemSize},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_HierarchicalMultiSelect__WEBPACK_IMPORTED_MODULE_12__.a,{selectedValue:gridOperator,onChange:onGridOperatorChange,options:null===(_configuration$gridOp=configuration.gridOperators)||void 0===_configuration$gridOp?void 0:_configuration$gridOp.reduce((function(a,b){return _objectSpread({},a,_defineProperty({},b,[]))}),{}),selectOptions:[{label:t("device.properties.gridOperator"),placeholder:t("device.info.selectGridOperator")}],singleChoice:singleChoice,disabled:disabled}))):null}DeviceSelectors.__docgenInfo={description:"",methods:[],displayName:"DeviceSelectors",props:{location:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},gridOperator:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""},onLocationChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string[]) => void",signature:{arguments:[{name:"value",type:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}],return:{name:"void"}}},description:""},onGridOperatorChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string[]) => void",signature:{arguments:[{name:"value",type:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}],return:{name:"void"}}},description:""},singleChoice:{required:!1,tsType:{name:"boolean"},description:""},gridItemSize:{required:!1,tsType:{name:"GridSize"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeviceSelectors.tsx"]={name:"DeviceSelectors",docgenInfo:DeviceSelectors.__docgenInfo,path:"src/components/DeviceSelectors.tsx"})},511:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(48),__webpack_require__(55),__webpack_require__(96),__webpack_require__(954),__webpack_require__(65),__webpack_require__(117),__webpack_require__(44),__webpack_require__(24),__webpack_require__(119),__webpack_require__(28),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(16),__webpack_require__(46),__webpack_require__(32),__webpack_require__(33),__webpack_require__(66),__webpack_require__(26),__webpack_require__(43);var src=__webpack_require__(127),actions=__webpack_require__(69);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var defaultState={certificates:[],requestCertificatesModal:{visible:!1,producingDevice:null},fetcher:{fetch:function fetch(id,configuration){return _asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",configuration&&new src.Certificate(id,configuration).sync());case 1:case"end":return _context.stop()}}),_callee)})))()},reload:function reload(entity){return _asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",null==entity?void 0:entity.sync());case 1:case"end":return _context2.stop()}}),_callee2)})))()}}};function certificateExists(state,id){return state.certificates.find((function(i){return i.id===id}))}function reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case actions.a.addCertificate:return certificateExists(state,action.payload.id)?state:_objectSpread({},state,{certificates:[].concat(_toConsumableArray(state.certificates),[action.payload])});case actions.a.updateCertificate:if(!certificateExists(state,action.payload.id))return console.warn("Certificate Reducer: trying to update certificate with id ".concat(action.payload.id," that does not exist in store")),state;var certificateIndex=state.certificates.findIndex((function(c){return c.id===action.payload.id}));return _objectSpread({},state,{certificates:[].concat(_toConsumableArray(state.certificates.slice(0,certificateIndex)),[action.payload],_toConsumableArray(state.certificates.slice(certificateIndex+1)))});case actions.a.showRequestCertificatesModal:return _objectSpread({},state,{requestCertificatesModal:_objectSpread({},state.requestCertificatesModal,{producingDevice:action.payload.producingDevice})});case actions.a.setRequestCertificatesModalVisibility:return _objectSpread({},state,{requestCertificatesModal:_objectSpread({},state.requestCertificatesModal,{visible:!0})});case actions.a.hideRequestCertificatesModal:return _objectSpread({},state,{requestCertificatesModal:{visible:!1,producingDevice:null}});case actions.a.updateFetcher:return _objectSpread({},state,{fetcher:action.payload});default:return state}}var producingDevices_actions=__webpack_require__(239);function reducer_toConsumableArray(arr){return function reducer_arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function reducer_iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function reducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var reducer_defaultState={producingDevices:[]};function reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:reducer_defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case producingDevices_actions.a.producingDeviceCreatedOrUpdated:var index=state.producingDevices.findIndex((function(c){return c.id===action.producingDevice.id}));return{producingDevices:-1===index?[].concat(reducer_toConsumableArray(state.producingDevices),[action.producingDevice]):[].concat(reducer_toConsumableArray(state.producingDevices.slice(0,index)),[action.producingDevice],reducer_toConsumableArray(state.producingDevices.slice(index+1)))};default:return state}}var features_actions=__webpack_require__(293);function Configuration_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case features_actions.a.configurationUpdated:return action.conf;default:return state}}var general_actions=__webpack_require__(13);function reducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function reducer_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?reducer_ownKeys(source,!0).forEach((function(key){reducer_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):reducer_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function reducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var general_reducer_defaultState={loading:!0,error:null,offChainDataSource:null,environment:null,exchangeClient:null,offChainConfiguration:null,accountMismatchModalProperties:{visibility:!1}};function general_reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:general_reducer_defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case general_actions.a.setLoading:return reducer_objectSpread({},state,{loading:action.payload});case general_actions.a.setError:return reducer_objectSpread({},state,{error:action.payload});case general_actions.a.setOffChainDataSource:return reducer_objectSpread({},state,{offChainDataSource:action.payload});case general_actions.a.setEnvironment:return reducer_objectSpread({},state,{environment:action.payload});case general_actions.a.setOffchainConfiguration:return reducer_objectSpread({},state,{offChainConfiguration:action.payload.configuration});case general_actions.a.setExchangeClient:return reducer_objectSpread({},state,{exchangeClient:action.payload.exchangeClient});case general_actions.a.setAccountMismatchModalProperties:return reducer_objectSpread({},state,{accountMismatchModalProperties:action.payload});default:return state}}__webpack_require__(30);var users_actions=__webpack_require__(75);function users_reducer_toConsumableArray(arr){return function users_reducer_arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function users_reducer_iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function users_reducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function users_reducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function users_reducer_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?users_reducer_ownKeys(source,!0).forEach((function(key){users_reducer_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):users_reducer_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function users_reducer_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var users_reducer_defaultState={activeBlockchainAccountAddress:null,userOffchain:null,organizations:[]};function users_reducer_reducer(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:users_reducer_defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case users_actions.a.setActiveBlockchainAccountAddress:return users_reducer_objectSpread({},state,{activeBlockchainAccountAddress:action.payload});case users_actions.a.setUserOffchain:return users_reducer_objectSpread({},state,{userOffchain:action.payload});case users_actions.a.addOrganizations:var organizations=users_reducer_toConsumableArray(state.organizations);return action.payload.map((function(newOrganization){organizations.find((function(o){return o.id===newOrganization.id}))||organizations.push(newOrganization)})),users_reducer_objectSpread({},state,{organizations:organizations});default:return state}}var redux=__webpack_require__(183),esm=__webpack_require__(266);__webpack_require__.d(__webpack_exports__,"a",(function(){return createRootReducer}));var createRootReducer=function(history){return Object(redux.combineReducers)({certificates:reducer,producingDevices:reducer_reducer,general:general_reducer_reducer,configuration:Configuration_reducer,users:users_reducer_reducer,router:Object(esm.b)(history)})}},517:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const ProducingDevice=__importStar(__webpack_require__(1798));exports.ProducingDevice=ProducingDevice},519:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(48),__webpack_require__(119),__webpack_require__(97);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_router_dom=__webpack_require__(73),makeStyles=__webpack_require__(159),createStyles=__webpack_require__(304),useTheme=__webpack_require__(89),Tooltip=__webpack_require__(1853),PersonAdd=__webpack_require__(1907),Settings=__webpack_require__(1908),AccountCircle=__webpack_require__(1909),ExitToApp=__webpack_require__(1910),es=__webpack_require__(8),utils=__webpack_require__(2),selectors=__webpack_require__(41),users_actions=__webpack_require__(75),OriginConfigurationContext=__webpack_require__(84);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}var Header_useStyles=Object(makeStyles.a)((function(){return Object(createStyles.a)({icon:{opacity:.3,fontSize:"16px",marginLeft:"8px"},endIcon:{opacity:.7,fontSize:"16px",marginLeft:"8px"},logOutIcon:{opacity:.7,marginLeft:"8px",verticalAlign:"sub",cursor:"pointer"}})})),Header_ref=react_default.a.createElement(PersonAdd.a,{color:"primary"}),Header_ref2=react_default.a.createElement(Settings.a,{color:"primary"}),Header_ref3=react_default.a.createElement("br",null),Header_ref4=react_default.a.createElement(AccountCircle.a,{color:"primary"});function Header(){var userOffchain=Object(es.e)(selectors.d),dispatch=Object(es.d)(),classes=Header_useStyles(Object(useTheme.a)()),_useLinks=Object(utils.A)(),getDevicesLink=_useLinks.getDevicesLink,getUserRegisterLink=_useLinks.getUserRegisterLink,getCertificatesLink=_useLinks.getCertificatesLink,getAccountLink=_useLinks.getAccountLink,getOrganizationLink=_useLinks.getOrganizationLink,getAccountLoginLink=_useLinks.getAccountLoginLink,originConfiguration=Object(react.useContext)(OriginConfigurationContext.a),t=Object(utils.C)().t;return react_default.a.createElement("div",{className:"HeaderWrapper"},react_default.a.createElement("div",{className:"Header"},react_default.a.createElement(react_router_dom.b,{to:getDevicesLink()},originConfiguration.logo),react_default.a.createElement("ul",{className:"NavMenu nav"},react_default.a.createElement("li",null,react_default.a.createElement(react_router_dom.b,{to:getDevicesLink()},t("header.devices"))),react_default.a.createElement("li",null,react_default.a.createElement(react_router_dom.b,{to:getCertificatesLink()},t("header.certificates"))),userOffchain&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("li",null,react_default.a.createElement(react_router_dom.b,{to:getOrganizationLink()},t("header.organizations"))))),react_default.a.createElement("div",{className:"ViewProfile"},!userOffchain&&react_default.a.createElement(react_default.a.Fragment,null,"",react_default.a.createElement(react_router_dom.a,{className:classes.endIcon,to:getUserRegisterLink()},react_default.a.createElement(Tooltip.a,{title:t("settings.registerOffchainUser")},Header_ref))),userOffchain?react_default.a.createElement(react_default.a.Fragment,null,"",react_default.a.createElement(react_router_dom.a,_extends({to:getAccountLink(),className:classes.endIcon},Object(utils.g)("header-link-account-settings")),react_default.a.createElement(Tooltip.a,{title:t("settings.settings")},Header_ref2)),Header_ref3):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(react_router_dom.a,{to:getAccountLoginLink(),className:classes.endIcon},react_default.a.createElement(Tooltip.a,{title:t("settings.navigation.login")},Header_ref4))),userOffchain&&react_default.a.createElement("div",null,"Logged in as: ",userOffchain.firstName," ",userOffchain.lastName," ",react_default.a.createElement(Tooltip.a,{title:"Log out"},react_default.a.createElement(ExitToApp.a,{color:"primary",className:classes.logOutIcon,onClick:function onClick(){return dispatch(Object(users_actions.c)())}}))))))}Header.displayName="Header",Header.__docgenInfo={description:"",methods:[],displayName:"Header"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Header.tsx"]={name:"Header",docgenInfo:Header.__docgenInfo,path:"src/components/Header.tsx"});__webpack_require__(55),__webpack_require__(30),__webpack_require__(195),__webpack_require__(98),__webpack_require__(248);var react_router=__webpack_require__(185),src=__webpack_require__(29);__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(24),__webpack_require__(385),__webpack_require__(61),__webpack_require__(317),__webpack_require__(386),__webpack_require__(16),__webpack_require__(33),__webpack_require__(26);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PageContent_PageContent=function(_React$Component){function PageContent(){return _classCallCheck(this,PageContent),_possibleConstructorReturn(this,_getPrototypeOf(PageContent).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PageContent,_React$Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PageContent,[{key:"render",value:function render(){var _this$props=this.props,menu=_this$props.menu,redirectPath=_this$props.redirectPath,PageComponent=menu.component;return menu?react_default.a.createElement("div",{className:"PageContentWrapper"},react_default.a.createElement("div",{className:"PageBody"},menu.component?react_default.a.createElement(PageComponent,null):"Coming Soon...")):react_default.a.createElement(react_router.a,{to:{pathname:redirectPath}})}}]),PageContent}(react_default.a.Component);PageContent_PageContent.displayName="PageContent",PageContent_PageContent.__docgenInfo={description:"",methods:[],displayName:"PageContent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PageContent/PageContent.tsx"]={name:"PageContent",docgenInfo:PageContent_PageContent.__docgenInfo,path:"src/components/PageContent/PageContent.tsx"});__webpack_require__(1802),__webpack_require__(96),__webpack_require__(117),__webpack_require__(207),__webpack_require__(44),__webpack_require__(172),__webpack_require__(28),__webpack_require__(46),__webpack_require__(32),__webpack_require__(208),__webpack_require__(43);var AssignmentTurnedIn=__webpack_require__(1915),Publish=__webpack_require__(1916),ethers_utils=__webpack_require__(79),features_selectors=__webpack_require__(53),Table=__webpack_require__(81),certificates_selectors=__webpack_require__(165),DialogTitle=__webpack_require__(1913),DialogContentText=__webpack_require__(1914),Dialog=__webpack_require__(1867),DialogContent=__webpack_require__(1850),DialogActions=__webpack_require__(1851),Button=__webpack_require__(273),certificates_actions=__webpack_require__(69);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var ClaimCertificateBulkModal_ref=react_default.a.createElement(DialogTitle.a,null,"Claim certificates"),ClaimCertificateBulkModal_ref2=react_default.a.createElement(DialogContentText.a,null,"Would you like to proceed with claiming them?");function ClaimCertificateBulkModal(props){var dispatch=Object(es.d)();function handleClose(){props.callback()}function _claimCertificates(){return(_claimCertificates=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var certificateIds;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:certificateIds=props.certificates.map((function(cert){return cert.id})),dispatch(Object(certificates_actions.h)({certificateIds:certificateIds})),handleClose();case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var totalEnergy=utils.b.format(props.certificates.reduce((function(a,b){var energy=b.energy.publicVolume.add(b.energy.privateVolume);return a.add(energy)}),Object(ethers_utils.bigNumberify)(0)),!0);return react_default.a.createElement(Dialog.a,{open:props.showModal,onClose:handleClose},ClaimCertificateBulkModal_ref,react_default.a.createElement(DialogContent.a,null,react_default.a.createElement(DialogContentText.a,null,"You selected a total of ",totalEnergy," worth of certificates."),ClaimCertificateBulkModal_ref2),react_default.a.createElement(DialogActions.a,null,react_default.a.createElement(Button.a,{onClick:handleClose,color:"secondary"},"Cancel"),react_default.a.createElement(Button.a,{onClick:function claimCertificates(){return _claimCertificates.apply(this,arguments)},color:"primary"},"Claim")))}ClaimCertificateBulkModal.displayName="ClaimCertificateBulkModal",ClaimCertificateBulkModal.__docgenInfo={description:"",methods:[],displayName:"ClaimCertificateBulkModal",props:{certificates:{required:!0,tsType:{name:"Array",elements:[{name:"Certificate"}],raw:"Certificate[]"},description:""},showModal:{required:!0,tsType:{name:"boolean"},description:""},callback:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal/ClaimCertificateBulkModal.tsx"]={name:"ClaimCertificateBulkModal",docgenInfo:ClaimCertificateBulkModal.__docgenInfo,path:"src/components/Modal/ClaimCertificateBulkModal.tsx"});__webpack_require__(65),__webpack_require__(288),__webpack_require__(1804),__webpack_require__(120),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(211),__webpack_require__(66);var moment=__webpack_require__(9),moment_default=__webpack_require__.n(moment),InputLabel=__webpack_require__(1051),FilledInput=__webpack_require__(1046),TextField=__webpack_require__(520),FormControl=__webpack_require__(1047),Select=__webpack_require__(1864),MenuItem=__webpack_require__(1847),general_selectors=__webpack_require__(19);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function PublishForSaleModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function PublishForSaleModal_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){PublishForSaleModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){PublishForSaleModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var DEFAULT_ENERGY_IN_BASE_UNIT=Object(ethers_utils.bigNumberify)(1),PublishForSaleModal_ref=react_default.a.createElement(InputLabel.a,null,"Currency"),PublishForSaleModal_ref2=react_default.a.createElement(FilledInput.a,null),PublishForSaleModal_ref3=react_default.a.createElement("div",null,"Price is invalid");function PublishForSaleModal(props){var certificate=props.certificate,callback=props.callback,producingDevice=props.producingDevice,showModal=props.showModal,currencies=Object(es.e)(general_selectors.d),user=Object(es.e)(selectors.d),_useState2=_slicedToArray(Object(react.useState)(utils.b.getValueInDisplayUnit(DEFAULT_ENERGY_IN_BASE_UNIT)),2),energyInDisplayUnit=_useState2[0],setEnergyInDisplayUnit=_useState2[1],energyInBaseUnit=utils.b.getBaseValueFromValueInDisplayUnit(energyInDisplayUnit),_useState4=_slicedToArray(Object(react.useState)("1"),2),price=_useState4[0],setPrice=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(null),2),currency=_useState6[0],setCurrency=_useState6[1],_useState8=_slicedToArray(Object(react.useState)({energyInDisplayUnit:!0,price:!0}),2),validation=_useState8[0],setValidation=_useState8[1],dispatch=Object(es.d)();Object(react.useEffect)((function(){certificate&&setEnergyInDisplayUnit(utils.b.getValueInDisplayUnit(certificate.energy.publicVolume))}),[certificate,user]),Object(react.useEffect)((function(){null===currency&&currencies&&currencies[0]&&setCurrency(currencies[0])}),[currencies]);var isFormValid=validation.energyInDisplayUnit&&validation.price;function handleClose(){return _handleClose.apply(this,arguments)}function _handleClose(){return(_handleClose=PublishForSaleModal_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,certificate.sync();case 2:callback();case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _publishForSale(){return(_publishForSale=PublishForSaleModal_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(isFormValid){_context2.next=2;break}return _context2.abrupt("return");case 2:dispatch(Object(certificates_actions.i)({certificateId:certificate.id,amount:energyInBaseUnit,price:Math.round(100*(parseFloat(price)+Number.EPSILON)),callback:function(){handleClose()}}));case 3:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function validateInputs(){return _validateInputs.apply(this,arguments)}function _validateInputs(){return(_validateInputs=PublishForSaleModal_asyncToGenerator(regeneratorRuntime.mark((function _callee3(event){var newEnergyInDisplayUnit,newEnergyInBaseValueUnit,ownedPublicVolume,energyInDisplayUnitValid,newPrice,priceValid;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.t0=event.target.id,_context3.next="energyInDisplayUnitInput"===_context3.t0?3:"priceInput"===_context3.t0?10:15;break;case 3:return newEnergyInDisplayUnit=+event.target.value,newEnergyInBaseValueUnit=utils.b.getBaseValueFromValueInDisplayUnit(newEnergyInDisplayUnit),ownedPublicVolume=certificate.energy.publicVolume,energyInDisplayUnitValid=newEnergyInBaseValueUnit.gte(1)&&newEnergyInBaseValueUnit.lt(ownedPublicVolume)&&6>=Object(utils.f)(newEnergyInDisplayUnit),setEnergyInDisplayUnit(newEnergyInDisplayUnit),setValidation(_objectSpread({},validation,{energyInDisplayUnit:energyInDisplayUnitValid})),_context3.abrupt("break",15);case 10:return newPrice=+event.target.value,priceValid=!isNaN(newPrice)&&0<newPrice&&2>=Object(utils.f)(newPrice),setPrice(event.target.value),setValidation(_objectSpread({},validation,{price:priceValid})),_context3.abrupt("break",15);case 15:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}var creationTime,certificateId=certificate?certificate.id:"",facilityName=producingDevice?producingDevice.facilityName:"";try{creationTime=certificate&&Object(utils.j)(moment_default.a.unix(certificate.creationTime),!0)}catch(error){console.error("Error in PublishForSaleModal",error)}return react_default.a.createElement(Dialog.a,{open:showModal,onClose:handleClose},react_default.a.createElement(DialogTitle.a,null,"Publish certificate #".concat(certificateId," for sale")),react_default.a.createElement(DialogContent.a,null,react_default.a.createElement(TextField.a,{label:"Facility",value:facilityName,fullWidth:!0,disabled:!0}),creationTime&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(TextField.a,{label:"Creation time",value:creationTime,fullWidth:!0,disabled:!0,className:"mt-4"})),react_default.a.createElement(TextField.a,{label:utils.b.displayUnit,value:energyInDisplayUnit,type:"number",placeholder:"1",onChange:function onChange(e){return validateInputs(e)},className:"mt-4",id:"energyInDisplayUnitInput",fullWidth:!0}),react_default.a.createElement(TextField.a,{label:"Price",value:price,type:"number",placeholder:"1",onChange:function onChange(e){return validateInputs(e)},className:"mt-4",id:"priceInput",fullWidth:!0}),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-4"},PublishForSaleModal_ref,react_default.a.createElement(Select.a,{value:currency,onChange:function onChange(e){return setCurrency(e.target.value)},fullWidth:!0,variant:"filled",input:PublishForSaleModal_ref2},null==currencies?void 0:currencies.map((function(item){return react_default.a.createElement(MenuItem.a,{key:item,value:item},item)})))),react_default.a.createElement("div",{className:"text-danger"},!validation.price&&PublishForSaleModal_ref3,!validation.energyInDisplayUnit&&react_default.a.createElement("div",null,utils.b.displayUnit," value is invalid"))),react_default.a.createElement(DialogActions.a,null,react_default.a.createElement(Button.a,{onClick:handleClose,color:"secondary"},"Cancel"),react_default.a.createElement(Button.a,{onClick:function publishForSale(){return _publishForSale.apply(this,arguments)},color:"primary",disabled:!isFormValid},"Publish for sale")))}PublishForSaleModal.displayName="PublishForSaleModal",PublishForSaleModal.__docgenInfo={description:"",methods:[],displayName:"PublishForSaleModal",props:{certificate:{required:!0,tsType:{name:"Certificate"},description:""},producingDevice:{required:!0,tsType:{name:"ProducingDevice.Entity"},description:""},showModal:{required:!0,tsType:{name:"boolean"},description:""},callback:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal/PublishForSaleModal.tsx"]={name:"PublishForSaleModal",docgenInfo:PublishForSaleModal.__docgenInfo,path:"src/components/Modal/PublishForSaleModal.tsx"});var SelectedState,features=__webpack_require__(91);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function CertificateTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function CertificateTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){CertificateTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){CertificateTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function CertificateTable_slicedToArray(arr,i){return function CertificateTable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CertificateTable_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CertificateTable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(SelectedState){SelectedState[SelectedState.Inbox=0]="Inbox",SelectedState[SelectedState.Claimed=1]="Claimed"}(SelectedState||(SelectedState={}));var CERTIFICATION_DATE_COLUMN_SORT_PROPERTIES=[function(record){var _record$certificate;return null==record||null===(_record$certificate=record.certificate)||void 0===_record$certificate?void 0:_record$certificate.creationTime}],CertificateTable_ref=react_default.a.createElement(AssignmentTurnedIn.a,null),CertificateTable_ref2=react_default.a.createElement(Publish.a,null);function CertificateTable(props){var _usePaginatedLoaderSo=Object(Table.h)({currentSort:{id:"certificationDate",sortProperties:CERTIFICATION_DATE_COLUMN_SORT_PROPERTIES},sortAscending:!1}),currentSort=_usePaginatedLoaderSo.currentSort,sortAscending=_usePaginatedLoaderSo.sortAscending,sortData=_usePaginatedLoaderSo.sortData,toggleSort=_usePaginatedLoaderSo.toggleSort,stateCertificates=Object(es.e)(certificates_selectors.c),configuration=Object(es.e)(features_selectors.b),producingDevices=Object(es.e)(features_selectors.c),environment=Object(es.e)(features.c),selectedState=props.selectedState,hiddenColumns=props.hiddenColumns||[],certificates=props.certificates||stateCertificates,deviceTypeService=null==configuration?void 0:configuration.deviceTypeService,t=Object(utils.C)().t,dispatch=Object(es.d)(),getCertificateDetailLink=Object(utils.A)().getCertificateDetailLink,_useState2=CertificateTable_slicedToArray(Object(react.useState)([]),2),selectedCertificates=_useState2[0],setSelectedCertificates=_useState2[1],_useState4=CertificateTable_slicedToArray(Object(react.useState)(null),2),detailViewForCertificateId=_useState4[0],setDetailViewForCertificateId=_useState4[1],_useState6=CertificateTable_slicedToArray(Object(react.useState)(!1),2),showClaimBulkModal=_useState6[0],setShowClaimBulkModal=_useState6[1],_useState8=CertificateTable_slicedToArray(Object(react.useState)(null),2),sellModalData=_useState8[0],setSellModalData=_useState8[1],_useState10=CertificateTable_slicedToArray(Object(react.useState)(!1),2),sellModalVisibility=_useState10[0],setSellModalVisibility=_useState10[1];function _getPaginatedData(){return(_getPaginatedData=CertificateTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var requestedPageSize,offset,requestedFilters,enrichedData,filteredIEnrichedCertificateData,sortedEnrichedData,paginatedData,total;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return requestedPageSize=_ref3.requestedPageSize,offset=_ref3.offset,requestedFilters=_ref3.requestedFilters,enrichedData=certificates.map((function(certificate){var producingDevice=void 0!==certificate.deviceId&&producingDevices.find((function(device){return Object(utils.n)(device,environment)===certificate.deviceId.toString()}));return{certificate:certificate,producingDevice:producingDevice,deviceTypeLabel:null==producingDevice?void 0:producingDevice.deviceType,locationText:Object(utils.o)(producingDevice),gridOperatorText:Object(utils.m)(producingDevice)}})),_context.next=4,enrichedData.filter((function(enrichedCertificateData){var ownerOf=enrichedCertificateData.certificate.isOwned,claimed=enrichedCertificateData.certificate.isClaimed;return Object(Table.f)(enrichedCertificateData,requestedFilters,deviceTypeService)&&(ownerOf&&selectedState===SelectedState.Inbox||claimed&&selectedState===SelectedState.Claimed)}));case 4:return filteredIEnrichedCertificateData=_context.sent,sortedEnrichedData=sortData(filteredIEnrichedCertificateData),paginatedData=sortedEnrichedData.slice(offset,offset+requestedPageSize),total=sortedEnrichedData.length,_context.abrupt("return",{paginatedData:paginatedData,total:total});case 9:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoaderFi=Object(Table.g)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),loadPage=_usePaginatedLoaderFi.loadPage,paginatedData=_usePaginatedLoaderFi.paginatedData,pageSize=_usePaginatedLoaderFi.pageSize,total=_usePaginatedLoaderFi.total;function claimCertificateBulk(){return _claimCertificateBulk.apply(this,arguments)}function _claimCertificateBulk(){return(_claimCertificateBulk=CertificateTable_asyncToGenerator(regeneratorRuntime.mark((function _callee2(selectedIndexes){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(0!==selectedIndexes.length){_context2.next=3;break}return Object(utils.x)(t("certificate.feedback.zeroSelected"),utils.c.Error),_context2.abrupt("return");case 3:if(100,!(selectedIndexes.length>100)){_context2.next=7;break}return Object(utils.x)(t("certificate.feedback.pleaseSelectLess",{amount:100}),utils.c.Error),_context2.abrupt("return");case 7:setSelectedCertificates(paginatedData.filter((function(item,index){return selectedIndexes.includes(index.toString())})).map((function(i){return i.certificate}))),setShowClaimBulkModal(!0);case 9:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function publishForSale(){return _publishForSale.apply(this,arguments)}function _publishForSale(){return(_publishForSale=CertificateTable_asyncToGenerator(regeneratorRuntime.mark((function _callee3(rowIndex){var certificateId,certificate;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:certificateId=paginatedData[rowIndex].certificate.id,certificate=certificates.find((function(cert){return cert.id===certificateId})),setSellModalData(certificate),setSellModalVisibility(!0);case 4:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function claimCertificate(){return _claimCertificate.apply(this,arguments)}function _claimCertificate(){return(_claimCertificate=CertificateTable_asyncToGenerator(regeneratorRuntime.mark((function _callee4(rowIndex){var certificateId;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:certificateId=paginatedData[rowIndex].certificate.id,dispatch(Object(certificates_actions.g)({certificateId:certificateId}));case 2:case"end":return _context4.stop()}}),_callee4)})))).apply(this,arguments)}Object(react.useEffect)((function(){loadPage(1)}),[certificates]);var filters=function getFilters(){return[SelectedState.Claimed].includes(selectedState)?[{property:function property(record){return"".concat(null==record?void 0:record.locationText).concat(null==record?void 0:record.gridOperatorText)},label:Object(utils.p)(environment,t),input:{type:Table.c.string},search:!0},{property:function property(record){var _record$producingDevi;return null==record||null===(_record$producingDevi=record.producingDevice)||void 0===_record$producingDevi?void 0:_record$producingDevi.deviceType},label:t("certificate.properties.deviceType"),input:{type:Table.c.deviceType,defaultOptions:[]}},{property:function property(record){var _record$producingDevi2;return utils.u.unix(null==record||null===(_record$producingDevi2=record.producingDevice)||void 0===_record$producingDevi2?void 0:_record$producingDevi2.operationalSince).year().toString()},label:t("device.properties.vintageCod"),input:{type:Table.c.dropdown,availableOptions:Array(40).fill(Object(utils.u)().year()).map((function(item,index){return{label:(item-index).toString(),value:item-index}}))}}].concat(_toConsumableArray(Object(utils.l)((function(record){return null==record?void 0:record.locationText}),(function(record){return null==record?void 0:record.gridOperatorText}),environment,t)),[{property:function property(record){var _record$certificate2,_record$certificate2$;return null==record||null===(_record$certificate2=record.certificate)||void 0===_record$certificate2||null===(_record$certificate2$=_record$certificate2.creationTime)||void 0===_record$certificate2$?void 0:_record$certificate2$.toString()},label:t("certificate.properties.certificationDate"),input:{type:Table.c.yearMonth}},{property:function property(record){var _record$certificate3,energy,ownedEnergy=null==record||null===(_record$certificate3=record.certificate)||void 0===_record$certificate3?void 0:_record$certificate3.energy;return ownedEnergy?(energy=selectedState===SelectedState.Claimed?ownedEnergy.claimedVolume:ownedEnergy.publicVolume.add(ownedEnergy.privateVolume),utils.b.getValueInDisplayUnit(energy).toString()):utils.b.getValueInDisplayUnit(null).toString()},label:"".concat(t("certificate.properties.certifiedEnergy")," (").concat(utils.b.displayUnit,")"),input:{type:Table.c.string}}]).filter((function(filter){return!hiddenColumns.includes(filter.label)})):[]}();var batchableActions=function getBatchableActions(){var actions=[];return selectedState===SelectedState.Inbox&&actions.push({label:t("certificate.actions.claim"),handler:claimCertificateBulk}),actions}(),actions=function getActions(){var actions=[];switch(selectedState){case SelectedState.Inbox:actions.push({name:t("certificate.actions.claim"),icon:CertificateTable_ref,onClick:claimCertificate}),actions.push({name:t("certificate.actions.publishForSale"),icon:CertificateTable_ref2,onClick:publishForSale})}return actions}(),columns=[{id:"deviceType",label:t("certificate.properties.deviceType"),sortProperties:[function(record){return null==record?void 0:record.deviceTypeLabel}]},{id:"commissioningDate",label:t("device.properties.vintageCod"),sortProperties:[function(record){var _record$producingDevi3;return null==record||null===(_record$producingDevi3=record.producingDevice)||void 0===_record$producingDevi3?void 0:_record$producingDevi3.operationalSince}]}].concat(_toConsumableArray(Object(utils.k)(environment,t,[function(record){return null==record?void 0:record.locationText},function(record){return null==record?void 0:record.gridOperatorText}])),[{id:"compliance",label:t("certificate.properties.compliance")},{id:"certificationDate",label:t("certificate.properties.certificationDate"),sortProperties:CERTIFICATION_DATE_COLUMN_SORT_PROPERTIES},{id:"energy",label:"".concat(t("certificate.properties.certifiedEnergy")," (").concat(utils.b.displayUnit,")"),sortProperties:[[function(record){var _record$certificate4,owned=null==record||null===(_record$certificate4=record.certificate)||void 0===_record$certificate4?void 0:_record$certificate4.energy;return owned?(selectedState===SelectedState.Claimed?owned.claimedVolume:owned.publicVolume.add(owned.privateVolume)).toString():null},function(value){return value}]]}]).filter((function(column){return!hiddenColumns.includes(column.id)})),rows=paginatedData.map((function(enrichedData){var deviceType="",commissioningDate="",compliance="";enrichedData.producingDevice&&(deviceType=null==deviceTypeService?void 0:deviceTypeService.getDisplayText(enrichedData.producingDevice.deviceType),commissioningDate=Object(utils.j)(utils.u.unix(enrichedData.producingDevice.operationalSince)),compliance=enrichedData.producingDevice.complianceRegistry);var _enrichedData$certifi=enrichedData.certificate.energy,publicVolume=_enrichedData$certifi.publicVolume,privateVolume=_enrichedData$certifi.privateVolume,claimedVolume=_enrichedData$certifi.claimedVolume;return{deviceType:deviceType,commissioningDate:commissioningDate,deviceLocation:Object(utils.o)(enrichedData.producingDevice),compliance:compliance,certificationDate:Object(utils.j)(utils.u.unix(enrichedData.certificate.creationTime)),energy:utils.b.format(selectedState===SelectedState.Claimed?claimedVolume:publicVolume.add(privateVolume)),gridOperator:null==enrichedData?void 0:enrichedData.gridOperatorText}}));return null!==detailViewForCertificateId?react_default.a.createElement(react_router.a,{push:!0,to:getCertificateDetailLink(detailViewForCertificateId)}):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Table.e,{columns:columns,rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,batchableActions:batchableActions,customSelectCounterGenerator:function(selectedIndexes){if(0<selectedIndexes.length){var energy=paginatedData.filter((function(item,index){return selectedIndexes.includes(null==index?void 0:index.toString())})).map((function(i){return i.certificate})).reduce((function(a,b){var _b$energy=b.energy,publicVolume=_b$energy.publicVolume,privateVolume=_b$energy.privateVolume,totalOwned=publicVolume.add(privateVolume);return a.add(totalOwned)}),Object(ethers_utils.bigNumberify)(0));return"".concat(t("certificate.feedback.amountSelected",{amount:selectedIndexes.length})," (").concat(utils.b.format(energy,!0),")")}},filters:filters,handleRowClick:function handleRowClick(rowIndex){return function showCertificateDetails(rowIndex){setDetailViewForCertificateId(paginatedData[rowIndex].certificate.id)}(parseInt(rowIndex,10))},actions:actions,currentSort:currentSort,sortAscending:sortAscending,toggleSort:toggleSort}),react_default.a.createElement(PublishForSaleModal,{certificate:sellModalData,producingDevice:sellModalData?producingDevices.find((function(device){return Object(utils.n)(device,environment)===sellModalData.deviceId.toString()})):null,showModal:sellModalVisibility,callback:function(){loadPage(1),setSellModalData(null),setSellModalVisibility(!1)}}),react_default.a.createElement(ClaimCertificateBulkModal,{certificates:selectedCertificates,showModal:showClaimBulkModal,callback:function(){setShowClaimBulkModal(!1)}}))}CertificateTable.__docgenInfo={description:"",methods:[],displayName:"CertificateTable",props:{certificates:{required:!1,tsType:{name:"Array",elements:[{name:"Certificate"}],raw:"Certificate[]"},description:""},hiddenColumns:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},selectedState:{required:!0,tsType:{name:"SelectedState"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CertificateTable.tsx"]={name:"CertificateTable",docgenInfo:CertificateTable.__docgenInfo,path:"src/components/CertificateTable.tsx"});__webpack_require__(1008),__webpack_require__(384),__webpack_require__(118);var js_src=__webpack_require__(127),marker=(__webpack_require__(768),__webpack_require__(1029)),marker_default=__webpack_require__.n(marker),assets_map=__webpack_require__(1030),map_default=__webpack_require__.n(assets_map),icon_wind=__webpack_require__(1031),icon_wind_default=__webpack_require__.n(icon_wind),icon_hydro=__webpack_require__(1032),icon_hydro_default=__webpack_require__.n(icon_hydro),icon_thermal=__webpack_require__(1033),icon_thermal_default=__webpack_require__.n(icon_thermal),icon_solid=__webpack_require__(1034),icon_solid_default=__webpack_require__.n(icon_solid),icon_liquid=__webpack_require__(1035),icon_liquid_default=__webpack_require__.n(icon_liquid),icon_gaseous=__webpack_require__(1036),icon_gaseous_default=__webpack_require__.n(icon_gaseous),icon_marine=__webpack_require__(1037),icon_marine_default=__webpack_require__.n(icon_marine),icon_solar=__webpack_require__(1038),icon_solar_default=__webpack_require__.n(icon_solar),reactgooglemapsapi_esm=__webpack_require__(415),routing=__webpack_require__(215),CircularProgress=__webpack_require__(1906),dist_es=__webpack_require__(71);function DeviceMap_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function DeviceMap_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){DeviceMap_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){DeviceMap_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function DeviceMap_slicedToArray(arr,i){return function DeviceMap_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DeviceMap_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DeviceMap_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var DeviceMap_ref3=react_default.a.createElement(CircularProgress.a,null),DeviceMap_ref4=react_default.a.createElement("br",null),DeviceMap_ref5=react_default.a.createElement("br",null),DeviceMap_ref6=react_default.a.createElement("br",null),DeviceMap_ref7=react_default.a.createElement("br",null);function DeviceMap(props){var _organizations$find,_useState2=DeviceMap_slicedToArray(Object(react.useState)(null),2),deviceHighlighted=_useState2[0],setDeviceHighlighted=_useState2[1],_useState4=DeviceMap_slicedToArray(Object(react.useState)(),2),organizations=_useState4[0],setOrganizations=_useState4[1],_useState6=DeviceMap_slicedToArray(Object(react.useState)(null),2),map=_useState6[0],setMap=_useState6[1],producingDevices=Object(es.e)(features_selectors.c),getProducingDeviceDetailLink=Object(routing.c)().getProducingDeviceDetailLink,offChainDataSource=Object(es.e)(general_selectors.j),t=Object(dist_es.c)().t,devices=props.devices||producingDevices,_props$height=props.height,height=void 0===_props$height?"250px":_props$height;function _showWindowForDevice(){return(_showWindowForDevice=DeviceMap_asyncToGenerator(regeneratorRuntime.mark((function _callee2(device){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:setDeviceHighlighted(device);case 1:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function updateBounds(){var targetMap=0<arguments.length&&void 0!==arguments[0]?arguments[0]:map;if(targetMap&&map!==targetMap&&setMap(targetMap),0!==devices.length&&targetMap){var bounds={east:null,north:null,south:null,west:null},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=devices[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var device=_step.value,latitude=parseFloat(device.gpsLatitude),longitude=parseFloat(device.gpsLongitude);bounds.north=latitude>bounds.north||null===bounds.north?latitude:bounds.north,bounds.south=latitude<bounds.south||null===bounds.south?latitude:bounds.south,bounds.east=longitude>bounds.east||null===bounds.east?longitude:bounds.east,bounds.west=longitude<bounds.west||null===bounds.west?longitude:bounds.west}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}targetMap.fitBounds(bounds,80)}}Object(react.useEffect)((function(){updateBounds()}),[devices,map]),Object(react.useEffect)((function(){DeviceMap_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _ref2,_offChainDataSource$o;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.t0=setOrganizations,_context.next=3,null==offChainDataSource||null===(_offChainDataSource$o=offChainDataSource.organizationClient)||void 0===_offChainDataSource$o?void 0:_offChainDataSource$o.getAll();case 3:if(_context.t2=_ref2=_context.sent,_context.t1=null!==_context.t2,!_context.t1){_context.next=7;break}_context.t1=void 0!==_ref2;case 7:if(!_context.t1){_context.next=11;break}_context.t3=_ref2,_context.next=12;break;case 11:_context.t3=[];case 12:_context.t4=_context.t3,(0,_context.t0)(_context.t4);case 14:case"end":return _context.stop()}}),_callee)})))()}),[offChainDataSource]);var defaultCenter=0<devices.length?{lat:parseFloat(devices[0].gpsLatitude),lng:parseFloat(devices[0].gpsLongitude)}:{lat:0,lng:0};return react_default.a.createElement(reactgooglemapsapi_esm.c,{googleMapsApiKey:"AIzaSyDdEKkBqr8YFbuuaQMbXS72fbrgsxXT-fs",loadingElement:DeviceMap_ref3},react_default.a.createElement(reactgooglemapsapi_esm.a,{center:defaultCenter,zoom:10,mapContainerStyle:{height:height},mapTypeId:"hybrid",onLoad:function onLoad(mapObject){return updateBounds(mapObject)}},devices.map((function(device,index){return react_default.a.createElement(react_default.a.Fragment,{key:index},react_default.a.createElement(reactgooglemapsapi_esm.d,{position:{lat:parseFloat(device.gpsLatitude),lng:parseFloat(device.gpsLongitude)},onClick:function onClick(){return function showWindowForDevice(){return _showWindowForDevice.apply(this,arguments)}(device)}}))})),deviceHighlighted&&react_default.a.createElement(reactgooglemapsapi_esm.b,{position:{lat:parseFloat(deviceHighlighted.gpsLatitude),lng:parseFloat(deviceHighlighted.gpsLongitude)},onCloseClick:function onCloseClick(){setDeviceHighlighted(null)}},react_default.a.createElement("div",{style:{color:"black"}},react_default.a.createElement("b",null,deviceHighlighted.facilityName),DeviceMap_ref4,DeviceMap_ref5,t("deviceMap.properties.owner"),":"," ",null==organizations||null===(_organizations$find=organizations.find((function(o){return(null==o?void 0:o.id)===deviceHighlighted.organization})))||void 0===_organizations$find?void 0:_organizations$find.name,DeviceMap_ref6,DeviceMap_ref7,react_default.a.createElement(react_router_dom.a,{to:getProducingDeviceDetailLink(deviceHighlighted.id)},t("deviceMap.actions.seeMore"))))))}DeviceMap.displayName="DeviceMap",DeviceMap.__docgenInfo={description:"",methods:[],displayName:"DeviceMap",props:{devices:{required:!1,tsType:{name:"Array",elements:[{name:"ProducingDevice.Entity"}],raw:"ProducingDevice.Entity[]"},description:""},height:{required:!1,tsType:{name:"string"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeviceMap.tsx"]={name:"DeviceMap",docgenInfo:DeviceMap.__docgenInfo,path:"src/components/DeviceMap.tsx"});var moment_timezone=__webpack_require__(258),moment_timezone_default=__webpack_require__.n(moment_timezone),TableMaterial=__webpack_require__(134),PaginatedLoaderHooks=__webpack_require__(133),EnergyFormatter=__webpack_require__(138),time=__webpack_require__(115);function SmartMeterReadingsTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function SmartMeterReadingsTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SmartMeterReadingsTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SmartMeterReadingsTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function SmartMeterReadingsTable(props){var producingDevice=props.producingDevice,t=Object(dist_es.c)().t;function _getPaginatedData(){return(_getPaginatedData=SmartMeterReadingsTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref){var requestedPageSize,offset,readings,deviceTimezone,data,currentSmartMeterState,i;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return requestedPageSize=_ref.requestedPageSize,offset=_ref.offset,_context.next=3,producingDevice.getAmountOfEnergyGenerated();case 3:for(readings=_context.sent,deviceTimezone=producingDevice.timezone,data=[],currentSmartMeterState=Object(ethers_utils.bigNumberify)(0),i=0;i<readings.length;i++)currentSmartMeterState=currentSmartMeterState.add(readings[i].energy),data.push([Object(time.b)(moment_timezone_default.a.unix(readings[i].timestamp).tz(deviceTimezone),!0),currentSmartMeterState]);return _context.abrupt("return",{paginatedData:data.reverse().slice(offset,offset+requestedPageSize),total:readings.length});case 9:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoader=Object(PaginatedLoaderHooks.b)({initialPageSize:10,getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),loadPage=_usePaginatedLoader.loadPage,total=_usePaginatedLoader.total,pageSize=_usePaginatedLoader.pageSize,paginatedData=_usePaginatedLoader.paginatedData;Object(react.useEffect)((function(){var isMounted=!0;return loadPage(1,null,(function(){return isMounted})),function(){isMounted=!1}}),[producingDevice]);var columns=[{id:"time",label:t("meterReads.properties.time",{timezone:producingDevice.timezone})},{id:"value",label:t("meterReads.properties.meterValue",{unit:EnergyFormatter.a.displayUnit})}],rows=paginatedData.map((function(data){return{time:data[0],value:EnergyFormatter.a.format(Object(ethers_utils.bigNumberify)(data[1]))}}));return react_default.a.createElement(TableMaterial.a,{columns:columns,rows:rows,loadPage:loadPage,total:total,pageSize:pageSize})}SmartMeterReadingsTable.displayName="SmartMeterReadingsTable",SmartMeterReadingsTable.__docgenInfo={description:"",methods:[],displayName:"SmartMeterReadingsTable",props:{producingDevice:{required:!0,tsType:{name:"ProducingDevice.Entity"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SmartMeterReadingsTable.tsx"]={name:"SmartMeterReadingsTable",docgenInfo:SmartMeterReadingsTable.__docgenInfo,path:"src/components/SmartMeterReadingsTable.tsx"});var TIMEFRAME,react_chartjs_2_es=__webpack_require__(1039),ButtonGroup=__webpack_require__(1917),helper=__webpack_require__(255),utils_configuration=__webpack_require__(177);function SmartMeterReadingsChart_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function SmartMeterReadingsChart_slicedToArray(arr,i){return function SmartMeterReadingsChart_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SmartMeterReadingsChart_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SmartMeterReadingsChart_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(TIMEFRAME){TIMEFRAME.DAY="Day",TIMEFRAME.WEEK="Week",TIMEFRAME.MONTH="Month",TIMEFRAME.YEAR="Year"}(TIMEFRAME||(TIMEFRAME={}));var DEFAULT_TIMEFRAME=TIMEFRAME.MONTH;function SmartMeterReadingsChart(props){var producingDevice=props.producingDevice,originConfiguration=Object(utils_configuration.a)(),t=Object(dist_es.c)().t,_useState2=SmartMeterReadingsChart_slicedToArray(Object(react.useState)({timeframe:DEFAULT_TIMEFRAME,endDate:Object(time.c)().toDate()}),2),selectedTimeFrame=_useState2[0],setSelectedTimeFrame=_useState2[1],_useState4=SmartMeterReadingsChart_slicedToArray(Object(react.useState)([]),2),readings=_useState4[0],setReadings=_useState4[1];Object(react.useEffect)((function(){!function SmartMeterReadingsChart_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){SmartMeterReadingsChart_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){SmartMeterReadingsChart_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.t0=setReadings,_context.next=3,producingDevice.getAmountOfEnergyGenerated();case 3:_context.t1=_context.sent,(0,_context.t0)(_context.t1);case 5:case"end":return _context.stop()}}),_callee)})))()}),[producingDevice]);var graphOptions={maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},tooltips:{callbacks:{label:function label(tooltipItem,data){var tooltipValue=data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];return parseInt(tooltipValue,10).toLocaleString()}}}},endDateInTimezone=Object(time.c)(null==selectedTimeFrame?void 0:selectedTimeFrame.endDate).tz(null==producingDevice?void 0:producingDevice.timezone).clone();function changeSelectedTimeFrame(){var measurementUnit,increment=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],timeframe=selectedTimeFrame.timeframe;measurementUnit=timeframe===TIMEFRAME.DAY?"day":timeframe===TIMEFRAME.WEEK?"week":timeframe===TIMEFRAME.MONTH?"month":"year";var currentDate=endDateInTimezone,newEndDate=increment?currentDate.add(1,measurementUnit):currentDate.subtract(1,measurementUnit);setSelectedTimeFrame({timeframe:timeframe,endDate:newEndDate.toDate()})}var currentRangeInfo=function getCurrentRangeInfo(){var timeframe=selectedTimeFrame.timeframe;return timeframe===TIMEFRAME.WEEK?"".concat(Object(time.b)(endDateInTimezone.startOf("week"))," - ").concat(Object(time.b)(endDateInTimezone.endOf("week"))):timeframe===TIMEFRAME.MONTH?endDateInTimezone.format("MMM YYYY"):timeframe===TIMEFRAME.YEAR?endDateInTimezone.format("YYYY"):Object(time.b)(endDateInTimezone)}(),formattedReadings=function getFormattedReadings(){var measurementUnit,amount,keyFormat,chartEndDate,formatted=[];switch(selectedTimeFrame.timeframe){case TIMEFRAME.DAY:measurementUnit="hour",amount=24,keyFormat="HH",chartEndDate=endDateInTimezone.endOf("day");break;case TIMEFRAME.WEEK:measurementUnit="day",amount=7,keyFormat="ddd D MMM",chartEndDate=endDateInTimezone.endOf("week");break;case TIMEFRAME.MONTH:measurementUnit="day",amount=endDateInTimezone.daysInMonth(),keyFormat="D MMM",chartEndDate=endDateInTimezone.endOf("month");break;case TIMEFRAME.YEAR:measurementUnit="month",amount=12,keyFormat="MMM",chartEndDate=endDateInTimezone.endOf("year")}for(var currentIndex=0;currentIndex<amount;){var _originConfiguration$,currentDate=chartEndDate.clone().subtract(currentIndex,measurementUnit).tz(producingDevice.timezone),totalEnergy=Object(ethers_utils.bigNumberify)(0),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=readings[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var reading=_step.value;time.c.unix(reading.timestamp).tz(producingDevice.timezone).isSame(currentDate,measurementUnit)&&(totalEnergy=totalEnergy.add(reading.energy))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}formatted.push({label:"hour"!==measurementUnit?currentDate.format(keyFormat):"".concat(currentDate.format(keyFormat),":00"),color:null==originConfiguration||null===(_originConfiguration$=originConfiguration.styleConfig)||void 0===_originConfiguration$?void 0:_originConfiguration$.PRIMARY_COLOR,value:EnergyFormatter.a.getValueInDisplayUnit(totalEnergy)}),currentIndex+=1}return Object(helper.d)(formatted)}(),data={labels:formattedReadings.map((function(entry){return entry.label})),datasets:[{label:t("meterReads.properties.energy",{unit:EnergyFormatter.a.displayUnit}),backgroundColor:formattedReadings.map((function(entry){return entry.color})),data:formattedReadings.map((function(entry){return entry.value}))}]},timeFrameButtons=Object.keys(TIMEFRAME).map((function(timeframe,index){var isCurrentlySelected=selectedTimeFrame.timeframe===TIMEFRAME[timeframe];return react_default.a.createElement(Button.a,{key:index,onClick:function(){return setSelectedTimeFrame({timeframe:TIMEFRAME[timeframe],endDate:Object(time.c)().toDate()})},color:"primary",className:"btn-switcher-btn ".concat(isCurrentlySelected?"selected":"")},t("meterReads.properties.timeframes.".concat(null==timeframe?void 0:timeframe.toLowerCase())))}));return graphOptions.title={display:!0,text:currentRangeInfo},react_default.a.createElement("div",{className:"smartMeterReadingsChart text-center"},react_default.a.createElement("div",{className:"row mb-4 vertical-align"},react_default.a.createElement("div",{className:"col-lg-2"},react_default.a.createElement("div",{className:"pull-left arrow-button",onClick:function onClick(){return changeSelectedTimeFrame(!1)}},"<")),react_default.a.createElement("div",{className:"col-lg-8"},react_default.a.createElement(ButtonGroup.a,{className:"btn-switcher",variant:"contained",color:"primary"},timeFrameButtons)),react_default.a.createElement("div",{className:"col-lg-2"},react_default.a.createElement("div",{className:"pull-right arrow-button",onClick:function onClick(){return changeSelectedTimeFrame(!0)}},">"))),react_default.a.createElement("div",{className:"graph"},react_default.a.createElement(react_chartjs_2_es.a,{data:data,options:graphOptions,redraw:!0})))}SmartMeterReadingsChart.displayName="SmartMeterReadingsChart",SmartMeterReadingsChart.__docgenInfo={description:"",methods:[],displayName:"SmartMeterReadingsChart",props:{producingDevice:{required:!0,tsType:{name:"ProducingDevice.Entity"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SmartMeterReadingsChart.tsx"]={name:"SmartMeterReadingsChart",docgenInfo:SmartMeterReadingsChart.__docgenInfo,path:"src/components/SmartMeterReadingsChart.tsx"});var Skeleton=__webpack_require__(1859),formik_esm=__webpack_require__(17),yup_es=__webpack_require__(40),formik_material_ui_es6=__webpack_require__(106),Grid=__webpack_require__(142),Typography=__webpack_require__(141),TableCell=__webpack_require__(363),Paper=__webpack_require__(628),Table_Table=__webpack_require__(1854),TableHead=__webpack_require__(1855),TableRow=__webpack_require__(522),TableBody=__webpack_require__(1856),dist_js_src=__webpack_require__(64),general_actions=__webpack_require__(13),HierarchicalMultiSelect=__webpack_require__(157),FormInput=__webpack_require__(49),List=__webpack_require__(1905),ListItem=__webpack_require__(1848),ListItemIcon=__webpack_require__(1921),Checkbox=__webpack_require__(1049),ListItemText=__webpack_require__(1922);function DevicePermissionsFeedback(props){var canCreateDevice=props.canCreateDevice,t=Object(utils.C)().t;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Typography.a,{variant:"body1",className:"mt-3",gutterBottom:!0},t("device.info.toRegisterADevice")),react_default.a.createElement(List.a,null,null==canCreateDevice?void 0:canCreateDevice.rules.map((function(rule){return react_default.a.createElement(ListItem.a,{key:rule.label,role:void 0,dense:!0},react_default.a.createElement(ListItemIcon.a,null,react_default.a.createElement(Checkbox.a,{edge:"start",checked:rule.passing,tabIndex:-1,disableRipple:!0,disabled:!0})),react_default.a.createElement(ListItemText.a,{primary:rule.label}))}))))}function DeviceGroupForm_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function DeviceGroupForm_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){DeviceGroupForm_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){DeviceGroupForm_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function DeviceGroupForm_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DeviceGroupForm_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DeviceGroupForm_slicedToArray(arr,i){return function DeviceGroupForm_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function DeviceGroupForm_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DeviceGroupForm_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}DevicePermissionsFeedback.__docgenInfo={description:"",methods:[],displayName:"DevicePermissionsFeedback",props:{canCreateDevice:{required:!0,tsType:{name:"IDevicePermission"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DevicePermissionsFeedback.tsx"]={name:"DevicePermissionsFeedback",docgenInfo:DevicePermissionsFeedback.__docgenInfo,path:"src/components/DevicePermissionsFeedback.tsx"});var MAX_TOTAL_CAPACITY=5*dist_js_src.Unit.MW;var INITIAL_FORM_VALUES={facilityName:"",children:[{installationName:"",address:"",city:"",latitude:"",longitude:"",capacity:"",meterId:"",meterType:""}]};function sumCapacityOfDevices(devices){var totalCapacityInKW=devices.reduce((function(a,b){return"number"!=typeof b.capacity||isNaN(b.capacity)?a:a+b.capacity}),0);return"number"!=typeof totalCapacityInKW||isNaN(totalCapacityInKW)?0:totalCapacityInKW*dist_js_src.Unit.kW}var DeviceGroupForm_ref=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200}),DeviceGroupForm_ref2=react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(Typography.a,{className:"mt-3"},"General"))),DeviceGroupForm_ref3=react_default.a.createElement("br",null),DeviceGroupForm_ref4=react_default.a.createElement(TableCell.a,null,"Installation name"),DeviceGroupForm_ref5=react_default.a.createElement(TableCell.a,null,"Village/Town/City"),DeviceGroupForm_ref6=react_default.a.createElement(TableCell.a,null,"Meter id"),DeviceGroupForm_ref7=react_default.a.createElement(TableCell.a,null,"Meter type"),_ref8=react_default.a.createElement(TableCell.a,null),_ref9=react_default.a.createElement("br",null);function DeviceGroupForm(props){var device=props.device,readOnly=props.readOnly,t=Object(utils.C)().t,configuration=Object(es.e)(features_selectors.b),compliance=Object(es.e)(general_selectors.b),country=Object(es.e)(general_selectors.c),externalDeviceIdTypes=Object(es.e)(general_selectors.h),canCreateDevice=Object(utils.y)().canCreateDevice,_useState2=DeviceGroupForm_slicedToArray(Object(react.useState)(null),2),initialFormValuesFromExistingEntity=_useState2[0],setInitialFormValuesFromExistingEntity=_useState2[1],dispatch=Object(es.d)(),selectedDeviceType=["Solar","Solar;Photovoltaic"],classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"},selectContainer:{paddingTop:"10px"}})}))(Object(useTheme.a)());Object(react.useEffect)((function(){if(device){var newInitialFormValuesFromExistingEntity={facilityName:null==device?void 0:device.facilityName,children:JSON.parse(null==device?void 0:device.deviceGroup)};setInitialFormValuesFromExistingEntity(newInitialFormValuesFromExistingEntity)}}),[device]);var externalIdSchema={};if(externalDeviceIdTypes){var requiredDeviceIdTypes=externalDeviceIdTypes.filter((function(id){return(null==id?void 0:id.required)&&!(null==id?void 0:id.autogenerated)})),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=requiredDeviceIdTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)externalIdSchema[_step.value.type]=yup_es.string().required()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var VALIDATION_SCHEMA=yup_es.object().shape(function DeviceGroupForm_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?DeviceGroupForm_ownKeys(source,!0).forEach((function(key){DeviceGroupForm_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DeviceGroupForm_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({facilityName:yup_es.string().label(t("device.properties.facilityName")).required(),children:yup_es.array().of(yup_es.object().shape({installationName:yup_es.string().required("Installation name"),address:yup_es.string().required().label(t("device.properties.address")),city:yup_es.string().required().label("City"),latitude:yup_es.number().label(t("device.properties.latitude")).required().min(-90).max(90),longitude:yup_es.number().label(t("device.properties.longitude")).required().min(-180).max(180),capacity:yup_es.number().required().min(20).label("Capacity"),meterId:yup_es.string().required().label("Meter id"),meterType:yup_es.string().oneOf(["interval","scalar"]).required().label("Meter type")}).test("is-total-capacity-in-bounds","${path} threshold invalid",(function(){return!(sumCapacityOfDevices(this.parent)>MAX_TOTAL_CAPACITY)||this.createError({path:"".concat(this.path,".capacity"),message:"Total capacity can be maximum: ".concat(utils.d.format(MAX_TOTAL_CAPACITY,!0))})}))).min(1)},externalIdSchema));function _submitForm(){return(_submitForm=DeviceGroupForm_asyncToGenerator(regeneratorRuntime.mark((function _callee(values,formikActions){var _values$children$0$la,_values$children$0$lo,externalDeviceIds;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:"Solar;Photovoltaic",formikActions.setSubmitting(!0),externalDeviceIds=externalDeviceIdTypes.map((function(_ref10){var type=_ref10.type;return{id:values[type],type:type}})),dispatch(Object(general_actions.c)({data:{status:src.DeviceStatus.Submitted,deviceType:"Solar;Photovoltaic",complianceRegistry:compliance,facilityName:values.facilityName,capacityInW:sumCapacityOfDevices(values.children),country:country,address:"",region:"",province:"",gpsLatitude:null===(_values$children$0$la=values.children[0].latitude)||void 0===_values$children$0$la?void 0:_values$children$0$la.toString(),gpsLongitude:null===(_values$children$0$lo=values.children[0].longitude)||void 0===_values$children$0$lo?void 0:_values$children$0$lo.toString(),timezone:"Asia/Bangkok",operationalSince:Object(utils.u)().unix(),otherGreenAttributes:"",typeOfPublicSupport:"",description:"",images:JSON.stringify([]),deviceGroup:JSON.stringify(values.children),externalDeviceIds:externalDeviceIds,gridOperator:""},callback:function callback(){formikActions.setSubmitting(!1)}}));case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var initialFormValues=null;return(initialFormValues=readOnly?initialFormValuesFromExistingEntity:INITIAL_FORM_VALUES)&&configuration?readOnly||(null==canCreateDevice?void 0:canCreateDevice.value)?react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(formik_esm.d,{initialValues:initialFormValues,onSubmit:function submitForm(){return _submitForm.apply(this,arguments)},validationSchema:VALIDATION_SCHEMA,isInitialValid:!1},(function(formikProps){var isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting,values=formikProps.values,fieldDisabled=isSubmitting||readOnly;return react_default.a.createElement(formik_esm.c,{translate:""},!readOnly&&react_default.a.createElement(react_default.a.Fragment,null,DeviceGroupForm_ref2,react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("device.properties.facilityName"),name:"facilityName",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})),react_default.a.createElement("div",{className:classes.selectContainer},react_default.a.createElement(HierarchicalMultiSelect.a,{selectedValue:selectedDeviceType,onChange:null,allValues:configuration.deviceTypeService.deviceTypes,selectOptions:[{label:"Device type",placeholder:"Select device type"},{label:"Device type",placeholder:"Select device type"}],disabled:!0,singleChoice:!0}))),react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(TextField.a,{label:"Capacity (".concat(utils.d.displayUnit,")"),value:utils.d.format(sumCapacityOfDevices(null==values?void 0:values.children)),variant:"filled",fullWidth:!0,disabled:!0})),externalDeviceIdTypes.filter((function(externalDeviceId){return!(null==externalDeviceId?void 0:externalDeviceId.autogenerated)})).map((function(externalDeviceIdType,index){return react_default.a.createElement(FormInput.a,{key:index,label:externalDeviceIdType.type,property:externalDeviceIdType.type,disabled:fieldDisabled,className:"mt-3",required:!!externalDeviceIdType.required})}))))),DeviceGroupForm_ref3,react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Table_Table.a,null,react_default.a.createElement(TableHead.a,null,react_default.a.createElement(TableRow.a,null,DeviceGroupForm_ref4,react_default.a.createElement(TableCell.a,null,t("device.properties.address")),DeviceGroupForm_ref5,react_default.a.createElement(TableCell.a,null,t("device.properties.latitude")),react_default.a.createElement(TableCell.a,null,t("device.properties.longitude")),react_default.a.createElement(TableCell.a,null,t("device.properties.capacity")," (kW)"),DeviceGroupForm_ref6,DeviceGroupForm_ref7,!readOnly&&_ref8)),react_default.a.createElement(TableBody.a,null,react_default.a.createElement(formik_esm.b,{name:"children",render:function render(arrayHelpers){return react_default.a.createElement(react_default.a.Fragment,null,values.children.map((function(child,childIndex){return react_default.a.createElement(TableRow.a,{key:childIndex},react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".installationName"),disabled:fieldDisabled,className:"mt-3",variant:"standard",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".address"),disabled:fieldDisabled,className:"mt-3",variant:"standard",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".city"),disabled:fieldDisabled,className:"mt-3",variant:"standard",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".latitude"),disabled:fieldDisabled,className:"mt-3",variant:"standard",type:"number",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".longitude"),disabled:fieldDisabled,className:"mt-3",variant:"standard",type:"number",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".capacity"),disabled:fieldDisabled,className:"mt-3",variant:"standard",type:"number",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".meterId"),disabled:fieldDisabled,className:"mt-3",variant:"standard",required:!0})),react_default.a.createElement(TableCell.a,null,react_default.a.createElement(FormInput.a,{property:"children.".concat(childIndex,".meterType"),disabled:fieldDisabled,className:"mt-3",variant:"standard",required:!0})),!readOnly&&react_default.a.createElement(TableCell.a,null,react_default.a.createElement("span",{onClick:function onClick(){arrayHelpers.remove(childIndex)},style:{cursor:"pointer"}},"Remove")))})),!readOnly&&react_default.a.createElement(TableRow.a,null,react_default.a.createElement(TableCell.a,{colSpan:100},react_default.a.createElement(Button.a,{variant:"contained",className:"mt-3",onClick:function onClick(){arrayHelpers.push({installationName:"",address:"",city:"",latitude:"",longitude:"",capacity:"",meterId:"",meterType:""})},disabled:fieldDisabled},"Add device"))))}})))),!readOnly&&react_default.a.createElement(react_default.a.Fragment,null,_ref9,react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3",disabled:isSubmitting||!isValid||readOnly},"Register")))}))):react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(DevicePermissionsFeedback,{canCreateDevice:canCreateDevice})):DeviceGroupForm_ref}function ProducingDeviceDetailView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ProducingDeviceDetailView_slicedToArray(arr,i){return function ProducingDeviceDetailView_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ProducingDeviceDetailView_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ProducingDeviceDetailView_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}DeviceGroupForm.displayName="DeviceGroupForm",DeviceGroupForm.__docgenInfo={description:"",methods:[],displayName:"DeviceGroupForm",props:{device:{required:!1,tsType:{name:"ProducingDevice.Entity"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeviceGroupForm.tsx"]={name:"DeviceGroupForm",docgenInfo:DeviceGroupForm.__docgenInfo,path:"src/components/DeviceGroupForm.tsx"});var ProducingDeviceDetailView_ref2=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200}),ProducingDeviceDetailView_ref3=react_default.a.createElement("img",{src:marker_default.a,className:"Marker"});function ProducingDeviceDetailView(props){var _useSelector,_organizations$find,_configuration$device,_selectedDevice$lastS,_selectedDevice2,configuration=Object(es.e)(features_selectors.b),producingDevices=Object(es.e)(features_selectors.c),organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,_useState2=ProducingDeviceDetailView_slicedToArray(Object(react.useState)([]),2),organizations=_useState2[0],setOrganizations=_useState2[1],t=Object(utils.C)().t;Object(react.useEffect)((function(){!function ProducingDeviceDetailView_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ProducingDeviceDetailView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ProducingDeviceDetailView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!organizationClient){_context.next=6;break}return _context.t0=setOrganizations,_context.next=4,organizationClient.getAll();case 4:_context.t1=_context.sent,(0,_context.t0)(_context.t1);case 6:case"end":return _context.stop()}}),_callee)})))()}),[organizationClient]);var owner,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({attributionText:{fontSize:"10px",color:"#555555"}})}))(Object(useTheme.a)()),selectedDevice=null;if(null!==props.id&&void 0!==props.id?selectedDevice=producingDevices.find((function(p){return p.id===props.id})):props.externalId&&(selectedDevice=producingDevices.find((function(p){var _p$externalDeviceIds;return null===(_p$externalDeviceIds=p.externalDeviceIds)||void 0===_p$externalDeviceIds?void 0:_p$externalDeviceIds.find((function(deviceExternalId){return deviceExternalId.id===props.externalId.id&&deviceExternalId.type===props.externalId.type}))}))),!configuration||!organizationClient||!selectedDevice)return ProducingDeviceDetailView_ref2;owner=selectedDevice.organization;var tooltip="",selectedDeviceType=selectedDevice.deviceType,image=icon_solar_default.a;selectedDeviceType.startsWith("Wind")?image=icon_wind_default.a:selectedDeviceType.startsWith("Hydro-electric Head")?image=icon_hydro_default.a:selectedDeviceType.startsWith("Thermal")?(image=icon_thermal_default.a,tooltip=t("general.feedback.createdByNoun",{fullName:"Adam Terpening"})):selectedDeviceType.startsWith("Solid")?(image=icon_solid_default.a,tooltip=t("general.feedback.createdByNoun",{fullName:"ahmad"})):selectedDeviceType.startsWith("Liquid")?(image=icon_liquid_default.a,tooltip=t("general.feedback.createdByNoun",{fullName:"BomSymbols"})):selectedDeviceType.startsWith("Gaseous")?(image=icon_gaseous_default.a,tooltip=t("general.feedback.createdByNoun",{fullName:"Deadtype"})):selectedDeviceType.startsWith("Marine")&&(image=icon_marine_default.a,tooltip=t("general.feedback.createdByNoun",{fullName:"Vectors Point"}));var data=[[{label:t("device.properties.facilityName"),data:selectedDevice.facilityName},{label:t("device.properties.deviceOwner"),data:owner?null==organizations||null===(_organizations$find=organizations.find((function(o){var _selectedDevice;return o.id===(null===(_selectedDevice=selectedDevice)||void 0===_selectedDevice?void 0:_selectedDevice.organization)})))||void 0===_organizations$find?void 0:_organizations$find.name:""},{label:t("device.properties.complianceRegistry"),data:selectedDevice.complianceRegistry},{label:t("device.properties.otherGreenAttributes"),data:selectedDevice.otherGreenAttributes}],[{label:t("device.properties.deviceType"),data:null===(_configuration$device=configuration.deviceTypeService)||void 0===_configuration$device?void 0:_configuration$device.getDisplayText(selectedDevice.deviceType),image:image,rowspan:2},{label:t("device.properties.meterRead"),data:utils.b.format(null!==(_selectedDevice$lastS=selectedDevice.lastSmartMeterReadWh)&&void 0!==_selectedDevice$lastS?_selectedDevice$lastS:0),tip:utils.b.displayUnit},{label:t("device.properties.publicSupport"),data:selectedDevice.typeOfPublicSupport,description:""},{label:t("device.properties.vintageCod"),data:Object(utils.j)(1e3*selectedDevice.operationalSince)}],[{label:t("device.properties.nameplateCapacity"),data:utils.d.format(selectedDevice.capacityInW),tip:utils.d.displayUnit},{label:t("device.properties.geoLocation"),data:selectedDevice.gpsLatitude+", "+selectedDevice.gpsLongitude,image:map_default.a,type:"map",rowspan:3,colspan:2}]],pageBody=react_default.a.createElement("div",{className:"PageBody"},react_default.a.createElement("table",null,react_default.a.createElement("tbody",null,data.map((function(row,rowIndex){return react_default.a.createElement("tr",{key:rowIndex},row.map((function(col,colIndex){return react_default.a.createElement("td",{key:colIndex,rowSpan:col.rowspan||1,colSpan:col.colspan||1},react_default.a.createElement("div",{className:"Label"},col.label),react_default.a.createElement("div",{className:"Data"},col.data," ",col.tip&&react_default.a.createElement("span",null,col.tip)),col.image&&("map"!==col.type?react_default.a.createElement("div",{className:"Image"},react_default.a.createElement("img",{src:col.image,style:{maxWidth:"200px",maxHeight:"250px"}}),tooltip&&react_default.a.createElement("div",{className:classes.attributionText},tooltip),"map"===col.type&&ProducingDeviceDetailView_ref3):react_default.a.createElement("div",{className:"Image Map"},react_default.a.createElement(DeviceMap,{devices:[selectedDevice]}))),col.description&&react_default.a.createElement("div",{className:"Description"},col.description))})))})))));return react_default.a.createElement("div",{className:"DetailViewWrapper"},react_default.a.createElement("div",{className:"PageContentWrapper"},pageBody,props.showSmartMeterReadings&&react_default.a.createElement("div",{className:"PageBody p-4"},react_default.a.createElement("div",{className:"PageBodyTitle"},t("meterReads.properties.smartMeterReadings")),react_default.a.createElement("div",{className:"container-fluid"},react_default.a.createElement("div",{className:"row"},react_default.a.createElement("div",{className:"col-lg-4"},react_default.a.createElement(SmartMeterReadingsTable,{producingDevice:selectedDevice})),react_default.a.createElement("div",{className:"col-lg-8"},react_default.a.createElement(SmartMeterReadingsChart,{producingDevice:selectedDevice})))))),(null===(_selectedDevice2=selectedDevice)||void 0===_selectedDevice2?void 0:_selectedDevice2.deviceGroup)&&react_default.a.createElement(DeviceGroupForm,{device:selectedDevice,readOnly:!0}))}function CertificateDetailView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function CertificateDetailView_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){CertificateDetailView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){CertificateDetailView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function CertificateDetailView_slicedToArray(arr,i){return function CertificateDetailView_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CertificateDetailView_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function CertificateDetailView_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ProducingDeviceDetailView.displayName="ProducingDeviceDetailView",ProducingDeviceDetailView.__docgenInfo={description:"",methods:[],displayName:"ProducingDeviceDetailView",props:{id:{required:!1,tsType:{name:"number"},description:""},externalId:{required:!1,tsType:{name:"IExternalDeviceId"},description:""},showSmartMeterReadings:{required:!0,tsType:{name:"boolean"},description:""},showCertificates:{required:!0,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ProducingDeviceDetailView.tsx"]={name:"ProducingDeviceDetailView",docgenInfo:ProducingDeviceDetailView.__docgenInfo,path:"src/components/ProducingDeviceDetailView.tsx"});var CertificateDetailView_ref=react_default.a.createElement("br",null),CertificateDetailView_ref2=react_default.a.createElement("br",null),CertificateDetailView_ref3=react_default.a.createElement("div",{className:"text-center"},react_default.a.createElement("strong",null,"Certificate not found")),CertificateDetailView_ref4=react_default.a.createElement(Skeleton.a,{variant:"rect",height:50});function CertificateDetailView(props){var id=props.id,certificates=Object(es.e)(certificates_selectors.c),configuration=Object(es.e)(features_selectors.b),environment=Object(es.e)(general_selectors.e),_useState2=CertificateDetailView_slicedToArray(Object(react.useState)([]),2),events=_useState2[0],setEvents=_useState2[1],classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({eventsLoader:{padding:"20px"}})}))(Object(useTheme.a)()),selectedCertificate=null!=id&&certificates.find((function(c){return c.id===id}));function enrichEvent(){return _enrichEvent.apply(this,arguments)}function _enrichEvent(){return(_enrichEvent=CertificateDetailView_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var allCertificateEvents,jointEvents,resolvedEvents,request;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,js_src.CertificateUtils.getAllCertificateEvents(selectedCertificate.id,selectedCertificate.configuration);case 2:return allCertificateEvents=_context3.sent,jointEvents=allCertificateEvents.map(function(){var _ref5=CertificateDetailView_asyncToGenerator(regeneratorRuntime.mark((function _callee2(event){var label,description,newOwner,oldOwner;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=event.name,_context2.next="IssuanceSingle"===_context2.t0?3:"TransferSingle"===_context2.t0?6:"ClaimSingle"===_context2.t0?8:11;break;case 3:return label="Certified",description="Local issuer approved the certification request",_context2.abrupt("break",12);case 6:return"0x0000000000000000000000000000000000000000"===event.values._from?(label="Initial owner",description=event.values._to):(newOwner=event.values._to,oldOwner=event.values._from,label="Changed ownership",description="Transferred from ".concat(oldOwner," to ").concat(newOwner)),_context2.abrupt("break",12);case 8:return label="Certificate claimed",description="Initiated by ".concat(event.values._claimIssuer),_context2.abrupt("break",12);case 11:label=event.name;case 12:return _context2.abrupt("return",{txHash:event.transactionHash,label:label,description:description,timestamp:event.timestamp});case 13:case"end":return _context2.stop()}}),_callee2)})));return function(){return _ref5.apply(this,arguments)}}()),_context3.next=6,Promise.all(jointEvents);case 6:return resolvedEvents=_context3.sent,_context3.next=9,new js_src.CertificationRequest(selectedCertificate.certificationRequestId,configuration).sync();case 9:(request=_context3.sent)&&resolvedEvents.unshift({txHash:"",label:"Requested certification",description:"Device owner requested certification based on meter reads",timestamp:request.created}),setEvents(Object(helper.b)(resolvedEvents).sort((function(a,b){return a.timestamp-b.timestamp})));case 12:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}Object(react.useEffect)((function(){function _init(){return(_init=CertificateDetailView_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(selectedCertificate){_context.next=2;break}return _context.abrupt("return");case 2:return _context.next=4,enrichEvent();case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}!function init(){return _init.apply(this,arguments)}()}),[null==selectedCertificate?void 0:selectedCertificate.id]);var data,eventsDisplay=[];if(selectedCertificate){eventsDisplay=events.reverse().map((function(event,index){return react_default.a.createElement("p",{key:index},react_default.a.createElement("span",{className:"timestamp text-muted"},Object(time.b)(1e3*event.timestamp,!0),event.txHash&&react_default.a.createElement(react_default.a.Fragment,null," ","-"," ",react_default.a.createElement("a",{href:"".concat(environment.BLOCKCHAIN_EXPLORER_URL,"/tx/").concat(event.txHash),className:"text-muted",target:"_blank",rel:"noopener"},event.txHash))),CertificateDetailView_ref,event.label,event.description?" - ".concat(event.description):"",CertificateDetailView_ref2)}));var _selectedCertificate$=selectedCertificate.energy,publicVolume=_selectedCertificate$.publicVolume,privateVolume=_selectedCertificate$.privateVolume,claimedVolume=_selectedCertificate$.claimedVolume;data=[[{label:"Certificate id",data:selectedCertificate.id.toString()},{label:"Claimed",data:selectedCertificate.isClaimed?"yes":"no"},{label:"Creation date",data:Object(time.b)(1e3*selectedCertificate.creationTime)}],[{label:"Certified energy (".concat(EnergyFormatter.a.displayUnit,")"),data:EnergyFormatter.a.format(selectedCertificate.isClaimed?claimedVolume:publicVolume.add(privateVolume))},{label:"Generation start",data:Object(time.b)(1e3*selectedCertificate.generationStartTime,!0)},{label:"Generation end",data:Object(time.b)(1e3*selectedCertificate.generationEndTime,!0)}]]}return react_default.a.createElement("div",{className:"DetailViewWrapper"},react_default.a.createElement("div",{className:"PageContentWrapper"},react_default.a.createElement("div",{className:"PageBody"},selectedCertificate?react_default.a.createElement("div",null,react_default.a.createElement("table",null,react_default.a.createElement("tbody",null,data.map((function(row,rowIndex){return react_default.a.createElement("tr",{key:rowIndex},row.map((function(col){return react_default.a.createElement("td",{key:col.label,rowSpan:1,colSpan:1},react_default.a.createElement("div",{className:"Label"},col.label),react_default.a.createElement("div",{className:"Data"},col.data))})))}))))):CertificateDetailView_ref3),selectedCertificate&&react_default.a.createElement(ProducingDeviceDetailView,{externalId:{id:selectedCertificate.deviceId,type:environment.ISSUER_ID},showSmartMeterReadings:!1,showCertificates:!1}),selectedCertificate&&react_default.a.createElement("div",{className:"PageBody"},0===eventsDisplay.length?react_default.a.createElement("div",{className:classes.eventsLoader},CertificateDetailView_ref4):react_default.a.createElement("div",{className:"history"},react_default.a.createElement("div",null,eventsDisplay)))))}CertificateDetailView.displayName="CertificateDetailView",CertificateDetailView.__docgenInfo={description:"",methods:[],displayName:"CertificateDetailView",props:{id:{required:!0,tsType:{name:"number"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CertificateDetailView.tsx"]={name:"CertificateDetailView",docgenInfo:CertificateDetailView.__docgenInfo,path:"src/components/CertificateDetailView.tsx"});var Check=__webpack_require__(1923);function CertificationRequestsTable_toConsumableArray(arr){return function CertificationRequestsTable_arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function CertificationRequestsTable_iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function CertificationRequestsTable_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function CertificationRequestsTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function CertificationRequestsTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){CertificationRequestsTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){CertificationRequestsTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var CertificationRequestsTable_ref=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200}),CertificationRequestsTable_ref2=react_default.a.createElement(Check.a,null);function CertificationRequestsTable(props){var configuration=Object(es.e)(features_selectors.b),user=Object(es.e)(selectors.d),producingDevices=Object(es.e)(features_selectors.c),offChainDataSource=Object(es.e)(general_selectors.j),environment=Object(es.e)(general_selectors.e),t=Object(utils.C)().t,dispatch=Object(es.d)();function _getPaginatedData(){return(_getPaginatedData=CertificationRequestsTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref4){var requestedPageSize,offset,isIssuer,requests,newPaginatedData,_loop,i,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(requestedPageSize=_ref4.requestedPageSize,offset=_ref4.offset,user&&offChainDataSource&&0!==producingDevices.length){_context.next=3;break}return _context.abrupt("return",{paginatedData:[],total:0});case 3:return isIssuer=Object(src.isRole)(user,src.Role.Issuer),_context.next=6,Object(js_src.getAllCertificationRequests)(configuration);case 6:_context.t0=function(cert){return cert.initialized},requests=_context.sent.filter(_context.t0),newPaginatedData=[],_loop=function(i){var request=requests[i],device=producingDevices.find((function(a){return Object(utils.n)(a,environment)===request.deviceId}));if(request.approved!==props.approved||!isIssuer&&(null==user?void 0:user.organization.id)!==(null==device?void 0:device.organization))return"continue";newPaginatedData.push({request:request,device:device})},i=0;case 11:if(!(i<requests.length)){_context.next=18;break}if("continue"!==_loop(i)){_context.next=15;break}return _context.abrupt("continue",15);case 15:i++,_context.next=11;break;case 18:return newTotal=newPaginatedData.length,newPaginatedData=newPaginatedData.slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:newPaginatedData,total:newTotal});case 21:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoader=Object(PaginatedLoaderHooks.b)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoader.paginatedData,loadPage=_usePaginatedLoader.loadPage,total=_usePaginatedLoader.total,pageSize=_usePaginatedLoader.pageSize;function _approve(){return(_approve=CertificationRequestsTable_asyncToGenerator(regeneratorRuntime.mark((function _callee2(rowIndex){var certificationRequest;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:certificationRequest=paginatedData[rowIndex].request,dispatch(Object(certificates_actions.d)({certificationRequest:certificationRequest,callback:function callback(){loadPage(1)}}));case 2:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}if(Object(react.useEffect)((function(){loadPage(1)}),[props.approved,user,producingDevices.length,configuration]),!configuration)return CertificationRequestsTable_ref;var actions=Object(src.isRole)(user,src.Role.Issuer)&&!props.approved?[{icon:CertificationRequestsTable_ref2,name:"Approve",onClick:function onClick(row){return function approve(){return _approve.apply(this,arguments)}(parseInt(row,10))}}]:[],columns=[{id:"facility",label:"Facility"}].concat(CertificationRequestsTable_toConsumableArray(Object(utils.k)(environment,t)),[{id:"type",label:"Type"},{id:"capacity",label:"Capacity (".concat(utils.d.displayUnit,")")},{id:"meterRead",label:"Meter Read (".concat(utils.b.displayUnit,")")},{id:"files",label:"Evidence files"}]),rows=paginatedData.map((function(_ref3){var device=_ref3.device,request=_ref3.request;return{facility:null==device?void 0:device.facilityName,gridOperator:Object(utils.m)(device),deviceLocation:Object(utils.o)(device),type:configuration.deviceTypeService.getDisplayText(null==device?void 0:device.deviceType),capacity:utils.d.format(null==device?void 0:device.capacityInW),meterRead:utils.b.format(request.energy),files:request.files.map((function(f){return react_default.a.createElement("div",{key:f},react_default.a.createElement("a",{href:offChainDataSource.filesClient.getLink(f),target:"_blank",rel:"noopener noreferrer"},f))}))}}));return react_default.a.createElement(TableMaterial.a,{columns:columns,rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,actions:actions})}CertificationRequestsTable.displayName="CertificationRequestsTable",CertificationRequestsTable.__docgenInfo={description:"",methods:[],displayName:"CertificationRequestsTable",props:{approved:{required:!0,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CertificationRequestsTable.tsx"]={name:"CertificationRequestsTable",docgenInfo:CertificationRequestsTable.__docgenInfo,path:"src/components/CertificationRequestsTable.tsx"});var exchange=__webpack_require__(361);function CertificateDetailViewId(id){return react_default.a.createElement(CertificateDetailView,{id:id})}function InboxCertificates(){return react_default.a.createElement(CertificateTable,{selectedState:SelectedState.Inbox})}function ClaimedCertificates(){return react_default.a.createElement(CertificateTable,{selectedState:SelectedState.Claimed})}CertificateDetailViewId.displayName="CertificateDetailViewId",InboxCertificates.displayName="InboxCertificates",ClaimedCertificates.displayName="ClaimedCertificates";var Certificates_ref=react_default.a.createElement(CertificationRequestsTable,{approved:!1}),PendingCertificationRequestsTable=function(){return Certificates_ref};PendingCertificationRequestsTable.displayName="PendingCertificationRequestsTable";var Certificates_ref2=react_default.a.createElement(CertificationRequestsTable,{approved:!0}),ApprovedCertificationRequestsTable=function(){return Certificates_ref2};function Certificates(){var _ref3,currencies=Object(es.e)(general_selectors.d),user=Object(es.e)(selectors.d),_useLinks=Object(utils.A)(),baseURL=_useLinks.baseURL,getCertificatesLink=_useLinks.getCertificatesLink,t=Object(dist_es.c)().t,defaultCurrency=null!==(_ref3=currencies&&currencies[0])&&void 0!==_ref3?_ref3:"USD",_ref4=react_default.a.createElement(exchange.b,{currency:defaultCurrency}),_ref5=react_default.a.createElement(exchange.c,{currency:defaultCurrency}),isIssuer=Object(src.isRole)(user,src.Role.Issuer),CertificatesMenu=[{key:"inbox",label:"navigation.certificates.inbox",component:InboxCertificates,show:user&&!isIssuer},{key:"claims_report",label:"navigation.certificates.claimsReport",component:ClaimedCertificates,show:user&&!isIssuer},{key:"detail_view",label:"navigation.certificates.detailView",component:null,show:!1},{key:"pending",label:"navigation.certificates.pending",component:PendingCertificationRequestsTable,show:user},{key:"approved",label:"navigation.certificates.approved",component:ApprovedCertificationRequestsTable,show:isIssuer},{key:"exchange",label:"navigation.certificates.exchange",component:function ExchangeRoute(){return _ref4},show:!0},{key:"my-trades",label:"navigation.certificates.myTrades",component:function TradesRoute(){return _ref5},show:user}],defaultRedirect={pathname:"".concat(getCertificatesLink(),"/").concat(user?isIssuer?CertificatesMenu[3].key:CertificatesMenu[0].key:CertificatesMenu[5].key)},_ref6=react_default.a.createElement(react_router.a,{to:defaultRedirect}),_ref7=react_default.a.createElement(react_router.a,{to:defaultRedirect});return react_default.a.createElement("div",{className:"PageWrapper"},react_default.a.createElement("div",{className:"PageNav"},react_default.a.createElement("ul",{className:"NavMenu nav"},CertificatesMenu.map((function(menu){if(menu.show){var link="".concat(getCertificatesLink(),"/").concat(menu.key);return react_default.a.createElement("li",{key:menu.key},react_default.a.createElement(react_router_dom.b,{to:link},t(menu.label)))}})))),react_default.a.createElement(react_router.b,{path:"".concat(getCertificatesLink(),"/:key/:id?"),render:function render(props){var key=props.match.params.key,id=props.match.params.id,matches=CertificatesMenu.filter((function(item){return item.key===key}));return 0<matches.length&&"detail_view"===key&&(matches[0].component=function(){return CertificateDetailViewId(parseInt(id,10))}),react_default.a.createElement(PageContent_PageContent,{menu:0<matches.length?matches[0]:null,redirectPath:getCertificatesLink()})}}),react_default.a.createElement(react_router.b,{exact:!0,path:getCertificatesLink(),render:function render(){return _ref6}}),react_default.a.createElement(react_router.b,{exact:!0,path:"".concat(baseURL,"/"),render:function render(){return _ref7}}))}ApprovedCertificationRequestsTable.displayName="ApprovedCertificationRequestsTable",Certificates.displayName="Certificates",Certificates.__docgenInfo={description:"",methods:[],displayName:"Certificates"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Certificates.tsx"]={name:"Certificates",docgenInfo:Certificates.__docgenInfo,path:"src/components/Certificates.tsx"});var Fab=__webpack_require__(1858),Assignment=__webpack_require__(1924),Add=__webpack_require__(1925),producingDevices_actions=__webpack_require__(239);function ProducingDeviceTable_toConsumableArray(arr){return function ProducingDeviceTable_arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function ProducingDeviceTable_iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function ProducingDeviceTable_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ProducingDeviceTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function ProducingDeviceTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ProducingDeviceTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ProducingDeviceTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function ProducingDeviceTable_slicedToArray(arr,i){return function ProducingDeviceTable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function ProducingDeviceTable_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function ProducingDeviceTable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ProducingDeviceTable_ref2=react_default.a.createElement(Assignment.a,null),ProducingDeviceTable_ref3=react_default.a.createElement(Check.a,null),ProducingDeviceTable_ref4=react_default.a.createElement(Add.a,null);function ProducingDeviceTable(props){var _useState2=ProducingDeviceTable_slicedToArray(Object(react.useState)(null),2),detailViewForDeviceId=_useState2[0],setDetailViewForDeviceId=_useState2[1],configuration=Object(es.e)(features_selectors.b),user=Object(es.e)(selectors.d),producingDevices=Object(es.e)(features_selectors.c),baseURL=Object(es.e)(features_selectors.a),organizations=Object(es.e)(selectors.c),environment=Object(es.e)(features.c),dispatch=Object(es.d)();function enrichProducingDeviceData(){var enriched=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var device=_step.value,organization=organizations.find((function(o){return o.id===device.organization}));enriched.push({device:device,organizationName:null==organization?void 0:organization.name,locationText:Object(utils.o)(device)})},_iterator=producingDevices[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return enriched}function _getPaginatedData(){return(_getPaginatedData=ProducingDeviceTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref5){var requestedPageSize,offset,requestedFilters,enrichedDeviceData,includedStatuses,filteredEnrichedDeviceData,total,paginatedData;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return requestedPageSize=_ref5.requestedPageSize,offset=_ref5.offset,requestedFilters=_ref5.requestedFilters,_context.next=3,enrichProducingDeviceData();case 3:return enrichedDeviceData=_context.sent,includedStatuses=props.includedStatuses||[],filteredEnrichedDeviceData=enrichedDeviceData.filter((function(record){var _record$device2,_user$organization;return Object(Table.f)(record,requestedFilters,configuration.deviceTypeService)&&(!props.owner||(null==record||null===(_record$device2=record.device)||void 0===_record$device2?void 0:_record$device2.organization)===(null==user||null===(_user$organization=user.organization)||void 0===_user$organization?void 0:_user$organization.id))&&(0===includedStatuses.length||includedStatuses.includes(record.device.status))})),total=filteredEnrichedDeviceData.length,paginatedData=filteredEnrichedDeviceData.slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:paginatedData,total:total});case 9:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoaderFi=Object(Table.g)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoaderFi.paginatedData,loadPage=_usePaginatedLoaderFi.loadPage,total=_usePaginatedLoaderFi.total,pageSize=_usePaginatedLoaderFi.pageSize,t=Object(utils.C)().t;function _requestCerts(){return(_requestCerts=ProducingDeviceTable_asyncToGenerator(regeneratorRuntime.mark((function _callee2(rowIndex){return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:dispatch(Object(certificates_actions.k)({producingDevice:paginatedData[rowIndex].device}));case 1:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function _approve(){return(_approve=ProducingDeviceTable_asyncToGenerator(regeneratorRuntime.mark((function _callee3(rowIndex){var producingDevice;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return producingDevice=paginatedData[rowIndex].device,dispatch(Object(general_actions.h)(!0)),_context3.prev=2,_context3.next=5,producingDevice.setStatus(src.DeviceStatus.Active);case 5:return _context3.t0=dispatch,_context3.t1=producingDevices_actions.b,_context3.next=9,producingDevice.sync();case 9:return _context3.t2=_context3.sent,_context3.t3=(0,_context3.t1)(_context3.t2),_context3.next=13,(0,_context3.t0)(_context3.t3);case 13:return Object(utils.x)("Device has been approved.",utils.c.Success),_context3.next=16,loadPage(1);case 16:_context3.next=22;break;case 18:_context3.prev=18,_context3.t4=_context3.catch(2),Object(utils.x)("Unexpected error occurred when approving device.",utils.c.Error),console.error(_context3.t4);case 22:dispatch(Object(general_actions.h)(!1));case 23:case"end":return _context3.stop()}}),_callee3,null,[[2,18]])})))).apply(this,arguments)}Object(react.useEffect)((function(){loadPage(1)}),[user,producingDevices,organizations]);var filters=[{property:function property(record){var _record$device;return"".concat(null==record||null===(_record$device=record.device)||void 0===_record$device?void 0:_record$device.facilityName).concat(null==record?void 0:record.organizationName)},label:t("search.searchByFacilityNameAndOrganization"),input:{type:Table.c.string},search:!0}],hiddenColumns=props.hiddenColumns||[],columns=[{id:"owner",label:t("device.properties.owner")},{id:"facilityName",label:t("device.properties.facilityName")}].concat(ProducingDeviceTable_toConsumableArray(Object(utils.k)(environment,t)),[{id:"type",label:t("device.properties.type")},{id:"capacity",label:"".concat(t("device.properties.nameplateCapacity")," (").concat(utils.d.displayUnit,")")},{id:"status",label:t("device.properties.status")},{id:"read",label:"".concat(t("device.properties.meterRead")," (").concat(utils.b.displayUnit,")")}]).filter((function(column){return!hiddenColumns.includes(column.id)})),rows=paginatedData.map((function(enrichedData){var _ref,_configuration$device,_enrichedData$device$,_enrichedData$device;return{owner:enrichedData.organizationName,facilityName:enrichedData.device.facilityName,deviceLocation:enrichedData.locationText,type:null!==(_ref=null==configuration||null===(_configuration$device=configuration.deviceTypeService)||void 0===_configuration$device?void 0:_configuration$device.getDisplayText(enrichedData.device.deviceType))&&void 0!==_ref?_ref:"",capacity:utils.d.format(enrichedData.device.capacityInW),read:utils.b.format(null!==(_enrichedData$device$=enrichedData.device.lastSmartMeterReadWh)&&void 0!==_enrichedData$device$?_enrichedData$device$:0),status:src.DeviceStatus[enrichedData.device.status],gridOperator:null==enrichedData||null===(_enrichedData$device=enrichedData.device)||void 0===_enrichedData$device?void 0:_enrichedData$device.gridOperator}}));if(null!==detailViewForDeviceId)return react_default.a.createElement(react_router.a,{push:!0,to:Object(utils.r)(baseURL,detailViewForDeviceId)});var actions=[];return props.actions.requestCertificates&&Object(src.isRole)(user,src.Role.DeviceManager)&&actions.push({icon:ProducingDeviceTable_ref2,name:t("device.actions.requestCertificates"),onClick:function requestCerts(){return _requestCerts.apply(this,arguments)}}),props.actions.approve&&Object(src.isRole)(user,src.Role.Issuer)&&actions.push({icon:ProducingDeviceTable_ref3,name:t("device.actions.approve"),onClick:function approve(){return _approve.apply(this,arguments)}}),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Table.e,{columns:columns,rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,filters:filters,handleRowClick:function handleRowClick(index){return function viewDevice(rowIndex){var device=paginatedData[rowIndex].device;setDetailViewForDeviceId(device.id)}(parseInt(index,10))},actions:actions}),props.showAddDeviceButton&&react_default.a.createElement(react_router_dom.a,{to:"/devices/add"},react_default.a.createElement(Tooltip.a,{title:t("device.actions.registerDevice")},react_default.a.createElement(Fab.a,{color:"primary","aria-label":"add",style:{position:"relative",marginTop:"20px",float:"right"}},ProducingDeviceTable_ref4))))}ProducingDeviceTable.__docgenInfo={description:"",methods:[],displayName:"ProducingDeviceTable",props:{actions:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    requestCertificates?: boolean;\n    approve?: boolean;\n}",signature:{properties:[{key:"requestCertificates",value:{name:"boolean",required:!1}},{key:"approve",value:{name:"boolean",required:!1}}]}},description:""},owner:{required:!1,tsType:{name:"number"},description:""},showAddDeviceButton:{required:!1,tsType:{name:"boolean"},description:""},hiddenColumns:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},includedStatuses:{required:!1,tsType:{name:"Array",elements:[{name:"DeviceStatus"}],raw:"DeviceStatus[]"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ProducingDeviceTable.tsx"]={name:"ProducingDeviceTable",docgenInfo:ProducingDeviceTable.__docgenInfo,path:"src/components/ProducingDeviceTable.tsx"});__webpack_require__(320);var FormikDatePicker=__webpack_require__(405),CloudUpload=__webpack_require__(1926),Form=__webpack_require__(229),DeviceSelectors=__webpack_require__(510);function AddDevice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function AddDevice_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){AddDevice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){AddDevice_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function AddDevice_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function AddDevice_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function AddDevice_slicedToArray(arr,i){return function AddDevice_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function AddDevice_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function AddDevice_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var AddDevice_INITIAL_FORM_VALUES={facilityName:"",capacity:"",commissioningDate:null,registrationDate:null,address:"",latitude:"",longitude:"",supported:!1,projectStory:""},AddDevice_ref=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200}),AddDevice_ref2=react_default.a.createElement("br",null),AddDevice_ref3=react_default.a.createElement("br",null),AddDevice_ref4=react_default.a.createElement(CloudUpload.a,null);function AddDevice(){var configuration=Object(es.e)(features.b),compliance=Object(es.e)(general_selectors.b),country=Object(es.e)(general_selectors.c),offChainDataSource=Object(es.e)(general_selectors.j),externalDeviceIdTypes=Object(es.e)(general_selectors.h),environment=Object(es.e)(features.c),dispatch=Object(es.d)(),t=Object(utils.C)().t,_useValidation=Object(utils.D)(),Yup=_useValidation.Yup,yupLocaleInitialized=_useValidation.yupLocaleInitialized,_useState2=AddDevice_slicedToArray(Object(react.useState)([]),2),selectedDeviceType=_useState2[0],setSelectedDeviceType=_useState2[1],_useState4=AddDevice_slicedToArray(Object(react.useState)([]),2),selectedLocation=_useState4[0],setSelectedLocation=_useState4[1],_useState6=AddDevice_slicedToArray(Object(react.useState)([]),2),selectedGridOperator=_useState6[0],setSelectedGridOperator=_useState6[1],_useState8=AddDevice_slicedToArray(Object(react.useState)(!1),2),imagesUploaded=_useState8[0],setImagesUploaded=_useState8[1],_useState10=AddDevice_slicedToArray(Object(react.useState)([]),2),imagesUploadedList=_useState10[0],setImagesUploadedList=_useState10[1],canCreateDevice=Object(utils.y)().canCreateDevice,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"},selectContainer:{paddingTop:"10px"},fileUploadInput:{display:"none"}})}))(Object(useTheme.a)()),externalIdSchema={};if(externalDeviceIdTypes){var requiredDeviceIdTypes=externalDeviceIdTypes.filter((function(id){return(null==id?void 0:id.required)&&!(null==id?void 0:id.autogenerated)})),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=requiredDeviceIdTypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)externalIdSchema[_step.value.type]=Yup.string().required()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}var VALIDATION_SCHEMA=Yup.object().shape(function AddDevice_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?AddDevice_ownKeys(source,!0).forEach((function(key){AddDevice_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):AddDevice_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({facilityName:Yup.string().label(t("device.properties.facilityName")).required(),capacity:Yup.number().label(t("device.properties.capacity")).required().positive(),commissioningDate:Yup.date().required(),registrationDate:Yup.date().required(),address:Yup.string().label(t("device.properties.address")).required(),latitude:Yup.number().label(t("device.properties.latitude")).required().min(-90).max(90),longitude:Yup.number().label(t("device.properties.longitude")).required().min(-180).max(180),supported:Yup.boolean(),projectStory:Yup.string()},externalIdSchema));function _submitForm(){return(_submitForm=AddDevice_asyncToGenerator(regeneratorRuntime.mark((function _callee(values,formikActions){var _values$commissioning,deviceType,_selectedLocation,region,province,externalDeviceIds;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:deviceType=selectedDeviceType.sort((function(a,b){return b.length-a.length}))[0],formikActions.setSubmitting(!0),_selectedLocation=AddDevice_slicedToArray(selectedLocation,2),region=_selectedLocation[0],province=_selectedLocation[1],externalDeviceIds=externalDeviceIdTypes.map((function(_ref5){var type=_ref5.type;return{id:values[type],type:type}})),dispatch(Object(general_actions.c)({data:{status:src.DeviceStatus.Submitted,deviceType:deviceType,complianceRegistry:compliance,facilityName:values.facilityName,capacityInW:utils.d.getBaseValueFromValueInDisplayUnit(parseFloat(values.capacity)),country:country,address:values.address,region:region||"",province:province?province.split(";")[1]:"",gpsLatitude:values.latitude,gpsLongitude:values.longitude,timezone:"Asia/Bangkok",operationalSince:null===(_values$commissioning=values.commissioningDate)||void 0===_values$commissioning?void 0:_values$commissioning.unix(),otherGreenAttributes:"",typeOfPublicSupport:"",description:values.projectStory,images:JSON.stringify(imagesUploadedList),externalDeviceIds:externalDeviceIds,gridOperator:selectedGridOperator&&selectedGridOperator[0]||""},callback:function callback(){formikActions.setSubmitting(!1)}}));case 5:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _uploadImages(){return(_uploadImages=AddDevice_asyncToGenerator(regeneratorRuntime.mark((function _callee2(files){var uploadedFiles;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!(10<files.length)){_context2.next=3;break}return Object(utils.x)(t("device.feedback.pleaseSelectUpToXImages",{limit:10,actual:files.length}),utils.c.Error),_context2.abrupt("return");case 3:return _context2.prev=3,_context2.next=6,offChainDataSource.filesClient.upload(files);case 6:uploadedFiles=_context2.sent,setImagesUploaded(!0),setImagesUploadedList(uploadedFiles),_context2.next=15;break;case 11:_context2.prev=11,_context2.t0=_context2.catch(3),console.log(_context2.t0),Object(utils.x)(t("device.feedback.unexpectedErrorWhenUploadingImages"),utils.c.Error);case 15:case"end":return _context2.stop()}}),_callee2,null,[[3,11]])})))).apply(this,arguments)}return configuration&&yupLocaleInitialized?(null==canCreateDevice?void 0:canCreateDevice.value)?react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(formik_esm.d,{initialValues:AddDevice_INITIAL_FORM_VALUES,onSubmit:function submitForm(){return _submitForm.apply(this,arguments)},validationSchema:VALIDATION_SCHEMA,isInitialValid:!1},(function(formikProps){var isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting,fieldDisabled=isSubmitting,buttonDisabled=isSubmitting||!isValid||0===selectedDeviceType.length||!Object(utils.e)(selectedLocation,selectedGridOperator,environment);return react_default.a.createElement(formik_esm.c,{translate:""},react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(Typography.a,{className:"mt-3"},t("device.info.general")))),react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("device.properties.facilityName"),name:"facilityName",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})),react_default.a.createElement("div",{className:classes.selectContainer},react_default.a.createElement(HierarchicalMultiSelect.a,{selectedValue:selectedDeviceType,onChange:function onChange(value){return setSelectedDeviceType(value)},allValues:configuration.deviceTypeService.deviceTypes,selectOptions:[{label:t("device.properties.deviceType"),placeholder:t("device.info.selectDeviceType")},{label:t("device.properties.deviceType"),placeholder:t("device.info.selectDeviceType")},{label:t("device.properties.deviceType"),placeholder:t("device.info.selectDeviceType")}],disabled:fieldDisabled,singleChoice:!0})),react_default.a.createElement(formik_esm.a,{name:"commissioningDate",label:t("device.properties.vintageCod"),className:"mt-3",inputVariant:"filled",variant:"inline",fullWidth:!0,required:!0,component:FormikDatePicker.a,disabled:fieldDisabled}),react_default.a.createElement(formik_esm.a,{name:"registrationDate",label:t("device.properties.registrationDate"),className:"mt-3",inputVariant:"filled",variant:"inline",fullWidth:!0,required:!0,component:FormikDatePicker.a,disabled:fieldDisabled}),react_default.a.createElement(formik_esm.a,{name:"supported",Label:{label:t("device.info.supported")},color:"primary",component:formik_material_ui_es6.a,disabled:fieldDisabled})),react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:"".concat(t("device.properties.capacity")," (").concat(utils.d.displayUnit,")"),name:"capacity",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})),react_default.a.createElement(Grid.a,{container:!0},react_default.a.createElement(DeviceSelectors.a,{location:selectedLocation,onLocationChange:setSelectedLocation,gridOperator:selectedGridOperator,onGridOperatorChange:setSelectedGridOperator,gridItemSize:12,singleChoice:!0,disabled:fieldDisabled})),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("device.properties.address"),name:"address",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("device.properties.latitude"),name:"latitude",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("device.properties.longitude"),name:"longitude",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})))),react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(Typography.a,{className:"mt-3"},t("device.properties.story")),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3"},react_default.a.createElement(formik_esm.a,{label:t("device.properties.projectStory"),name:"projectStory",component:formik_material_ui_es6.c,multiline:!0,rows:4,rowsMax:20,variant:"filled",fullWidth:!0,disabled:fieldDisabled})),externalDeviceIdTypes.map((function(externalDeviceIdType,index){return externalDeviceIdType.autogenerated?null:react_default.a.createElement(Form.a,{key:index,label:externalDeviceIdType.type,property:externalDeviceIdType.type,disabled:fieldDisabled,className:"mt-3",required:!!externalDeviceIdType.required})}))),react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(Typography.a,{className:"mt-3"},t("device.properties.images")),imagesUploaded?react_default.a.createElement("p",{className:"mt-3"},t("device.feedback.imagesUploaded"),AddDevice_ref2,AddDevice_ref3,t("device.info.pleaseFillOtherFields")):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("input",{className:classes.fileUploadInput,id:"contained-button-file",type:"file",onChange:function onChange(e){return function uploadImages(){return _uploadImages.apply(this,arguments)}(e.target.files)},multiple:!0,disabled:imagesUploaded}),react_default.a.createElement("label",{htmlFor:"contained-button-file",className:"mt-3"},react_default.a.createElement(Button.a,{startIcon:AddDevice_ref4,component:"span",variant:"outlined",disabled:imagesUploaded},t("device.info.uploadUpToXImages",{amount:10})))))),react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3 right",disabled:buttonDisabled},t("device.actions.register")))}))):react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(DevicePermissionsFeedback,{canCreateDevice:canCreateDevice})):AddDevice_ref}AddDevice.displayName="AddDevice",AddDevice.__docgenInfo={description:"",methods:[],displayName:"AddDevice"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddDevice.tsx"]={name:"AddDevice",docgenInfo:AddDevice.__docgenInfo,path:"src/components/AddDevice.tsx"});var Device_ref=react_default.a.createElement(DeviceMap,{height:"700px"});function Device(){var userOffchain=Object(es.e)(selectors.d),_useLinks=Object(utils.A)(),baseURL=_useLinks.baseURL,getDevicesLink=_useLinks.getDevicesLink,t=Object(dist_es.c)().t;var DevicesMenu=[{key:"production",label:t("navigation.devices.all"),component:function(){return react_default.a.createElement(ProducingDeviceTable,{hiddenColumns:["status"],includedStatuses:[src.DeviceStatus.Active],actions:{requestCertificates:!0}})}},{key:"production-map",label:t("navigation.devices.map"),component:function Map(){return Device_ref}},{key:"owned",label:t("navigation.devices.my"),component:function(){return react_default.a.createElement(ProducingDeviceTable,{owner:null==userOffchain?void 0:userOffchain.id,showAddDeviceButton:!0,actions:{requestCertificates:!0}})},roles:[src.Role.DeviceManager]},{key:"pending",label:t("navigation.devices.pending"),component:function(){return react_default.a.createElement(ProducingDeviceTable,{includedStatuses:[src.DeviceStatus.Submitted],actions:{approve:!0}})},roles:[src.Role.Issuer]},{key:"add",label:t("navigation.devices.registerDevice"),component:AddDevice,roles:[src.Role.DeviceManager]},{key:"add-group",label:t("navigation.devices.registerDeviceGroup"),component:DeviceGroupForm,roles:[src.Role.DeviceManager]},{key:"producing_detail_view",label:"Production detail",component:null,hide:!0}];return react_default.a.createElement("div",{className:"PageWrapper"},react_default.a.createElement("div",{className:"PageNav"},react_default.a.createElement("ul",{className:"NavMenu nav"},DevicesMenu.map((function(menu){var _menu$roles;return menu.hide||0<(null===(_menu$roles=menu.roles)||void 0===_menu$roles?void 0:_menu$roles.length)&&!menu.roles.reduce((function(prev,next){return prev&&Object(src.isRole)(userOffchain,next)}),!0)?null:react_default.a.createElement("li",{key:menu.key},react_default.a.createElement(react_router_dom.b,{to:"".concat(getDevicesLink(),"/").concat(menu.key)},menu.label))})))),react_default.a.createElement(react_router.b,{path:"".concat(getDevicesLink(),"/:key/:id?"),render:function render(props){var key=props.match.params.key,id=props.match.params.id,matches=DevicesMenu.filter((function(item){return item.key===key}));return 0<matches.length&&"producing_detail_view"===key&&(matches[0].component=function(){return function ProductionDetailView(id){return react_default.a.createElement(ProducingDeviceDetailView,{id:id,showCertificates:!0,showSmartMeterReadings:!0})}(id?parseInt(id,10):id)}),react_default.a.createElement(PageContent_PageContent,{menu:0<matches.length?matches[0]:null,redirectPath:getDevicesLink()})}}),react_default.a.createElement(react_router.b,{exact:!0,path:getDevicesLink(),render:function render(){return react_default.a.createElement(react_router.a,{to:{pathname:"".concat(getDevicesLink(),"/").concat(DevicesMenu[0].key)}})}}),react_default.a.createElement(react_router.b,{exact:!0,path:"".concat(baseURL,"/"),render:function render(){return react_default.a.createElement(react_router.a,{to:{pathname:"".concat(getDevicesLink(),"/").concat(DevicesMenu[0].key)}})}}))}Device.displayName="Device",Device.__docgenInfo={description:"",methods:[],displayName:"Device"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Device.tsx"]={name:"Device",docgenInfo:Device.__docgenInfo,path:"src/components/Device.tsx"});var Switch=__webpack_require__(1918),FormGroup=__webpack_require__(1920),FormControlLabel=__webpack_require__(1919),withStyles=__webpack_require__(10),localization_dist_js_src=__webpack_require__(408);function AccountSettings_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function AccountSettings_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?AccountSettings_ownKeys(source,!0).forEach((function(key){AccountSettings_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):AccountSettings_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function AccountSettings_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function AccountSettings_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function AccountSettings_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){AccountSettings_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){AccountSettings_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function AccountSettings_slicedToArray(arr,i){return function AccountSettings_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function AccountSettings_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function AccountSettings_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var AccountSettings_ref3=react_default.a.createElement("br",null),AccountSettings_ref4=react_default.a.createElement("br",null),AccountSettings_ref5=react_default.a.createElement("hr",null),AccountSettings_ref7=react_default.a.createElement(FilledInput.a,null);function AccountSettings(){var _useSelector,_ref,_ref2,_ref6,dispatch=Object(es.d)(),t=Object(utils.C)().t,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"},button:{marginTop:"10px"}})}))(Object(useTheme.a)()),user=Object(es.e)(selectors.d),currencies=Object(es.e)(general_selectors.d),userClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.userClient,web3=Object(es.e)(features_selectors.d),activeBlockchainAccountAddress=Object(es.e)(selectors.a),environment=Object(es.e)(general_selectors.e),_useState2=AccountSettings_slicedToArray(Object(react.useState)(null),2),notificationsEnabled=_useState2[0],setNotificationsEnabled=_useState2[1],userNotificationsEnabled=null!==(_ref=null==user?void 0:user.notifications)&&void 0!==_ref?_ref:null,autoPublish=null!==(_ref2=null==user?void 0:user.autoPublish)&&void 0!==_ref2?_ref2:null,_useState4=AccountSettings_slicedToArray(Object(react.useState)(autoPublish),2),autoPublishCandidate=_useState4[0],setAutoPublish=_useState4[1];Object(react.useEffect)((function(){null===notificationsEnabled&&setNotificationsEnabled(userNotificationsEnabled),null===autoPublishCandidate&&setAutoPublish(autoPublish)}),[user]);var originConfiguration=Object(react.useContext)(OriginConfigurationContext.a);if(!user)return null;var PurpleSwitch=Object(withStyles.a)({switchBase:{color:originConfiguration.styleConfig.PRIMARY_COLOR,"&$checked":{color:originConfiguration.styleConfig.PRIMARY_COLOR},"&$checked + $track":{backgroundColor:originConfiguration.styleConfig.PRIMARY_COLOR}},checked:{},track:{}})(Switch.a),notificationChanged=notificationsEnabled!==userNotificationsEnabled,autoPublishChanged=JSON.stringify(autoPublishCandidate)!==JSON.stringify(autoPublish),propertiesChanged=notificationChanged||autoPublishChanged;function _saveChanges(){return(_saveChanges=AccountSettings_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var newProperties;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(propertiesChanged){_context.next=3;break}return Object(utils.x)(t("general.feedback.noChangesMade"),utils.c.Error),_context.abrupt("return");case 3:if(!notificationChanged&&!autoPublishChanged){_context.next=9;break}return newProperties={},notificationChanged&&(newProperties.notifications=notificationsEnabled),autoPublishChanged&&(newProperties.autoPublish=autoPublishCandidate),_context.next=9,userClient.updateAdditionalProperties(user.id,newProperties);case 9:dispatch(Object(users_actions.d)()),Object(utils.x)(t("settings.feedback.userSettingsUpdated"),utils.c.Success);case 11:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function _signAndSend(){return(_signAndSend=AccountSettings_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var signedMessage,_error$response,_error$response$data,_error$response2,_error$response2$data;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,Object(dist_js_src.signTypedMessage)(activeBlockchainAccountAddress,environment.REGISTRATION_MESSAGE_TO_SIGN,web3);case 3:return signedMessage=_context2.sent,_context2.next=6,userClient.attachSignedMessage(user.id,signedMessage);case 6:dispatch(Object(users_actions.d)()),Object(utils.x)(t("settings.feedback.blockchainAccountLinked"),utils.c.Success),_context2.next=13;break;case 10:_context2.prev=10,_context2.t0=_context2.catch(0),(null===_context2.t0||void 0===_context2.t0||null===(_error$response=_context2.t0.response)||void 0===_error$response||null===(_error$response$data=_error$response.data)||void 0===_error$response$data?void 0:_error$response$data.message)?Object(utils.x)(null===_context2.t0||void 0===_context2.t0||null===(_error$response2=_context2.t0.response)||void 0===_error$response2||null===(_error$response2$data=_error$response2.data)||void 0===_error$response2$data?void 0:_error$response2$data.message,utils.c.Error):(console.warn("Could not log in.",_context2.t0),Object(utils.x)(t("general.feedback.unknownError"),utils.c.Error));case 13:case"end":return _context2.stop()}}),_callee2,null,[[0,10]])})))).apply(this,arguments)}return react_default.a.createElement(Paper.a,null,react_default.a.createElement(Grid.a,{container:!0,spacing:3,className:classes.container},react_default.a.createElement(Grid.a,{item:!0,xs:12},user&&react_default.a.createElement(react_default.a.Fragment,null,"".concat(user.title," ").concat(user.firstName," ").concat(user.lastName),user.organization&&react_default.a.createElement(react_default.a.Fragment,null,AccountSettings_ref3,AccountSettings_ref4,"Organization: ",user.organization.name),react_default.a.createElement(TextField.a,{label:t("settings.properties.email"),value:user.email,fullWidth:!0,className:"my-3",disabled:!0}),react_default.a.createElement(TextField.a,{label:t("settings.properties.blockchainAccount"),value:user.blockchainAccountAddress,fullWidth:!0,className:"my-3",disabled:!0}),!user.blockchainAccountAddress&&react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3 right",onClick:function signAndSend(){return _signAndSend.apply(this,arguments)}},t("settings.actions.verifyBlockchainAccount"))),react_default.a.createElement(FormGroup.a,null,react_default.a.createElement(FormControlLabel.a,{control:react_default.a.createElement(PurpleSwitch,{checked:notificationsEnabled,onChange:function onChange(e,checked){return setNotificationsEnabled(checked)}}),label:t("settings.properties.notifications")})),react_default.a.createElement("div",null,AccountSettings_ref5,react_default.a.createElement(FormGroup.a,null,react_default.a.createElement(FormControlLabel.a,{control:react_default.a.createElement(PurpleSwitch,{checked:null!==(_ref6=null==autoPublishCandidate?void 0:autoPublishCandidate.enabled)&&void 0!==_ref6&&_ref6,onChange:function onChange(e,checked){return setAutoPublish(AccountSettings_objectSpread({},autoPublishCandidate,{enabled:checked}))}}),label:t("settings.properties.automaticallyPostCertificates")})),(null==autoPublishCandidate?void 0:autoPublishCandidate.enabled)&&react_default.a.createElement("div",null,react_default.a.createElement(TextField.a,{label:t("settings.properties.price"),value:autoPublishCandidate.priceInCents/100,type:"number",placeholder:"1",onChange:function onChange(e){return setAutoPublish(AccountSettings_objectSpread({},autoPublishCandidate,{priceInCents:100*parseFloat(e.target.value)}))},id:"priceInput",fullWidth:!0}),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled"},react_default.a.createElement(InputLabel.a,null,t("settings.properties.currency")),react_default.a.createElement(Select.a,{value:autoPublishCandidate.currency,onChange:function onChange(e){return setAutoPublish(AccountSettings_objectSpread({},autoPublishCandidate,{currency:e.target.value}))},fullWidth:!0,variant:"filled",input:AccountSettings_ref7},currencies.map((function(currency){return react_default.a.createElement(MenuItem.a,{key:currency,value:currency},currency)})))))),react_default.a.createElement(Button.a,{onClick:function saveChanges(){return _saveChanges.apply(this,arguments)},color:"primary",disabled:!propertiesChanged},t("general.actions.update")),react_default.a.createElement(FormControl.a,{fullWidth:!0},react_default.a.createElement(InputLabel.a,null,t("settings.properties.language")),react_default.a.createElement(Select.a,{value:originConfiguration.language,onChange:function onChange(e){return Object(OriginConfigurationContext.e)(e.target.value)}},localization_dist_js_src.AVAILABLE_ORIGIN_LANGUAGES.map((function(option){return react_default.a.createElement(MenuItem.a,{key:option,value:option},option)})))))))}AccountSettings.displayName="AccountSettings",AccountSettings.__docgenInfo={description:"",methods:[],displayName:"AccountSettings"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Account/AccountSettings.tsx"]={name:"AccountSettings",docgenInfo:AccountSettings.__docgenInfo,path:"src/components/Account/AccountSettings.tsx"});var notifications=__webpack_require__(34),utils_validation=__webpack_require__(471);function UserRegister_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function UserRegister_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?UserRegister_ownKeys(source,!0).forEach((function(key){UserRegister_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):UserRegister_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function UserRegister_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function UserRegister_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function UserRegister_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){UserRegister_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){UserRegister_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var UserRegister_INITIAL_FORM_VALUES={titleSelect:"",titleInput:"",firstName:"",lastName:"",telephone:"",email:"",password:""},TITLE_OPTIONS=["Dr","Mr","Mrs","Ms","Other"],UserRegister_ref=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200});function UserRegister(){var _useSelector,userClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.userClient,dispatch=Object(es.d)(),t=Object(dist_es.c)().t,_useValidation=Object(utils_validation.a)(),Yup=_useValidation.Yup,yupLocaleInitialized=_useValidation.yupLocaleInitialized,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"}})}))(Object(useTheme.a)());if(!yupLocaleInitialized)return UserRegister_ref;var VALIDATION_SCHEMA=Yup.object().shape({titleSelect:Yup.string().label(t("user.properties.title")).required(),titleInput:Yup.string().label(t("user.properties.title")),firstName:Yup.string().label(t("user.properties.firstName")).required(),lastName:Yup.string().label(t("user.properties.lastName")).required(),telephone:Yup.string().label(t("user.properties.telephone")).required(),email:Yup.string().email().label(t("user.properties.email")).required(),password:Yup.string().label(t("user.properties.password")).required()});function _submitForm(){return(_submitForm=UserRegister_asyncToGenerator(regeneratorRuntime.mark((function _callee(values,formikActions){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return formikActions.setSubmitting(!0),dispatch(Object(general_actions.h)(!0)),_context.prev=2,_context.next=5,userClient.register(UserRegister_objectSpread({},values,{title:"Other"===values.titleSelect?values.titleInput:values.titleSelect,rights:12}));case 5:Object(notifications.b)(t("user.feedback.userRegistered"),notifications.a.Success),_context.next=12;break;case 8:_context.prev=8,_context.t0=_context.catch(2),console.warn("Error while registering user",_context.t0),Object(notifications.b)(t("user.feedback.errorWhileRegisteringUser"),notifications.a.Error);case 12:dispatch(Object(general_actions.h)(!1)),formikActions.setSubmitting(!1);case 14:case"end":return _context.stop()}}),_callee,null,[[2,8]])})))).apply(this,arguments)}return react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(formik_esm.d,{initialValues:UserRegister_INITIAL_FORM_VALUES,onSubmit:function submitForm(){return _submitForm.apply(this,arguments)},validationSchema:VALIDATION_SCHEMA,isInitialValid:!1},(function(formikProps){var isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting,values=formikProps.values,isTitleValid="Other"===values.titleSelect?!!values.titleInput:!!values.titleSelect,fieldDisabled=isSubmitting;return react_default.a.createElement(formik_esm.c,{translate:""},react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(InputLabel.a,{required:!0},t("user.properties.title")),react_default.a.createElement(formik_esm.a,{name:"titleSelect",label:t("user.properties.title"),component:formik_material_ui_es6.b,input:react_default.a.createElement(FilledInput.a,{value:values.titleSelect}),fullWidth:!0,variant:"filled",required:!0,disabled:fieldDisabled},TITLE_OPTIONS.map((function(option){return react_default.a.createElement(MenuItem.a,{value:option,key:option},option)})))),"Other"===values.titleSelect&&react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("user.properties.title"),name:"titleInput",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled})),react_default.a.createElement(FormInput.a,{label:t("user.properties.firstName"),property:"firstName",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:t("user.properties.lastName"),property:"lastName",disabled:fieldDisabled,className:"mt-3",required:!0})),react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormInput.a,{label:t("user.properties.email"),property:"email",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:t("user.properties.telephone"),property:"telephone",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("user.properties.password"),name:"password",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled,type:"password"})))),react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3 right",disabled:isSubmitting||!isValid||!isTitleValid},t("user.actions.register")))})))}function UserLogin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function UserLogin_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){UserLogin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){UserLogin_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}UserRegister.displayName="UserRegister",UserRegister.__docgenInfo={description:"",methods:[],displayName:"UserRegister"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Account/UserRegister.tsx"]={name:"UserRegister",docgenInfo:UserRegister.__docgenInfo,path:"src/components/Account/UserRegister.tsx"});var UserLogin_INITIAL_FORM_VALUES={email:"",password:""},UserLogin_ref=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200}),UserLogin_ref2=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200});function UserLogin(){var _useSelector,userClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.userClient,dispatch=Object(es.d)(),t=Object(utils.C)().t,_useValidation=Object(utils.D)(),Yup=_useValidation.Yup,yupLocaleInitialized=_useValidation.yupLocaleInitialized,getAccountLink=Object(utils.A)().getAccountLink,history=Object(react_router.g)(),classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"}})}))(Object(useTheme.a)());if(!yupLocaleInitialized)return UserLogin_ref;var VALIDATION_SCHEMA=Yup.object().shape({email:Yup.string().email().label(t("user.properties.email")).required(),password:Yup.string().label(t("user.properties.password")).required()});function _submitForm(){return(_submitForm=UserLogin_asyncToGenerator(regeneratorRuntime.mark((function _callee(values,formikActions){var loginResponse;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return formikActions.setSubmitting(!0),dispatch(Object(general_actions.h)(!0)),_context.prev=2,_context.next=5,userClient.login(values.email,values.password);case 5:loginResponse=_context.sent,dispatch(Object(users_actions.f)(loginResponse.accessToken)),history.push(getAccountLink()),_context.next=14;break;case 10:_context.prev=10,_context.t0=_context.catch(2),console.warn("Could not log in.",_context.t0),Object(utils.x)(t("user.feedback.couldNotLogIn"),utils.c.Error);case 14:dispatch(Object(general_actions.h)(!1)),formikActions.setSubmitting(!1);case 16:case"end":return _context.stop()}}),_callee,null,[[2,10]])})))).apply(this,arguments)}return userClient?react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(formik_esm.d,{initialValues:UserLogin_INITIAL_FORM_VALUES,onSubmit:function submitForm(){return _submitForm.apply(this,arguments)},validationSchema:VALIDATION_SCHEMA,isInitialValid:!1},(function(formikProps){var isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting,fieldDisabled=isSubmitting;return react_default.a.createElement(formik_esm.c,{translate:""},react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:12},react_default.a.createElement(FormInput.a,{label:t("user.properties.email"),property:"email",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormControl.a,{fullWidth:!0,variant:"filled",className:"mt-3",required:!0},react_default.a.createElement(formik_esm.a,{label:t("user.properties.password"),name:"password",component:formik_material_ui_es6.c,variant:"filled",fullWidth:!0,required:!0,disabled:fieldDisabled,type:"password"})))),react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3 right",disabled:isSubmitting||!isValid},t("user.actions.login")))}))):UserLogin_ref2}function Account_extends(){return(Account_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function Account(){var userOffchain=Object(es.e)(selectors.d),getAccountLink=Object(utils.A)().getAccountLink,t=Object(utils.C)().t,isLoggedIn=!!userOffchain,Menu=[{key:"settings",label:"settings.navigation.settings",component:AccountSettings,hide:!isLoggedIn},{key:"user-login",label:"settings.navigation.login",component:UserLogin,hide:isLoggedIn},{key:"user-register",label:"settings.navigation.registerUser",component:UserRegister,hide:isLoggedIn}];return react_default.a.createElement("div",{className:"PageWrapper"},react_default.a.createElement("div",{className:"PageNav"},react_default.a.createElement("ul",{className:"NavMenu nav"},Menu.map((function(menu){return menu.hide?null:react_default.a.createElement("li",{key:menu.key},react_default.a.createElement(react_router_dom.b,Account_extends({exact:!0,to:"".concat(getAccountLink(),"/").concat(menu.key),activeClassName:"active"},Object(utils.g)("account-link-".concat(menu.key))),t(menu.label)))})))),react_default.a.createElement(react_router.b,{path:"".concat(getAccountLink(),"/:key/:id?"),render:function render(props){var key=props.match.params.key,matches=Menu.filter((function(item){return item.key===key}));return react_default.a.createElement(PageContent_PageContent,{menu:0<matches.length?matches[0]:null,redirectPath:getAccountLink()})}}),react_default.a.createElement(react_router.b,{exact:!0,path:"".concat(getAccountLink()),render:function render(){return react_default.a.createElement(react_router.a,{to:{pathname:"".concat(getAccountLink(),"/").concat(Menu[0].key)}})}}))}UserLogin.displayName="UserLogin",UserLogin.__docgenInfo={description:"",methods:[],displayName:"UserLogin"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Account/UserLogin.tsx"]={name:"UserLogin",docgenInfo:UserLogin.__docgenInfo,path:"src/components/Account/UserLogin.tsx"}),Account.displayName="Account",Account.__docgenInfo={description:"",methods:[],displayName:"Account"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Account/Account.tsx"]={name:"Account",docgenInfo:Account.__docgenInfo,path:"src/components/Account/Account.tsx"});var ErrorOutline=__webpack_require__(1927);function ErrorComponent_typeof(obj){return(ErrorComponent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ErrorComponent_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ErrorComponent_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function ErrorComponent_possibleConstructorReturn(self,call){return!call||"object"!==ErrorComponent_typeof(call)&&"function"!=typeof call?function ErrorComponent_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ErrorComponent_getPrototypeOf(o){return(ErrorComponent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ErrorComponent_setPrototypeOf(o,p){return(ErrorComponent_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ErrorComponent_ref=react_default.a.createElement(ErrorOutline.a,{className:"Error_icon"}),ErrorComponent_ErrorComponent=function(_Component){function ErrorComponent(){return ErrorComponent_classCallCheck(this,ErrorComponent),ErrorComponent_possibleConstructorReturn(this,ErrorComponent_getPrototypeOf(ErrorComponent).apply(this,arguments))}return function ErrorComponent_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ErrorComponent_setPrototypeOf(subClass,superClass)}(ErrorComponent,_Component),function ErrorComponent_createClass(Constructor,protoProps,staticProps){return protoProps&&ErrorComponent_defineProperties(Constructor.prototype,protoProps),staticProps&&ErrorComponent_defineProperties(Constructor,staticProps),Constructor}(ErrorComponent,[{key:"render",value:function render(){return react_default.a.createElement("div",{className:"Error"},ErrorComponent_ref,react_default.a.createElement("div",{className:"Error_message"},this.props.message))}}]),ErrorComponent}(react.Component);ErrorComponent_ErrorComponent.displayName="ErrorComponent",ErrorComponent_ErrorComponent.__docgenInfo={description:"",methods:[],displayName:"ErrorComponent",props:{message:{required:!0,tsType:{name:"string"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ErrorComponent.tsx"]={name:"ErrorComponent",docgenInfo:ErrorComponent_ErrorComponent.__docgenInfo,path:"src/components/ErrorComponent.tsx"});var DatePicker=__webpack_require__(1849),react_dropzone_dist_es=(__webpack_require__(210),__webpack_require__(316),__webpack_require__(1045)),Chip=__webpack_require__(1868),Replay=__webpack_require__(1928),Delete=__webpack_require__(1929),Cancel=__webpack_require__(1930);function Upload_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Upload_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Upload_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Upload_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function Upload_toConsumableArray(arr){return function Upload_arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function Upload_iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function Upload_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Upload_slicedToArray(arr,i){return function Upload_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Upload_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Upload_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Upload_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Upload_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?Upload_ownKeys(source,!0).forEach((function(key){Upload_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Upload_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function Upload_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var initialState={};function reducer(state,action){switch(action.type){case"setFile":return Upload_objectSpread({},state,Upload_defineProperty({},action.payload.id,action.payload.file));case"deleteFile":return Upload_objectSpread({},state,Upload_defineProperty({},action.payload.id,Upload_objectSpread({},state[action.payload.id],{removed:!0})));case"cancelFileUpload":return Upload_objectSpread({},state,Upload_defineProperty({},action.payload.id,Upload_objectSpread({},state[action.payload.id],{cancelled:!0,uploadProgress:0,uploadedName:null,cancelToken:null})));case"setFileProgress":return Upload_objectSpread({},state,Upload_defineProperty({},action.payload.id,Upload_objectSpread({},state[action.payload.id],{uploadProgress:action.payload.uploadProgress})));case"setFileUploadCancelToken":return Upload_objectSpread({},state,Upload_defineProperty({},action.payload.id,Upload_objectSpread({},state[action.payload.id],{cancelToken:action.payload.cancelToken,cancelled:!1})))}}var Upload_ref=react_default.a.createElement(Replay.a,null),Upload_ref2=react_default.a.createElement(Delete.a,{color:"error"}),Upload_ref3=react_default.a.createElement(Cancel.a,{color:"error"});function Upload(props){var _useReducer2=Upload_slicedToArray(Object(react.useReducer)(reducer,initialState),2),state=_useReducer2[0],dispatch=_useReducer2[1],t=Object(dist_es.c)().t,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"},thumbsContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},thumb:{display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},thumbInner:{display:"flex",minWidth:0,overflow:"hidden"},img:{display:"block",width:"auto",height:"100%"},dropzone:{cursor:"pointer",background:"rgb(40, 40, 40)",minHeight:"60px",lineHeight:"60px",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",marginTop:"20px"}})}))(Object(useTheme.a)()),_useState2=Upload_slicedToArray(Object(react.useState)([]),2),files=_useState2[0],setFiles=_useState2[1],offChainDataSource=Object(es.e)(general_selectors.j),_useDropzone=Object(react_dropzone_dist_es.a)({accept:src.FILE_SUPPORTED_MIMETYPES,onDrop:function onDrop(acceptedFiles){setFiles([].concat(Upload_toConsumableArray(files),Upload_toConsumableArray(acceptedFiles)))}}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps;function upload(){return _upload.apply(this,arguments)}function _upload(){return(_upload=Upload_asyncToGenerator(regeneratorRuntime.mark((function _callee(file){var cancelToken,fileIndex,uploadedArray;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return cancelToken=offChainDataSource.requestClient.generateCancelToken(),fileIndex=files.indexOf(file),dispatch({type:"setFileUploadCancelToken",payload:{id:fileIndex,cancelToken:cancelToken}}),_context.next=5,offChainDataSource.filesClient.upload([file],(function(progressEvent){dispatch({type:"setFileProgress",payload:{id:fileIndex,uploadProgress:90*progressEvent.loaded/progressEvent.total}})}),cancelToken);case 5:uploadedArray=_context.sent,dispatch({type:"setFile",payload:{id:fileIndex,file:Upload_objectSpread({},state[fileIndex],{uploadedName:uploadedArray[0],cancelToken:null,uploadProgress:100,cancelled:!1})}});case 7:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var thumbs=files.map((function(file,index){var uploadedFile=state[index];return!uploadedFile||(null==uploadedFile?void 0:uploadedFile.removed)?null:react_default.a.createElement(Chip.a,{label:"".concat(20<file.name.length?file.name.slice(0,20)+"...":file.name).concat(uploadedFile.cancelled?" (Cancelled, click to retry)":""),variant:"outlined",color:"primary",icon:uploadedFile.cancelled?Upload_ref:null,deleteIcon:uploadedFile.uploadedName||uploadedFile.cancelled?Upload_ref2:Upload_ref3,clickable:uploadedFile.cancelled,onClick:function onClick(){uploadedFile.cancelled&&upload(file)},onDelete:function onDelete(){uploadedFile.uploadedName||uploadedFile.cancelled?dispatch({type:"deleteFile",payload:{id:index}}):(uploadedFile.cancelToken.cancel(),dispatch({type:"cancelFileUpload",payload:{id:index}}))},style:{background:"-webkit-linear-gradient(left, ".concat(uploadedFile.cancelled?"#303030":"#e0e0e0"," ").concat(uploadedFile.cancelled?"100":uploadedFile.uploadProgress,"%, rgba(255, 255, 255, 0) 0%)"),cursor:uploadedFile.cancelled?"pointer":"default"},key:index})}));return Object(react.useEffect)((function(){files.map((function(f){var fileIndex=files.indexOf(f);void 0===(state&&state[fileIndex])&&(dispatch({type:"setFile",payload:{id:fileIndex,file:{uploadProgress:0,removed:!1,cancelled:!1,uploadedName:null,cancelToken:null}}}),upload(f))}))}),[files]),Object(react.useEffect)((function(){props.onChange(Object.entries(state).map((function(_ref4){return Upload_slicedToArray(_ref4,2)[1]})))}),[state]),react_default.a.createElement("section",null,react_default.a.createElement("div",getRootProps({className:classes.dropzone}),react_default.a.createElement("input",getInputProps()),react_default.a.createElement("p",null,t("file.info.dropHereOrClickToSelect"))),react_default.a.createElement("aside",{className:classes.thumbsContainer},thumbs))}function RequestCertificatesModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function RequestCertificatesModal_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){RequestCertificatesModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){RequestCertificatesModal_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function RequestCertificatesModal_slicedToArray(arr,i){return function RequestCertificatesModal_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function RequestCertificatesModal_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function RequestCertificatesModal_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Upload.displayName="Upload",Upload.__docgenInfo={description:"",methods:[],displayName:"Upload",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(files: IUploadedFile[]) => void",signature:{arguments:[{name:"files",type:{name:"Array",elements:[{name:"IUploadedFile"}],raw:"IUploadedFile[]"}}],return:{name:"void"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Upload.tsx"]={name:"Upload",docgenInfo:Upload.__docgenInfo,path:"src/components/Upload.tsx"});var DEFAULTS={fromDate:Object(utils.u)(),toDate:Object(utils.v)(Object(utils.u)())};function RequestCertificatesModal(){var _ref,_useState2=RequestCertificatesModal_slicedToArray(Object(react.useState)(DEFAULTS.fromDate),2),fromDate=_useState2[0],setFromDate=_useState2[1],_useState4=RequestCertificatesModal_slicedToArray(Object(react.useState)(DEFAULTS.toDate),2),toDate=_useState4[0],setToDate=_useState4[1],_useState6=RequestCertificatesModal_slicedToArray(Object(react.useState)(""),2),energyInDisplayUnit=_useState6[0],setEnergyInDisplayUnit=_useState6[1],_useState8=RequestCertificatesModal_slicedToArray(Object(react.useState)([]),2),files=_useState8[0],setFiles=_useState8[1],cancelledFiles=files.filter((function(f){return f.cancelled&&!f.removed})),filesBeingUploaded=files.filter((function(f){return!f.removed&&!f.cancelled&&100!==f.uploadProgress})),uploadedFiles=files.filter((function(f){return!f.removed&&f.uploadedName})),producingDevice=Object(es.e)(certificates_selectors.d),showModal=Object(es.e)(certificates_selectors.e),environment=Object(es.e)(features.c),dispatch=Object(es.d)(),t=Object(utils.C)().t,parsedEnergyInDisplayUnit=isNaN(+energyInDisplayUnit)?0:+energyInDisplayUnit,energyInBaseUnit=utils.b.getBaseValueFromValueInDisplayUnit(parsedEnergyInDisplayUnit),isFormValid=fromDate&&toDate&&fromDate.toDate()<=toDate.toDate()&&energyInBaseUnit.gt(0)&&energyInBaseUnit.lt(src.MAX_ENERGY_PER_CERTIFICATE)&&0===cancelledFiles.length&&0===filesBeingUploaded.length;function handleClose(){dispatch(Object(certificates_actions.c)())}function _requestCerts(){return(_requestCerts=RequestCertificatesModal_asyncToGenerator(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:dispatch(Object(certificates_actions.f)({deviceId:Object(utils.n)(producingDevice,environment),startTime:fromDate.unix(),endTime:toDate.unix(),energy:energyInBaseUnit,files:uploadedFiles.map((function(f){return f.uploadedName}))}));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}return Object(react.useEffect)((function(){producingDevice&&(setFromDate(DEFAULTS.fromDate),setToDate(DEFAULTS.toDate))}),[producingDevice]),react_default.a.createElement(Dialog.a,{open:showModal,onClose:handleClose},react_default.a.createElement(DialogTitle.a,null,t("certificate.info.requestCertificatesFor",{facilityName:null!==(_ref=null==producingDevice?void 0:producingDevice.facilityName)&&void 0!==_ref?_ref:""})),react_default.a.createElement(DialogContent.a,null,react_default.a.createElement(DatePicker.a,{label:t("certificate.properties.from"),value:fromDate,onChange:function(date){setFromDate(Object(utils.w)(date))},variant:"inline",inputVariant:"filled",className:"mt-4",fullWidth:!0,format:utils.a}),react_default.a.createElement(DatePicker.a,{label:t("certificate.properties.to"),value:toDate,onChange:function(date){setToDate(Object(utils.v)(date))},variant:"inline",inputVariant:"filled",className:"mt-4",fullWidth:!0,format:utils.a}),react_default.a.createElement(TextField.a,{label:utils.b.displayUnit,value:energyInDisplayUnit,onChange:function onChange(event){return setEnergyInDisplayUnit(event.target.value)},className:"mt-4",fullWidth:!0}),react_default.a.createElement(Upload,{onChange:function onChange(newFiles){return setFiles(newFiles)}})),react_default.a.createElement(DialogActions.a,null,react_default.a.createElement(Button.a,{onClick:handleClose,color:"secondary"},t("general.actions.cancel")),react_default.a.createElement(Button.a,{onClick:function requestCerts(){return _requestCerts.apply(this,arguments)},color:"primary",disabled:!isFormValid},t("certificate.actions.request"))))}RequestCertificatesModal.displayName="RequestCertificatesModal",RequestCertificatesModal.__docgenInfo={description:"",methods:[],displayName:"RequestCertificatesModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal/RequestCertificatesModal.tsx"]={name:"RequestCertificatesModal",docgenInfo:RequestCertificatesModal.__docgenInfo,path:"src/components/Modal/RequestCertificatesModal.tsx"});var AccountMismatchModal_ref=react_default.a.createElement("br",null),AccountMismatchModal_ref2=react_default.a.createElement("br",null),AccountMismatchModal_ref3=react_default.a.createElement("br",null),AccountMismatchModal_ref4=react_default.a.createElement("br",null),AccountMismatchModal_ref5=react_default.a.createElement("br",null),AccountMismatchModal_ref6=react_default.a.createElement("br",null);function AccountMismatchModal(){var _user$blockchainAccou,visibility=Object(es.e)(general_selectors.a).visibility,user=Object(es.e)(selectors.d),activeBlockchainAddress=Object(es.e)(selectors.a),dispatch=Object(es.d)(),t=Object(utils.C)().t,handleClose=function(){return dispatch(Object(general_actions.d)({visibility:!1}))};return react_default.a.createElement(Dialog.a,{open:visibility,onClose:handleClose},react_default.a.createElement("form",{onSubmit:function onSubmit(e){e.preventDefault(),dispatch(Object(general_actions.b)(!0)),handleClose()}},react_default.a.createElement(DialogTitle.a,null,t("general.feedback.blockchainAccountMismatch")),react_default.a.createElement(DialogContent.a,null,react_default.a.createElement(DialogContentText.a,null,t("general.info.tryingToSignAndBoundIs"),AccountMismatchModal_ref,AccountMismatchModal_ref2,null==user||null===(_user$blockchainAccou=user.blockchainAccountAddress)||void 0===_user$blockchainAccou?void 0:_user$blockchainAccou.toLowerCase(),AccountMismatchModal_ref3,AccountMismatchModal_ref4,t("general.info.andYouAreTrying"),AccountMismatchModal_ref5,AccountMismatchModal_ref6,null==activeBlockchainAddress?void 0:activeBlockchainAddress.toLowerCase())),react_default.a.createElement(DialogActions.a,null,react_default.a.createElement(Button.a,{color:"secondary",onClick:function cancel(){dispatch(Object(general_actions.b)(!1)),handleClose()}},t("general.actions.cancel")),react_default.a.createElement(Button.a,{color:"primary",type:"submit"},t("general.actions.continue")))))}AccountMismatchModal.displayName="AccountMismatchModal",AccountMismatchModal.__docgenInfo={description:"",methods:[],displayName:"AccountMismatchModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Modal/AccountMismatchModal.tsx"]={name:"AccountMismatchModal",docgenInfo:AccountMismatchModal.__docgenInfo,path:"src/components/Modal/AccountMismatchModal.tsx"});var FormCountrySelect=__webpack_require__(404),FormBusinessTypeSelect=__webpack_require__(481),FormCountryMultiSelect=__webpack_require__(482);function OrganizationForm_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function OrganizationForm_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?OrganizationForm_ownKeys(source,!0).forEach((function(key){OrganizationForm_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):OrganizationForm_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function OrganizationForm_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function OrganizationForm_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OrganizationForm_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OrganizationForm_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OrganizationForm_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function OrganizationForm_slicedToArray(arr,i){return function OrganizationForm_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function OrganizationForm_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function OrganizationForm_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var OrganizationForm_INITIAL_FORM_VALUES={code:"",name:"",contact:"",telephone:"",email:"",address:"",shareholders:"",ceoPassportNumber:"",ceoName:"",companyNumber:"",vatNumber:"",postcode:"",headquartersCountry:"",country:"",businessTypeSelect:"",businessTypeInput:"",yearOfRegistration:"",numberOfEmployees:"",website:""},OrganizationForm_VALIDATION_SCHEMA=yup_es.object({code:yup_es.string().required().label("Code"),name:yup_es.string().required().label("Name"),contact:yup_es.string().required().label("Contact"),telephone:yup_es.string().required().label("Telephone"),email:yup_es.string().email().required().label("Email"),address:yup_es.string().required().label("Address"),shareholders:yup_es.string().required().label("Shareholders"),ceoPassportNumber:yup_es.string().label("CEO passport number"),ceoName:yup_es.string().required().label("CEO name"),companyNumber:yup_es.string().label("Company number"),vatNumber:yup_es.string().required().label("VAT number"),postcode:yup_es.string().required().label("Postcode"),headquartersCountry:yup_es.string().required().label("Headquarters country"),country:yup_es.string().required().label("Country"),yearOfRegistration:yup_es.number().min(1900).label("Year of registration").required(),numberOfEmployees:yup_es.number().positive().label("Approximate number of employees").required(),website:yup_es.string().url().label("Website").required(),businessTypeSelect:yup_es.string().label("Business type").required(),businessTypeInput:yup_es.string().label("Business type").when("businessTypeSelect",{is:"Other",then:yup_es.string().required()}),atLeastOneProp:yup_es.mixed().test("atLeastOneProperty","You must provide company number or CEO passport number.",(function(){var objectToValidate=this.parent;return!!objectToValidate&&!(!objectToValidate.companyNumber&&!objectToValidate.ceoPassportNumber)}))}),OrganizationForm_ref=react_default.a.createElement(Skeleton.a,{variant:"rect",height:200});function OrganizationForm(props){var _useSelector,entity=props.entity,readOnly=props.readOnly,organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,_useState2=OrganizationForm_slicedToArray(Object(react.useState)([]),2),activeCountries=_useState2[0],setActiveCountries=_useState2[1],_useState4=OrganizationForm_slicedToArray(Object(react.useState)(null),2),initialFormValuesFromExistingEntity=_useState4[0],setInitialFormValuesFromExistingEntity=_useState4[1],getOrganizationViewLink=Object(routing.c)().getOrganizationViewLink,history=Object(react_router.g)(),dispatch=Object(es.d)(),classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"}})}))(Object(useTheme.a)());function _submitForm(){return(_submitForm=OrganizationForm_asyncToGenerator(regeneratorRuntime.mark((function _callee(values,formikActions){var _organization$id,formData,organization,_error$response;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(""!==values.headquartersCountry&&""!==values.country){_context.next=2;break}return _context.abrupt("return");case 2:return formikActions.setSubmitting(!0),dispatch(Object(general_actions.h)(!0)),_context.prev=4,formData=OrganizationForm_objectSpread({},values,{activeCountries:JSON.stringify(activeCountries.map((function(i){return i.value}))),numberOfEmployees:+values.numberOfEmployees,yearOfRegistration:+values.yearOfRegistration,headquartersCountry:values.headquartersCountry,country:values.country}),_context.next=8,organizationClient.add(formData);case 8:organization=_context.sent,history.push(getOrganizationViewLink(null==organization||null===(_organization$id=organization.id)||void 0===_organization$id?void 0:_organization$id.toString())),Object(notifications.b)("Organization registered.",notifications.a.Success),_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(4),console.warn("Error while registering an organization",_context.t0),401===(null===_context.t0||void 0===_context.t0||null===(_error$response=_context.t0.response)||void 0===_error$response?void 0:_error$response.status)?Object(notifications.b)("Unauthorized.",notifications.a.Error):Object(notifications.b)("Organization could not be created.",notifications.a.Error);case 17:dispatch(Object(general_actions.h)(!1)),formikActions.setSubmitting(!1);case 19:case"end":return _context.stop()}}),_callee,null,[[4,13]])})))).apply(this,arguments)}Object(react.useEffect)((function(){entity&&function setupFormBasedOnExistingEntity(){setInitialFormValuesFromExistingEntity(entity);var activeCountriesParsed=JSON.parse(entity.activeCountries);setActiveCountries(dist_js_src.Countries.filter((function(c){return activeCountriesParsed.includes(c.id.toString())})).map((function(country){return{value:country.id.toString(),label:country.name}})))}()}),[entity]);var initialFormValues=null;return(initialFormValues=entity&&readOnly?initialFormValuesFromExistingEntity:OrganizationForm_INITIAL_FORM_VALUES)?react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(formik_esm.d,{initialValues:initialFormValues,onSubmit:function submitForm(){return _submitForm.apply(this,arguments)},validationSchema:OrganizationForm_VALIDATION_SCHEMA,isInitialValid:!1},(function(formikProps){var _ref2,isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting,values=formikProps.values,otherErrors=null===(_ref2=formikProps.errors)||void 0===_ref2?void 0:_ref2.atLeastOneProp,fieldDisabled=isSubmitting||readOnly,buttonDisabled=isSubmitting||!isValid||0===activeCountries.length;return react_default.a.createElement(formik_esm.c,{translate:""},react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormInput.a,{label:"Code",property:"code",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Name",property:"name",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormCountrySelect.a,{label:"Headquarters Country",property:"headquartersCountry",currentValue:values.headquartersCountry,disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Contact",property:"contact",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Email",property:"email",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Telephone",property:"telephone",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Company number",property:"companyNumber",disabled:fieldDisabled,className:"mt-3"}),react_default.a.createElement(FormInput.a,{label:"VAT number",property:"vatNumber",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"CEO name",property:"ceoName",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"CEO passport number",property:"ceoPassportNumber",disabled:fieldDisabled,className:"mt-3"})),react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormBusinessTypeSelect.a,{label:"Business type",selectProperty:"businessTypeSelect",selectCurrentValue:values.businessTypeSelect,inputProperty:"businessTypeInput",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Year of registration",property:"yearOfRegistration",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Approximate number of employees",property:"numberOfEmployees",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Shareholders",property:"shareholders",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Website",property:"website",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormCountryMultiSelect.a,{label:"Active countries",placeholder:"Select active countries",onChange:function onChange(value){return setActiveCountries(value)},selectedValues:activeCountries,disabled:fieldDisabled,className:"mt-3",max:3}),react_default.a.createElement(FormInput.a,{label:"Address",property:"address",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormInput.a,{label:"Postcode",property:"postcode",disabled:fieldDisabled,className:"mt-3",required:!0}),react_default.a.createElement(FormCountrySelect.a,{label:"Country",property:"country",currentValue:values.country,disabled:fieldDisabled,className:"mt-3",required:!0}))),otherErrors&&react_default.a.createElement("div",{className:"mt-3"},otherErrors),!readOnly&&react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3 right",disabled:buttonDisabled},"Register"))}))):OrganizationForm_ref}function OrganizationTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OrganizationTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OrganizationTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OrganizationTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}OrganizationForm.displayName="OrganizationForm",OrganizationForm.__docgenInfo={description:"",methods:[],displayName:"OrganizationForm",props:{entity:{required:!0,tsType:{name:"IOrganization"},description:""},readOnly:{required:!0,tsType:{name:"boolean"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationForm.tsx"]={name:"OrganizationForm",docgenInfo:OrganizationForm.__docgenInfo,path:"src/components/Organization/OrganizationForm.tsx"});var OrganizationTable_ref=react_default.a.createElement(Check.a,null);function OrganizationTable(){var _useSelector,organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,user=Object(es.e)(selectors.d),getOrganizationViewLink=Object(utils.A)().getOrganizationViewLink,history=Object(react_router.g)(),dispatch=Object(es.d)(),isIssuer=Object(src.isRole)(user,src.Role.Issuer);function _getPaginatedData(){return(_getPaginatedData=OrganizationTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var requestedPageSize,offset,entities,newPaginatedData,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(requestedPageSize=_ref3.requestedPageSize,offset=_ref3.offset,organizationClient){_context.next=3;break}return _context.abrupt("return",{paginatedData:[],total:0});case 3:return _context.next=5,organizationClient.getAll();case 5:return entities=_context.sent,newPaginatedData=entities.map((function(i){return{organization:i}})),newTotal=newPaginatedData.length,newPaginatedData=newPaginatedData.slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:newPaginatedData,total:newTotal});case 10:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoader=Object(PaginatedLoaderHooks.b)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoader.paginatedData,loadPage=_usePaginatedLoader.loadPage,total=_usePaginatedLoader.total,pageSize=_usePaginatedLoader.pageSize;function _approve(){return(_approve=OrganizationTable_asyncToGenerator(regeneratorRuntime.mark((function _callee2(rowIndex){var _paginatedData$rowInd3,organization;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if((organization=null===(_paginatedData$rowInd3=paginatedData[rowIndex])||void 0===_paginatedData$rowInd3?void 0:_paginatedData$rowInd3.organization).status===src.OrganizationStatus.Submitted){_context2.next=4;break}return Object(notifications.b)("You can only approve organization with status submitted.",notifications.a.Error),_context2.abrupt("return");case 4:return dispatch(Object(general_actions.h)(!0)),_context2.prev=5,_context2.next=8,organizationClient.update(organization.id,{status:src.OrganizationStatus.Active});case 8:return Object(notifications.b)("Organization approved.",notifications.a.Success),_context2.next=11,loadPage(1);case 11:_context2.next=17;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(5),Object(notifications.b)("Could not approve organization.",notifications.a.Error),console.error(_context2.t0);case 17:dispatch(Object(general_actions.h)(!1));case 18:case"end":return _context2.stop()}}),_callee2,null,[[5,13]])})))).apply(this,arguments)}Object(react.useEffect)((function(){loadPage(1)}),[organizationClient]);var actions=isIssuer?[{icon:OrganizationTable_ref,name:"Approve",onClick:function onClick(index){return function approve(){return _approve.apply(this,arguments)}(parseInt(index,10))}}]:[],rows=paginatedData.map((function(_ref2){var _Countries$find,status,organization=_ref2.organization;return{name:organization.name,headquartersCountry:null===(_Countries$find=dist_js_src.Countries.find((function(i){return i.id===organization.headquartersCountry})))||void 0===_Countries$find?void 0:_Countries$find.name,yearOfRegistration:organization.yearOfRegistration,status:(status=organization.status,status===src.OrganizationStatus.Active?"Active":status===src.OrganizationStatus.Denied?"Denied":"Submitted")}}));return react_default.a.createElement(TableMaterial.a,{columns:[{id:"name",label:"Name"},{id:"headquartersCountry",label:"Headquarters country"},{id:"yearOfRegistration",label:"Year of registration"},{id:"status",label:"Status"}],rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,actions:actions,handleRowClick:function handleRowClick(index){return function viewEntity(rowIndex){var _paginatedData$rowInd,_paginatedData$rowInd2,organizationId=null===(_paginatedData$rowInd=paginatedData[rowIndex])||void 0===_paginatedData$rowInd||null===(_paginatedData$rowInd2=_paginatedData$rowInd.organization)||void 0===_paginatedData$rowInd2?void 0:_paginatedData$rowInd2.id;history.push(getOrganizationViewLink(organizationId.toString()))}(parseInt(index,10))}})}function OrganizationView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OrganizationView_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OrganizationView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OrganizationView_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function OrganizationView_slicedToArray(arr,i){return function OrganizationView_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function OrganizationView_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function OrganizationView_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function OrganizationView(){var _useSelector,organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,_useState2=OrganizationView_slicedToArray(Object(react.useState)(null),2),entity=_useState2[0],setEntity=_useState2[1],params=Object(react_router.h)();function _fetchEntity(){return(_fetchEntity=OrganizationView_asyncToGenerator(regeneratorRuntime.mark((function _callee(id){return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(organizationClient){_context.next=2;break}return _context.abrupt("return",setEntity(null));case 2:return _context.t0=setEntity,_context.next=5,organizationClient.getById(+id);case 5:_context.t1=_context.sent,(0,_context.t0)(_context.t1);case 7:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}return Object(react.useEffect)((function(){!function fetchEntity(){return _fetchEntity.apply(this,arguments)}(null==params?void 0:params.id)}),[params,organizationClient]),react_default.a.createElement(OrganizationForm,{entity:entity,readOnly:!0})}function OrganizationInvite_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OrganizationInvite_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OrganizationInvite_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OrganizationInvite_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}OrganizationTable.displayName="OrganizationTable",OrganizationTable.__docgenInfo={description:"",methods:[],displayName:"OrganizationTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationTable.tsx"]={name:"OrganizationTable",docgenInfo:OrganizationTable.__docgenInfo,path:"src/components/Organization/OrganizationTable.tsx"}),OrganizationView.displayName="OrganizationView",OrganizationView.__docgenInfo={description:"",methods:[],displayName:"OrganizationView"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationView.tsx"]={name:"OrganizationView",docgenInfo:OrganizationView.__docgenInfo,path:"src/components/Organization/OrganizationView.tsx"});var OrganizationInvite_INITIAL_FORM_VALUES={email:""},OrganizationInvite_VALIDATION_SCHEMA=yup_es.object({email:yup_es.string().email().required().label("Email")});function OrganizationInvite(){var _useSelector,organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,dispatch=Object(es.d)(),classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({container:{padding:"10px"}})}))(Object(useTheme.a)());function _submitForm(){return(_submitForm=OrganizationInvite_asyncToGenerator(regeneratorRuntime.mark((function _callee(values,formikActions){var _error$response;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return formikActions.setSubmitting(!0),dispatch(Object(general_actions.h)(!0)),_context.prev=2,_context.next=5,organizationClient.invite(values.email);case 5:Object(notifications.b)("Invitation sent",notifications.a.Success),_context.next=12;break;case 8:_context.prev=8,_context.t0=_context.catch(2),console.warn("Error while inviting user to organization",_context.t0),401===(null===_context.t0||void 0===_context.t0||null===(_error$response=_context.t0.response)||void 0===_error$response?void 0:_error$response.status)?Object(notifications.b)("Unauthorized.",notifications.a.Error):Object(notifications.b)("Could not invite user to organization.",notifications.a.Error);case 12:dispatch(Object(general_actions.h)(!1)),formikActions.setSubmitting(!1);case 14:case"end":return _context.stop()}}),_callee,null,[[2,8]])})))).apply(this,arguments)}return react_default.a.createElement(Paper.a,{className:classes.container},react_default.a.createElement(formik_esm.d,{initialValues:OrganizationInvite_INITIAL_FORM_VALUES,onSubmit:function submitForm(){return _submitForm.apply(this,arguments)},validationSchema:OrganizationInvite_VALIDATION_SCHEMA,isInitialValid:!1},(function(formikProps){var isValid=formikProps.isValid,isSubmitting=formikProps.isSubmitting;return react_default.a.createElement(formik_esm.c,{translate:""},react_default.a.createElement(Grid.a,{container:!0,spacing:3},react_default.a.createElement(Grid.a,{item:!0,xs:6},react_default.a.createElement(FormInput.a,{label:"Email",property:"email",disabled:isSubmitting,className:"mt-3",required:!0}))),react_default.a.createElement(Button.a,{type:"submit",variant:"contained",color:"primary",className:"mt-3 right",disabled:isSubmitting||!isValid},"Invite"))})))}OrganizationInvite.displayName="OrganizationInvite",OrganizationInvite.__docgenInfo={description:"",methods:[],displayName:"OrganizationInvite"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationInvite.tsx"]={name:"OrganizationInvite",docgenInfo:OrganizationInvite.__docgenInfo,path:"src/components/Organization/OrganizationInvite.tsx"});var Clear=__webpack_require__(1931);function OrganizationInvitationTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OrganizationInvitationTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OrganizationInvitationTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OrganizationInvitationTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var OrganizationInvitationTable_ref=react_default.a.createElement(Check.a,null),OrganizationInvitationTable_ref2=react_default.a.createElement(Clear.a,null);function OrganizationInvitationTable(props){var _useSelector,organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,dispatch=Object(es.d)();function _getPaginatedData(){return(_getPaginatedData=OrganizationInvitationTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref4){var requestedPageSize,offset,organizations,invitations,newPaginatedData,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(requestedPageSize=_ref4.requestedPageSize,offset=_ref4.offset,organizationClient){_context.next=3;break}return _context.abrupt("return",{paginatedData:[],total:0});case 3:return _context.next=5,organizationClient.getAll();case 5:if(organizations=_context.sent,invitations=[],!props.email){_context.next=13;break}return _context.next=10,organizationClient.getInvitationsForEmail(props.email);case 10:invitations=_context.sent,_context.next=17;break;case 13:if(!props.organizationId){_context.next=17;break}return _context.next=16,organizationClient.getInvitationsToOrganization(props.organizationId);case 16:invitations=_context.sent;case 17:return newPaginatedData=invitations.map((function(invitation){return{invitation:invitation,organization:null==organizations?void 0:organizations.find((function(o){return o.id===invitation.organization}))}})),newTotal=newPaginatedData.length,newPaginatedData=newPaginatedData.slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:newPaginatedData,total:newTotal});case 21:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoader=Object(PaginatedLoaderHooks.b)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoader.paginatedData,loadPage=_usePaginatedLoader.loadPage,total=_usePaginatedLoader.total,pageSize=_usePaginatedLoader.pageSize;function _accept(){return(_accept=OrganizationInvitationTable_asyncToGenerator(regeneratorRuntime.mark((function _callee2(rowIndex){var _paginatedData$rowInd,invitation;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if((invitation=null===(_paginatedData$rowInd=paginatedData[rowIndex])||void 0===_paginatedData$rowInd?void 0:_paginatedData$rowInd.invitation).status===src.OrganizationInvitationStatus.Pending){_context2.next=4;break}return Object(notifications.b)("You can only accept invitation with status pending.",notifications.a.Error),_context2.abrupt("return");case 4:return dispatch(Object(general_actions.h)(!0)),_context2.prev=5,_context2.next=8,organizationClient.acceptInvitation(invitation.id);case 8:return Object(notifications.b)("Invitation accepted.",notifications.a.Success),_context2.next=11,loadPage(1);case 11:_context2.next=17;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(5),Object(notifications.b)("Could not accept invitation.",notifications.a.Error),console.error(_context2.t0);case 17:dispatch(Object(general_actions.h)(!1));case 18:case"end":return _context2.stop()}}),_callee2,null,[[5,13]])})))).apply(this,arguments)}function _reject(){return(_reject=OrganizationInvitationTable_asyncToGenerator(regeneratorRuntime.mark((function _callee3(rowIndex){var _paginatedData$rowInd2,invitation;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if((invitation=null===(_paginatedData$rowInd2=paginatedData[rowIndex])||void 0===_paginatedData$rowInd2?void 0:_paginatedData$rowInd2.invitation).status===src.OrganizationInvitationStatus.Pending){_context3.next=4;break}return Object(notifications.b)("You can only reject invitation with status pending.",notifications.a.Error),_context3.abrupt("return");case 4:return dispatch(Object(general_actions.h)(!0)),_context3.prev=5,_context3.next=8,organizationClient.rejectInvitation(invitation.id);case 8:return Object(notifications.b)("Invitation rejected.",notifications.a.Success),_context3.next=11,loadPage(1);case 11:_context3.next=17;break;case 13:_context3.prev=13,_context3.t0=_context3.catch(5),Object(notifications.b)("Could not reject invitation.",notifications.a.Error),console.error(_context3.t0);case 17:dispatch(Object(general_actions.h)(!1));case 18:case"end":return _context3.stop()}}),_callee3,null,[[5,13]])})))).apply(this,arguments)}Object(react.useEffect)((function(){loadPage(1)}),[organizationClient]);var actions=void 0===props.organizationId?[{icon:OrganizationInvitationTable_ref,name:"Accept",onClick:function onClick(row){return function accept(){return _accept.apply(this,arguments)}(parseInt(row,10))}},{icon:OrganizationInvitationTable_ref2,name:"Reject",onClick:function onClick(row){return function reject(){return _reject.apply(this,arguments)}(parseInt(row,10))}}]:[],rows=paginatedData.map((function(_ref3){var status,organization=_ref3.organization,invitation=_ref3.invitation;return{organization:organization.name,status:(status=invitation.status,status===src.OrganizationInvitationStatus.Accepted?"Accepted":status===src.OrganizationInvitationStatus.Rejected?"Rejected":"Pending"),email:invitation.email}}));return react_default.a.createElement(TableMaterial.a,{columns:[{id:"organization",label:"Organization"},{id:"email",label:"Email"},{id:"status",label:"Status"}],rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,actions:actions})}OrganizationInvitationTable.displayName="OrganizationInvitationTable",OrganizationInvitationTable.__docgenInfo={description:"",methods:[],displayName:"OrganizationInvitationTable",props:{email:{required:!1,tsType:{name:"string"},description:""},organizationId:{required:!1,tsType:{name:"number"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationInvitationTable.tsx"]={name:"OrganizationInvitationTable",docgenInfo:OrganizationInvitationTable.__docgenInfo,path:"src/components/Organization/OrganizationInvitationTable.tsx"});var OrganizationInvitations_ref=react_default.a.createElement("br",null),OrganizationInvitations_ref2=react_default.a.createElement("br",null),OrganizationInvitations_ref3=react_default.a.createElement("br",null),OrganizationInvitations_ref4=react_default.a.createElement("br",null),OrganizationInvitations_ref5=react_default.a.createElement("br",null),OrganizationInvitations_ref6=react_default.a.createElement("br",null);function OrganizationInvitations(){var _userOffchain$organiz,userOffchain=Object(es.e)(selectors.d),isLeadUser=Object(es.e)(selectors.b);return react_default.a.createElement(react_default.a.Fragment,null,isLeadUser&&react_default.a.createElement(react_default.a.Fragment,null,"Sent",OrganizationInvitations_ref,OrganizationInvitations_ref2,react_default.a.createElement(OrganizationInvitationTable,{organizationId:null==userOffchain||null===(_userOffchain$organiz=userOffchain.organization)||void 0===_userOffchain$organiz?void 0:_userOffchain$organiz.id}),OrganizationInvitations_ref3,OrganizationInvitations_ref4),"Received",OrganizationInvitations_ref5,OrganizationInvitations_ref6,react_default.a.createElement(OrganizationInvitationTable,{email:null==userOffchain?void 0:userOffchain.email}))}OrganizationInvitations.__docgenInfo={description:"",methods:[],displayName:"OrganizationInvitations"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationInvitations.tsx"]={name:"OrganizationInvitations",docgenInfo:OrganizationInvitations.__docgenInfo,path:"src/components/Organization/OrganizationInvitations.tsx"});var DeleteOutline=__webpack_require__(1932);function OrganizationUsersTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function OrganizationUsersTable_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){OrganizationUsersTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){OrganizationUsersTable_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var OrganizationUsersTable_ref=react_default.a.createElement(DeleteOutline.a,null);function OrganizationUsersTable(){var _useSelector,organizationClient=null===(_useSelector=Object(es.e)(general_selectors.j))||void 0===_useSelector?void 0:_useSelector.organizationClient,userOffchain=Object(es.e)(selectors.d),dispatch=Object(es.d)();function _getPaginatedData(){return(_getPaginatedData=OrganizationUsersTable_asyncToGenerator(regeneratorRuntime.mark((function _callee(_ref3){var requestedPageSize,offset,entities,newPaginatedData,newTotal;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(requestedPageSize=_ref3.requestedPageSize,offset=_ref3.offset,null==userOffchain?void 0:userOffchain.organization){_context.next=3;break}return _context.abrupt("return",{paginatedData:[],total:0});case 3:return _context.next=5,organizationClient.getMembers(userOffchain.organization.id);case 5:return entities=_context.sent,newPaginatedData=entities.map((function(i){return{user:i}})),newTotal=newPaginatedData.length,newPaginatedData=newPaginatedData.slice(offset,offset+requestedPageSize),_context.abrupt("return",{paginatedData:newPaginatedData,total:newTotal});case 10:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var _usePaginatedLoader=Object(PaginatedLoaderHooks.b)({getPaginatedData:function getPaginatedData(){return _getPaginatedData.apply(this,arguments)}}),paginatedData=_usePaginatedLoader.paginatedData,loadPage=_usePaginatedLoader.loadPage,total=_usePaginatedLoader.total,pageSize=_usePaginatedLoader.pageSize;function _remove(){return(_remove=OrganizationUsersTable_asyncToGenerator(regeneratorRuntime.mark((function _callee2(rowIndex){var _paginatedData$rowInd,user;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if((user=null===(_paginatedData$rowInd=paginatedData[rowIndex])||void 0===_paginatedData$rowInd?void 0:_paginatedData$rowInd.user).id!==userOffchain.id){_context2.next=4;break}return Object(notifications.b)("You can't remove yourself from organization.",notifications.a.Error),_context2.abrupt("return");case 4:return dispatch(Object(general_actions.h)(!0)),_context2.prev=5,_context2.next=8,organizationClient.removeMember(userOffchain.organization.id,user.id);case 8:return Object(notifications.b)("User removed.",notifications.a.Success),_context2.next=11,loadPage(1);case 11:_context2.next=17;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(5),Object(notifications.b)("Could not remove user.",notifications.a.Error),console.error(_context2.t0);case 17:dispatch(Object(general_actions.h)(!1));case 18:case"end":return _context2.stop()}}),_callee2,null,[[5,13]])})))).apply(this,arguments)}Object(react.useEffect)((function(){loadPage(1)}),[userOffchain,organizationClient]);var rows=paginatedData.map((function(_ref2){var user=_ref2.user;return{firstName:user.firstName,lastName:user.lastName,email:user.email}}));return react_default.a.createElement(TableMaterial.a,{columns:[{id:"firstName",label:"First name"},{id:"lastName",label:"Last name"},{id:"email",label:"Email"}],rows:rows,loadPage:loadPage,total:total,pageSize:pageSize,actions:[{icon:OrganizationUsersTable_ref,name:"Remove",onClick:function onClick(index){return function remove(){return _remove.apply(this,arguments)}(parseInt(index,10))}}]})}function Organization(){var _Menu$filter$,userOffchain=Object(es.e)(selectors.d),isLeadUser=Object(es.e)(selectors.b),getOrganizationLink=Object(routing.c)().getOrganizationLink,isLoggedIn=!!userOffchain,Menu=[{key:"organization-users",label:"Members",component:OrganizationUsersTable,hide:!isLoggedIn||!isLeadUser},{key:"organization-invitations",label:"Invitations",component:OrganizationInvitations,hide:!isLoggedIn},{key:"organization-invite",label:"Invite",component:OrganizationInvite,hide:!isLoggedIn||!isLeadUser},{key:"organization-register",label:"Register",component:OrganizationForm,hide:!isLoggedIn||(null==userOffchain?void 0:userOffchain.organization)},{key:"organization-table",label:"All organizations",component:OrganizationTable,hide:!isLoggedIn},{key:"organization-view",label:"View",component:OrganizationView,hide:!0}],firstNotHiddenRoute=null===(_Menu$filter$=Menu.filter((function(i){return!i.hide}))[0])||void 0===_Menu$filter$?void 0:_Menu$filter$.key;return react_default.a.createElement("div",{className:"PageWrapper"},react_default.a.createElement("div",{className:"PageNav"},react_default.a.createElement("ul",{className:"NavMenu nav"},Menu.map((function(menu){return menu.hide?null:react_default.a.createElement("li",{key:menu.key},react_default.a.createElement(react_router_dom.b,{exact:!0,to:"".concat(getOrganizationLink(),"/").concat(menu.key),activeClassName:"active"},menu.label))})))),react_default.a.createElement(react_router.b,{path:"".concat(getOrganizationLink(),"/:key/:id?"),render:function render(props){var key=props.match.params.key,matches=Menu.filter((function(item){return item.key===key}));return react_default.a.createElement(PageContent_PageContent,{menu:0<matches.length?matches[0]:null,redirectPath:getOrganizationLink()})}}),firstNotHiddenRoute&&react_default.a.createElement(react_router.b,{exact:!0,path:"".concat(getOrganizationLink()),render:function render(){return react_default.a.createElement(react_router.a,{to:{pathname:"".concat(getOrganizationLink(),"/").concat(firstNotHiddenRoute)}})}}))}OrganizationUsersTable.displayName="OrganizationUsersTable",OrganizationUsersTable.__docgenInfo={description:"",methods:[],displayName:"OrganizationUsersTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/OrganizationUsersTable.tsx"]={name:"OrganizationUsersTable",docgenInfo:OrganizationUsersTable.__docgenInfo,path:"src/components/Organization/OrganizationUsersTable.tsx"}),Organization.displayName="Organization",Organization.__docgenInfo={description:"",methods:[],displayName:"Organization"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Organization/Organization.tsx"]={name:"Organization",docgenInfo:Organization.__docgenInfo,path:"src/components/Organization/Organization.tsx"});var LinearProgress=__webpack_require__(1933),AppContainer_ref=react_default.a.createElement(Header,null),AppContainer_ref2=react_default.a.createElement(RequestCertificatesModal,null),AppContainer_ref3=react_default.a.createElement(AccountMismatchModal,null);function AppContainer(){var error=Object(es.e)(general_selectors.f),loading=Object(es.e)(general_selectors.i),_useLinks=Object(routing.c)(),baseURL=_useLinks.baseURL,getAccountLink=_useLinks.getAccountLink,getDevicesLink=_useLinks.getDevicesLink,getCertificatesLink=_useLinks.getCertificatesLink,getOrganizationLink=_useLinks.getOrganizationLink,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({progress:{backgroundColor:"rgb(39, 39, 39)"},progressWrapper:{position:"fixed",top:"0",left:"0",width:"100vw"}})}))(Object(useTheme.a)());return error?react_default.a.createElement(ErrorComponent_ErrorComponent,{message:error}):react_default.a.createElement("div",{className:"AppWrapper"},loading&&react_default.a.createElement("div",{className:classes.progressWrapper},react_default.a.createElement(LinearProgress.a,{className:classes.progress})),AppContainer_ref,react_default.a.createElement(react_router.d,null,react_default.a.createElement(react_router.b,{path:getDevicesLink(),component:Device}),react_default.a.createElement(react_router.b,{path:getCertificatesLink(),component:Certificates}),react_default.a.createElement(react_router.b,{path:getAccountLink(),component:Account}),react_default.a.createElement(react_router.b,{path:getOrganizationLink(),component:Organization}),react_default.a.createElement(react_router.b,{path:baseURL,component:Device})),AppContainer_ref2,AppContainer_ref3)}AppContainer.displayName="AppContainer",AppContainer.__docgenInfo={description:"",methods:[],displayName:"AppContainer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AppContainer.tsx"]={name:"AppContainer",docgenInfo:AppContainer.__docgenInfo,path:"src/components/AppContainer.tsx"});var redux=__webpack_require__(183),reducers=__webpack_require__(511),redux_saga_core_npm_proxy_esm=__webpack_require__(300),sagas=__webpack_require__(267),redux_devtools_extension=__webpack_require__(1042),useUtils_cfb96ac9=__webpack_require__(77),index_esm=__webpack_require__(264),ThemeProvider=__webpack_require__(523),esm_history=__webpack_require__(140),esm_middleware=__webpack_require__(620),esm=__webpack_require__(266);function Origin_slicedToArray(arr,i){return function Origin_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Origin_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Origin_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Origin_ref=react_default.a.createElement(react_router.b,{path:"/",component:AppContainer});function Origin(){var originConfiguration=Object(react.useContext)(OriginConfigurationContext.a),_useState2=Origin_slicedToArray(Object(react.useState)(null),2),store=_useState2[0],setStore=_useState2[1],_useState4=Origin_slicedToArray(Object(react.useState)(null),2),history=_useState4[0],setHistory=_useState4[1];if(Object(react.useEffect)((function(){if(!store){var middleware,newHistory=Object(esm_history.a)(),IS_PRODUCTION="production"===Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).MODE,sagaMiddleware=Object(redux_saga_core_npm_proxy_esm.a)();middleware=IS_PRODUCTION?Object(redux.applyMiddleware)(Object(esm_middleware.a)(newHistory),sagaMiddleware):Object(redux_devtools_extension.composeWithDevTools)(Object(redux.applyMiddleware)(Object(esm_middleware.a)(newHistory),sagaMiddleware)),setHistory(newHistory),setStore(Object(redux.createStore)(Object(reducers.a)(newHistory),middleware)),Object.keys(sagas.a).forEach((function(saga){sagaMiddleware.run(sagas.a[saga])})),Object(OriginConfigurationContext.d)(originConfiguration.language)}})),!originConfiguration)throw new Error("<Origin> component has to be wrapped in <OriginConfigurationProvider value={createOriginConfiguration()}>");return store?react_default.a.createElement(ThemeProvider.a,{theme:originConfiguration.materialTheme},react_default.a.createElement(useUtils_cfb96ac9.a,{utils:index_esm.a,locale:originConfiguration.language},react_default.a.createElement(es.a,{store:store},react_default.a.createElement(esm.a,{history:history},Origin_ref)))):react_default.a.createElement(react_default.a.Fragment,null)}Origin.displayName="Origin",Origin.__docgenInfo={description:"",methods:[],displayName:"Origin"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Origin.tsx"]={name:"Origin",docgenInfo:Origin.__docgenInfo,path:"src/components/Origin.tsx"}),__webpack_require__.d(__webpack_exports__,"b",(function(){return OriginConfigurationContext.c})),__webpack_require__.d(__webpack_exports__,"a",(function(){return OriginConfigurationContext.b})),__webpack_require__.d(__webpack_exports__,"c",(function(){return OriginConfigurationContext.d}))},53:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getConfiguration})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getProducingDevices})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getBaseURL})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getWeb3}));var getConfiguration=function(state){return state.configuration},getProducingDevices=function(state){return state.producingDevices.producingDevices},getBaseURL=function(){return""},getWeb3=function(state){var _state$configuration,_state$configuration$;return null===(_state$configuration=state.configuration)||void 0===_state$configuration||null===(_state$configuration$=_state$configuration.blockchainProperties)||void 0===_state$configuration$?void 0:_state$configuration$.web3}},607:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEventsFromContract=async(contract,eventFilter)=>(await contract.provider.getLogs({...eventFilter,fromBlock:0,toBlock:"latest"})).map(log=>contract.interface.parseLog(log).values)},608:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const Registry_json_1=__importDefault(__webpack_require__(1693));exports.RegistryJSON=Registry_json_1.default;const Issuer_json_1=__importDefault(__webpack_require__(1694));exports.IssuerJSON=Issuer_json_1.default;const IssuerFactory_1=__webpack_require__(1695),RegistryFactory_1=__webpack_require__(1696),factories={IssuerFactory:IssuerFactory_1.IssuerFactory,RegistryFactory:RegistryFactory_1.RegistryFactory};exports.factories=factories;var migrate_1=__webpack_require__(1697);exports.migrateIssuer=migrate_1.migrateIssuer,exports.migrateRegistry=migrate_1.migrateRegistry},609:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Product_1=__webpack_require__(977);var Filter;!function(Filter){Filter[Filter.All=0]="All",Filter[Filter.Specific=1]="Specific",Filter[Filter.Unspecified=2]="Unspecified"}(Filter=exports.Filter||(exports.Filter={}));class ProductFilter extends Product_1.Product{constructor(){super(...arguments),this.deviceTypeFilter=Filter.All,this.locationFilter=Filter.All,this.deviceVintageFilter=Filter.All,this.generationTimeFilter=Filter.All,this.gridOperatorFilter=Filter.All}}exports.ProductFilter=ProductFilter},64:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const Configuration=__importStar(__webpack_require__(1502));exports.Configuration=Configuration;var json_validator_1=__webpack_require__(1503);exports.validateJson=json_validator_1.validateJson,__export(__webpack_require__(1512)),__export(__webpack_require__(1513));var array_extensions_1=__webpack_require__(1514);exports.extendArray=array_extensions_1.extendArray;var TimeSeries_1=__webpack_require__(1515);exports.TS=TimeSeries_1.TS;var Countries_1=__webpack_require__(1516);exports.Countries=Countries_1.Countries;var BusinessLegalStatus_1=__webpack_require__(1517);exports.IRECBusinessLegalStatus=BusinessLegalStatus_1.IRECBusinessLegalStatus,exports.IRECBusinessLegalStatusLabelsMap=BusinessLegalStatus_1.IRECBusinessLegalStatusLabelsMap;var LocationService_1=__webpack_require__(1518);exports.LocationService=LocationService_1.LocationService,__export(__webpack_require__(1519))},69:function(module,__webpack_exports__,__webpack_require__){"use strict";var CertificatesActions;__webpack_require__.d(__webpack_exports__,"a",(function(){return CertificatesActions})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addCertificate})),__webpack_require__.d(__webpack_exports__,"l",(function(){return updateCertificate})),__webpack_require__.d(__webpack_exports__,"f",(function(){return requestCertificates})),__webpack_require__.d(__webpack_exports__,"k",(function(){return showRequestCertificatesModal})),__webpack_require__.d(__webpack_exports__,"c",(function(){return hideRequestCertificatesModal})),__webpack_require__.d(__webpack_exports__,"j",(function(){return setRequestCertificatesModalVisibility})),__webpack_require__.d(__webpack_exports__,"e",(function(){return requestCertificateEntityFetch})),__webpack_require__.d(__webpack_exports__,"i",(function(){return requestPublishForSale})),__webpack_require__.d(__webpack_exports__,"g",(function(){return requestClaimCertificate})),__webpack_require__.d(__webpack_exports__,"h",(function(){return requestClaimCertificateBulk})),__webpack_require__.d(__webpack_exports__,"d",(function(){return requestCertificateApproval})),function(CertificatesActions){CertificatesActions.addCertificate="CERTIFICATE_CREATED",CertificatesActions.updateCertificate="CERTIFICATE_UPDATED",CertificatesActions.requestCertificates="REQUEST_CERTIFICATES",CertificatesActions.showRequestCertificatesModal="SHOW_REQUEST_CERTIFICATES_MODAL",CertificatesActions.setRequestCertificatesModalVisibility="SET_REQUEST_CERTIFICATES_MODAL_VISIBILITY",CertificatesActions.hideRequestCertificatesModal="HIDE_REQUEST_CERTIFICATES_MODAL",CertificatesActions.requestCertificateEntityFetch="REQUEST_CERTIFICATE_ENTITY_FETCH",CertificatesActions.updateFetcher="CERTIFICATES_UPDATE_FETCHER",CertificatesActions.requestPublishForSale="CERTIFICATES_REQUEST_PUBLISH_FOR_SALE",CertificatesActions.requestClaimCertificate="CERTIFICATES_REQUEST_CLAIM_CERTIFICATE",CertificatesActions.requestClaimCertificateBulk="CERTIFICATES_REQUEST_CLAIM_CERTIFICATE_BULK",CertificatesActions.requestCertificateApproval="CERTIFICATES_REQUEST_CERTIFICATE_APPROVAL"}(CertificatesActions||(CertificatesActions={}));var addCertificate=function(payload){return{type:CertificatesActions.addCertificate,payload:payload}},updateCertificate=function(payload){return{type:CertificatesActions.updateCertificate,payload:payload}},requestCertificates=function(payload){return{type:CertificatesActions.requestCertificates,payload:payload}},showRequestCertificatesModal=function(payload){return{type:CertificatesActions.showRequestCertificatesModal,payload:payload}},hideRequestCertificatesModal=function(){return{type:CertificatesActions.hideRequestCertificatesModal}},setRequestCertificatesModalVisibility=function(payload){return{type:CertificatesActions.setRequestCertificatesModalVisibility,payload:payload}},requestCertificateEntityFetch=function(payload){return{type:CertificatesActions.requestCertificateEntityFetch,payload:payload}},requestPublishForSale=function(payload){return{type:CertificatesActions.requestPublishForSale,payload:payload}},requestClaimCertificate=function(payload){return{type:CertificatesActions.requestClaimCertificate,payload:payload}},requestClaimCertificateBulk=function(payload){return{type:CertificatesActions.requestClaimCertificateBulk,payload:payload}},requestCertificateApproval=function(payload){return{type:CertificatesActions.requestCertificateApproval,payload:payload}}},75:function(module,__webpack_exports__,__webpack_require__){"use strict";var UsersActions;__webpack_require__.d(__webpack_exports__,"a",(function(){return UsersActions})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setActiveBlockchainAccountAddress})),__webpack_require__.d(__webpack_exports__,"g",(function(){return setUserOffchain})),__webpack_require__.d(__webpack_exports__,"d",(function(){return refreshUserOffchain})),__webpack_require__.d(__webpack_exports__,"f",(function(){return setAuthenticationToken})),__webpack_require__.d(__webpack_exports__,"c",(function(){return clearAuthenticationToken})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addOrganizations})),function(UsersActions){UsersActions.setActiveBlockchainAccountAddress="USERS_SET_ACTIVE_BLOCKCHAIN_ACCOUNT_ADDRESS",UsersActions.updateFetcher="UPDATE_USER_FETCHER",UsersActions.setUserOffchain="SET_USER_OFFCHAIN",UsersActions.setAuthenticationToken="SET_AUTHENTICATION_TOKEN",UsersActions.clearAuthenticationToken="CLEAR_AUTHENTICATION_TOKEN",UsersActions.refreshUserOffchain="REFRESH_USER_OFFCHAIN",UsersActions.addOrganizations="USERS_ADD_ORGANIZATIONS"}(UsersActions||(UsersActions={}));var setActiveBlockchainAccountAddress=function(payload){return{type:UsersActions.setActiveBlockchainAccountAddress,payload:payload}},setUserOffchain=function(payload){return{type:UsersActions.setUserOffchain,payload:payload}},refreshUserOffchain=function(){return{type:UsersActions.refreshUserOffchain}},setAuthenticationToken=function(payload){return{type:UsersActions.setAuthenticationToken,payload:payload}},clearAuthenticationToken=function(){return{type:UsersActions.clearAuthenticationToken}},addOrganizations=function(payload){return{type:UsersActions.addOrganizations,payload:payload}}},81:function(module,__webpack_exports__,__webpack_require__){"use strict";var PaginatedLoaderHooks=__webpack_require__(133),TableMaterial=__webpack_require__(134),SpeedDial=(__webpack_require__(22),__webpack_require__(35),__webpack_require__(36),__webpack_require__(44),__webpack_require__(24),__webpack_require__(30),__webpack_require__(28),__webpack_require__(118),__webpack_require__(16),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26),__webpack_require__(1936)),SpeedDialIcon=__webpack_require__(1937),SpeedDialAction=__webpack_require__(1912),MoreHoriz=__webpack_require__(1911),react=__webpack_require__(0),react_default=__webpack_require__.n(react),makeStyles=__webpack_require__(159),createStyles=__webpack_require__(304),useTheme=__webpack_require__(89),configuration=__webpack_require__(177);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _ref=react_default.a.createElement(MoreHoriz.a,null);function Actions(props){var actions=props.actions,id=props.id,_useState2=_slicedToArray(Object(react.useState)(!1),2),open=_useState2[0],setOpen=_useState2[1],styleConfig=Object(configuration.a)().styleConfig,classes=Object(makeStyles.a)((function(){return Object(createStyles.a)({speedDial:{position:"absolute",bottom:"calc(50% - 14px)",left:"0"},speedDialButton:{width:"28px",height:"28px",minHeight:"28px",backgroundColor:"#333333"},speedDialIcon:{fontSize:"16px"},speedDialActionButton:{backgroundColor:styleConfig.PRIMARY_COLOR,color:"white","&:hover":{backgroundColor:styleConfig.PRIMARY_COLOR_DARK}},speedDialActionTooltip:{color:"white",backgroundColor:styleConfig.PRIMARY_COLOR,whiteSpace:"nowrap"}})}))(Object(useTheme.a)());return react_default.a.createElement(SpeedDial.a,{FabProps:{className:classes.speedDialButton},ariaLabel:"speed-dial-".concat(id),icon:react_default.a.createElement(SpeedDialIcon.a,{icon:_ref,classes:{icon:classes.speedDialIcon}}),onClose:function onClose(){return setOpen(!1)},onOpen:function onOpen(event,reason){"focus"!==reason&&setOpen(!0)},open:open,className:classes.speedDial},actions.map((function(action){return react_default.a.createElement(SpeedDialAction.a,{key:action.name,icon:action.icon,tooltipTitle:action.name,tooltipOpen:!0,onClick:function onClick(){return action.onClick(id)},classes:{fab:classes.speedDialActionButton,staticTooltipLabel:classes.speedDialActionTooltip}})})))}Actions.displayName="Actions",Actions.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{actions:{required:!0,tsType:{name:"Array",elements:[{name:"ITableAction"}],raw:"ITableAction[]"},description:""},id:{required:!0,tsType:{name:"string"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/Actions.tsx"]={name:"Actions",docgenInfo:Actions.__docgenInfo,path:"src/components/Table/Actions.tsx"});__webpack_require__(385),__webpack_require__(61),__webpack_require__(317),__webpack_require__(386);var Button=__webpack_require__(273);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ColumnBatchActions_ColumnBatchActions=function(_Component){function ColumnBatchActions(){return _classCallCheck(this,ColumnBatchActions),_possibleConstructorReturn(this,_getPrototypeOf(ColumnBatchActions).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ColumnBatchActions,_Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ColumnBatchActions,[{key:"handleAction",value:function handleAction(action){action.handler(this.props.selectedIds)}},{key:"render",value:function render(){var _this=this,_this$props=this.props,batchableActions=_this$props.batchableActions;return _this$props.selectedIds.length?react_default.a.createElement("div",{className:"ColumnBatchActions"},react_default.a.createElement("span",{className:"ColumnBatchActions_counter"},this.counter),react_default.a.createElement("div",{className:"ColumnBatchActions_list"},batchableActions.map((function(action){return react_default.a.createElement(Button.a,{onClick:function onClick(){return _this.handleAction(action)},key:action.label,color:"primary",variant:"outlined"},action.label)})))):""}},{key:"counter",get:function get(){var _this$props2=this.props,customCounterGenerator=_this$props2.customCounterGenerator,selectedIds=_this$props2.selectedIds;return customCounterGenerator?customCounterGenerator(selectedIds):"".concat(selectedIds.length," selected")}}]),ColumnBatchActions}(react.Component);ColumnBatchActions_ColumnBatchActions.displayName="ColumnBatchActions",ColumnBatchActions_ColumnBatchActions.__docgenInfo={description:"",methods:[{name:"handleAction",docblock:null,modifiers:[],params:[{name:"action",type:{name:"IBatchableAction",alias:"IBatchableAction"}}],returns:null},{name:"counter",docblock:null,modifiers:["get"],params:[],returns:{type:{name:"string"}}}],displayName:"ColumnBatchActions",props:{selectedIds:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},batchableActions:{required:!0,tsType:{name:"Array",elements:[{name:"IBatchableAction"}],raw:"IBatchableAction[]"},description:""},customCounterGenerator:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedIds: string[]) => string",signature:{arguments:[{name:"selectedIds",type:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}],return:{name:"string"}}},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Table/ColumnBatchActions.tsx"]={name:"ColumnBatchActions",docgenInfo:ColumnBatchActions_ColumnBatchActions.__docgenInfo,path:"src/components/Table/ColumnBatchActions.tsx"});var FiltersHeader=__webpack_require__(186);__webpack_require__(407);__webpack_require__.d(__webpack_exports__,"g",(function(){return PaginatedLoaderHooks.c})),__webpack_require__.d(__webpack_exports__,"h",(function(){return PaginatedLoaderHooks.d})),__webpack_require__.d(__webpack_exports__,"f",(function(){return PaginatedLoaderHooks.a})),__webpack_require__.d(__webpack_exports__,"e",(function(){return TableMaterial.a})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Actions})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ColumnBatchActions_ColumnBatchActions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return FiltersHeader.a})),__webpack_require__.d(__webpack_exports__,"d",(function(){return FiltersHeader.b}))},84:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(22),__webpack_require__(55),__webpack_require__(65),__webpack_require__(207),__webpack_require__(120),__webpack_require__(61),__webpack_require__(125),__webpack_require__(126),__webpack_require__(57),__webpack_require__(208),__webpack_require__(66);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),createMuiTheme=__webpack_require__(1043),i18next=__webpack_require__(625),i18next_icu=__webpack_require__(1013),i18next_icu_default=__webpack_require__.n(i18next_icu),src=__webpack_require__(408),es=__webpack_require__(71),variables=__webpack_require__(1017),variables_default=__webpack_require__.n(variables),utils_configuration=__webpack_require__(177),_ref=react_default.a.createElement("title",null,"Origin Logo"),_ref2=react_default.a.createElement("desc",null,"Created using Figma"),_ref3=react_default.a.createElement("g",{id:"Origin",opacity:"0.13587"},react_default.a.createElement("use",{xlinkHref:"#path0_fill",transform:"translate(-9178.21 -2756.39)",fill:"#FFFFFF"})),_ref4=react_default.a.createElement("g",{id:"Path",opacity:"0.519475"},react_default.a.createElement("use",{xlinkHref:"#path1_fill",transform:"translate(-9241.67 -2774.76)",fill:"#FFFFFF"})),_ref5=react_default.a.createElement("defs",null,react_default.a.createElement("path",{id:"path0_fill",fillRule:"evenodd",d:"M 18.5206 5.9743C 16.7282 5.9743 15.0355 6.31035 13.4423 6.98247C 11.8492 7.65459 10.4676 8.57563 9.29762 9.74562C 8.12763 10.9156 7.20659 12.2972 6.53447 13.8903C 5.86235 15.4835 5.5263 17.1762 5.5263 18.9686L 5.5263 37.4891L 0 37.4891L 0 18.9686C 0 16.4294 0.485413 14.0397 1.45625 11.7993C 2.42709 9.55891 3.75887 7.59236 5.45162 5.89962C 7.14437 4.20687 9.11091 2.87509 11.3513 1.90425C 13.5917 0.933411 15.9814 0.447998 18.5206 0.447998L 18.5206 5.9743ZM 29.8715 37.6387L 24.2705 37.6387L 24.2705 0.298828L 29.8715 0.298828L 29.8715 37.6387ZM 72.8872 37.4146C 72.8872 39.9537 72.4018 42.3559 71.431 44.6212C 70.4601 46.8865 69.1284 48.8655 67.4356 50.5582C 65.7429 52.251 63.7639 53.5827 61.4986 54.5536C 59.2333 55.5244 56.8062 56.0098 54.2173 56.0098C 51.6782 56.0098 49.3134 55.736 47.1227 55.1883C 44.9321 54.6407 43.0278 53.869 41.4097 52.8733C 39.7917 51.8775 38.4724 50.6951 37.4517 49.326C 36.4311 47.9569 35.8212 46.4508 35.6221 44.8079L 42.3432 44.8079C 42.642 45.6045 43.0402 46.3512 43.5381 47.0483C 44.036 47.7453 44.733 48.3551 45.6292 48.8779C 46.5253 49.4007 47.6579 49.799 49.0271 50.0728C 50.3962 50.3466 52.1263 50.4586 54.2173 50.4088C 56.0594 50.4088 57.777 50.0728 59.3702 49.4007C 60.9634 48.7285 62.3449 47.8075 63.5149 46.6375C 64.6849 45.4675 65.606 44.086 66.2781 42.4928C 66.9502 40.8996 67.2863 39.2069 67.2863 37.4146L 67.2863 18.7447C 67.2863 16.9523 66.9502 15.2596 66.2781 13.6664C 65.606 12.0733 64.6849 10.6793 63.5149 9.48438C 62.3449 8.28949 60.9634 7.35601 59.3702 6.68389C 57.777 6.01177 56.0594 5.67571 54.2173 5.67571C 52.4748 5.67571 50.8194 6.01177 49.2511 6.68389C 47.6828 7.35601 46.3013 8.28949 45.1064 9.48438C 43.9115 10.6793 42.9656 12.0733 42.2686 13.6664C 41.5715 15.2596 41.223 16.9523 41.223 18.7447C 41.223 20.537 41.5715 22.2297 42.2686 23.8229C 42.9656 25.416 43.9115 26.8101 45.1064 28.0049C 46.3013 29.1998 47.6828 30.1333 49.2511 30.8054C 50.8194 31.4775 52.4748 31.8136 54.2173 31.8136L 54.2173 37.4146C 51.6782 37.4146 49.276 36.9292 47.0107 35.9583C 44.7454 34.9875 42.7664 33.6682 41.0737 32.0003C 39.3809 30.3324 38.0492 28.3659 37.0783 26.1006C 36.1075 23.8353 35.6221 21.3834 35.6221 18.7447C 35.6221 16.2055 36.1075 13.8034 37.0783 11.5381C 38.0492 9.27277 39.3809 7.29378 41.0737 5.60103C 42.7664 3.90828 44.7454 2.57651 47.0107 1.60567C 49.276 0.634827 51.6782 0.149414 54.2173 0.149414C 56.8062 0.149414 59.2333 0.634827 61.4986 1.60567C 63.7639 2.57651 65.7429 3.90828 67.4356 5.60103C 69.1284 7.29378 70.4601 9.27277 71.431 11.5381C 72.4018 13.8034 72.8872 16.2055 72.8872 18.7447L 72.8872 37.4146ZM 84.0893 37.6387L 78.4883 37.6387L 78.4883 0.298828L 84.0893 0.298828L 84.0893 37.6387ZM 89.6904 18.8193C 89.6904 16.2304 90.1883 13.8033 91.184 11.538C 92.1798 9.27272 93.524 7.28128 95.2167 5.56364C 96.9095 3.846 98.8885 2.48933 101.154 1.49359C 103.419 0.49786 105.846 0 108.435 0C 111.024 0 113.451 0.49786 115.716 1.49359C 117.982 2.48933 119.973 3.846 121.691 5.56364C 123.408 7.28128 124.765 9.27272 125.761 11.538C 126.756 13.8033 127.254 16.2304 127.254 18.8193L 127.254 37.5639L 121.579 37.5639L 121.579 18.8193C 121.579 17.027 121.243 15.3342 120.57 13.7411C 119.898 12.1479 118.965 10.7539 117.77 9.559C 116.575 8.36412 115.181 7.41819 113.588 6.72117C 111.995 6.02416 110.277 5.67566 108.435 5.67566C 106.593 5.67566 104.875 6.02416 103.282 6.72117C 101.689 7.41819 100.295 8.36412 99.1001 9.559C 97.9052 10.7539 96.9717 12.1479 96.2996 13.7411C 95.6275 15.3342 95.2914 17.027 95.2914 18.8193L 89.6904 18.8193Z"}),react_default.a.createElement("path",{id:"path1_fill",fillRule:"evenodd",d:"M 27.9302 0C 31.8136 0 35.4479 0.721896 38.8334 2.16571C 42.2189 3.60953 45.1688 5.58852 47.683 8.10275C 50.1972 10.617 52.1762 13.5668 53.62 16.9523C 55.0638 20.3378 55.7857 23.9722 55.7857 27.8555C 55.7857 31.7389 55.0638 35.3733 53.62 38.7588C 52.1762 42.1443 50.1972 45.0941 47.683 47.6083C 45.1688 50.1225 42.2189 52.114 38.8334 53.5827C 35.4479 55.0514 31.8136 55.7857 27.9302 55.7857L 27.9302 50.1847C 30.9672 50.1847 33.8423 49.5998 36.5557 48.4298C 39.2691 47.2598 41.6464 45.6666 43.6876 43.6503C 45.7289 41.6339 47.3345 39.2691 48.5045 36.5557C 49.6744 33.8423 50.2594 30.9423 50.2594 27.8555C 50.2594 24.719 49.6744 21.794 48.5045 19.0807C 47.3345 16.3673 45.7289 14.0025 43.6876 11.9861C 41.6464 9.96973 39.2691 8.38902 36.5557 7.24393C 33.8423 6.09884 30.9672 5.5263 27.9302 5.5263C 24.7936 5.5263 21.8563 6.09884 19.118 7.24393C 16.3797 8.38902 13.99 9.96973 11.9487 11.9861C 9.90749 14.0025 8.3019 16.3673 7.13191 19.0807C 5.96192 21.794 5.37694 24.719 5.37694 27.8555L 0 27.8555C 0 23.9722 0.734343 20.3378 2.20305 16.9523C 3.67176 13.5668 5.6632 10.617 8.17743 8.10275C 10.6917 5.58852 13.6415 3.60953 17.027 2.16571C 20.4125 0.721896 24.0468 0 27.9302 0Z"}),react_default.a.createElement("path",{id:"path2_fill",fillRule:"evenodd",d:"M 7.26053 14.5211C 11.2704 14.5211 14.5211 11.2704 14.5211 7.26053C 14.5211 3.25065 11.2704 0 7.26053 0C 3.25065 0 0 3.25065 0 7.26053C 0 11.2704 3.25065 14.5211 7.26053 14.5211Z"}));function OriginGenericLogo(){var styleConfig=Object(utils_configuration.a)().styleConfig;return react_default.a.createElement("svg",{width:"192",height:"75",viewBox:"0 0 192 75",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},_ref,_ref2,react_default.a.createElement("g",{id:"Canvas",transform:"translate(9242 2775)"},react_default.a.createElement("g",{id:"Origin Logo"},_ref3,_ref4,react_default.a.createElement("g",{id:"Oval"},react_default.a.createElement("use",{xlinkHref:"#path2_fill",transform:"translate(-9220.75 -2753.36)",fill:styleConfig.PRIMARY_COLOR})))),_ref5)}OriginGenericLogo.displayName="OriginGenericLogo",OriginGenericLogo.__docgenInfo={description:"",methods:[],displayName:"OriginGenericLogo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/OriginGenericLogo.tsx"]={name:"OriginGenericLogo",docgenInfo:OriginGenericLogo.__docgenInfo,path:"src/components/icons/OriginGenericLogo.tsx"});var time=__webpack_require__(115),locale=__webpack_require__(516);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.d(__webpack_exports__,"a",(function(){return OriginConfigurationContext})),__webpack_require__.d(__webpack_exports__,"e",(function(){return setOriginLanguage})),__webpack_require__.d(__webpack_exports__,"c",(function(){return createOriginConfiguration})),__webpack_require__.d(__webpack_exports__,"b",(function(){return OriginConfigurationProvider})),__webpack_require__.d(__webpack_exports__,"d",(function(){return initializeI18N}));var createMaterialThemeForOrigin=function(styleConfig,language){var _pl$en$language,materialLocale=null!==(_pl$en$language={pl:locale.b,en:locale.a}[language])&&void 0!==_pl$en$language?_pl$en$language:locale.a;return Object(createMuiTheme.a)({palette:{primary:{main:styleConfig.PRIMARY_COLOR,contrastText:styleConfig.WHITE},background:{paper:styleConfig.BACKGROUND_COLOR_DARK,default:"#f44336"},text:{primary:styleConfig.WHITE,secondary:styleConfig.TEXT_COLOR_DEFAULT,hint:"#f50057",disabled:styleConfig.TEXT_COLOR_DEFAULT}},overrides:{MuiInput:{underline:{"&:before":{borderBottom:"2px solid #474747"}}},MuiChip:{root:{marginRight:"10px"}},MuiButton:{contained:{"&.Mui-disabled":{color:styleConfig.TEXT_COLOR_DEFAULT}}},MuiTable:{root:{borderBottom:"2px solid ".concat(styleConfig.PRIMARY_COLOR)}},MuiTableHead:{root:{"& > .MuiTableRow-root":{background:"#2d2d2d"}}},MuiTableRow:{root:{background:"#333333","&:nth-child(even)":{background:"#2d2d2d"}},footer:{background:"#2d2d2d"}},MuiTableCell:{root:{borderBottom:"1px solid rgb(72, 72, 72)"},body:{color:styleConfig.TEXT_COLOR_DEFAULT},head:{color:styleConfig.WHITE,fontWeight:"bold",borderBottom:"3px solid #252525",fontSize:"12px"}},MuiSelect:{icon:{color:styleConfig.FIELD_ICON_COLOR}}}},materialLocale)},createSliderStyleForOrigin=function(styleConfig){return{root:{height:3,padding:"13px 0"},thumb:{height:27,width:27,backgroundColor:styleConfig.BACKGROUND_COLOR_DARK,border:"1px solid currentColor",marginTop:-12,marginLeft:-13,"& .bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},active:{},valueLabel:{left:"calc(-50% + 9px)",top:-22,"& *":{background:"transparent",color:"currentColor"},".MuiSlider-root.Mui-disabled &":{left:"calc(-50% - 9px)"}},track:{height:3},rail:{color:"#393939",opacity:1,height:3},mark:{backgroundColor:"currentColor",height:8,width:1,marginTop:-3},markActive:{backgroundColor:"currentColor"}}};function createStyleConfigFromSCSSVariables(scssVariables){var _scssVariables$primar,_scssVariables$primar2,_scssVariables$primar3,_scssVariables$textCo,_scssVariables$backgr,_scssVariables$fieldI;return{PRIMARY_COLOR:null!==(_scssVariables$primar=scssVariables.primaryColor)&&void 0!==_scssVariables$primar?_scssVariables$primar:"#894ec5",PRIMARY_COLOR_DARK:null!==(_scssVariables$primar2=scssVariables.primaryColorDark)&&void 0!==_scssVariables$primar2?_scssVariables$primar2:"#894ec5",PRIMARY_COLOR_DARKER:null!==(_scssVariables$primar3=scssVariables.primaryColorDarker)&&void 0!==_scssVariables$primar3?_scssVariables$primar3:"#894ec5",TEXT_COLOR_DEFAULT:null!==(_scssVariables$textCo=scssVariables.textColorDefault)&&void 0!==_scssVariables$textCo?_scssVariables$textCo:"#894ec5",BACKGROUND_COLOR_DARK:null!==(_scssVariables$backgr=scssVariables.backgroundColorDark)&&void 0!==_scssVariables$backgr?_scssVariables$backgr:"#894ec5",FIELD_ICON_COLOR:null!==(_scssVariables$fieldI=scssVariables.fieldIconColor)&&void 0!==_scssVariables$fieldI?_scssVariables$fieldI:"#894ec5",WHITE:"#fff"}}var OriginConfigurationContext=Object(react.createContext)(null);function getOriginLanguage(){var storedLanguage=localStorage.getItem("OriginConfiguration-language");return src.AVAILABLE_ORIGIN_LANGUAGES.includes(storedLanguage)?storedLanguage:"en"}function setOriginLanguage(language){localStorage.setItem("OriginConfiguration-language",language),location.reload()}var OriginConfigurationContext_ref=react_default.a.createElement(OriginGenericLogo,null);function createOriginConfiguration(){var configuration=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},DEFAULT_STYLE_CONFIG=createStyleConfigFromSCSSVariables(variables_default.a),storedLanguage=getOriginLanguage(),DEFAULT_ORIGIN_CONFIGURATION={logo:OriginConfigurationContext_ref,styleConfig:DEFAULT_STYLE_CONFIG,customSliderStyle:createSliderStyleForOrigin(DEFAULT_STYLE_CONFIG),materialTheme:createMaterialThemeForOrigin(DEFAULT_STYLE_CONFIG,storedLanguage),defaultLanguage:"en",language:storedLanguage},newConfiguration=_objectSpread({},DEFAULT_ORIGIN_CONFIGURATION,{},configuration);return Object(time.f)(newConfiguration.language),configuration.styleConfig&&(configuration.materialTheme||(newConfiguration.materialTheme=createMaterialThemeForOrigin(configuration.styleConfig,newConfiguration.language)),configuration.customSliderStyle||(newConfiguration.customSliderStyle=createSliderStyleForOrigin(configuration.styleConfig))),newConfiguration}function OriginConfigurationProvider(props){return react_default.a.createElement(OriginConfigurationContext.Provider,{value:props.value},props.children)}function initializeI18N(){var language=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en",fallbackLanguage=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"en";return i18next.a.use(new i18next_icu_default.a).use(es.b).init({resources:src.ORIGIN_LANGUAGES,lng:language,fallbackLng:fallbackLanguage,interpolation:{escapeValue:!1}}),i18next.a}OriginConfigurationProvider.displayName="OriginConfigurationProvider",OriginConfigurationProvider.__docgenInfo={description:"",methods:[],displayName:"OriginConfigurationProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"IOriginConfiguration"},description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/OriginConfigurationContext.tsx"]={name:"OriginConfigurationProvider",docgenInfo:OriginConfigurationProvider.__docgenInfo,path:"src/components/OriginConfigurationContext.tsx"})},91:function(module,__webpack_exports__,__webpack_require__){"use strict";var _actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(293);__webpack_require__.d(__webpack_exports__,"a",(function(){return _actions__WEBPACK_IMPORTED_MODULE_0__.b}));__webpack_require__(267);var _selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53);__webpack_require__.d(__webpack_exports__,"b",(function(){return _selectors__WEBPACK_IMPORTED_MODULE_2__.b}));var _general_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19);__webpack_require__.d(__webpack_exports__,"c",(function(){return _general_selectors__WEBPACK_IMPORTED_MODULE_3__.e})),__webpack_require__.d(__webpack_exports__,"d",(function(){return _general_selectors__WEBPACK_IMPORTED_MODULE_3__.g})),__webpack_require__.d(__webpack_exports__,"e",(function(){return _general_selectors__WEBPACK_IMPORTED_MODULE_3__.j})),__webpack_require__.d(__webpack_exports__,"f",(function(){return _general_selectors__WEBPACK_IMPORTED_MODULE_3__.k})),__webpack_require__.d(__webpack_exports__,"g",(function(){return _general_selectors__WEBPACK_IMPORTED_MODULE_3__.l}))},955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const precise_proofs_js_1=__webpack_require__(604),origin_backend_core_1=__webpack_require__(29),ethers_1=__webpack_require__(236),utils_1=__webpack_require__(79),PreciseProofEntity_1=__webpack_require__(958),events_1=__webpack_require__(607);class Certificate extends PreciseProofEntity_1.PreciseProofEntity{constructor(id,configuration){super(id,configuration),this.initialized=!1,this.privateOwnershipCommitment={}}static async create(to,value,fromTime,toTime,deviceId,configuration,isVolumePrivate=!1){if(value.gt(origin_backend_core_1.MAX_ENERGY_PER_CERTIFICATE))throw new Error(`Too much energy requested. Requested: ${value}, Max: ${origin_backend_core_1.MAX_ENERGY_PER_CERTIFICATE}`);const newCertificate=new Certificate(null,configuration),getIdFromEvents=logs=>Number(logs.find(log=>"CertificationRequestApproved"===log.event).topics[2]),{issuer:issuer}=configuration.blockchainProperties,issuerWithSigner=issuer.connect(configuration.blockchainProperties.activeUser),data=await issuer.encodeData(fromTime,toTime,deviceId);let tx;const properChecksumToAddress=ethers_1.ethers.utils.getAddress(to);if(isVolumePrivate){const ownershipCommitment={[properChecksumToAddress]:value},commitmentProof=newCertificate.generateAndAddProofs(ownershipCommitment);tx=await issuerWithSigner.issuePrivate(properChecksumToAddress,commitmentProof.rootHash,data);const{events:events}=await tx.wait();newCertificate.id=getIdFromEvents(events),newCertificate.propertiesDocumentHash=commitmentProof.rootHash,await newCertificate.saveCommitment({...commitmentProof,txHash:tx.hash})}else{tx=await issuerWithSigner.issue(properChecksumToAddress,value,data);const{events:events}=await tx.wait();newCertificate.id=getIdFromEvents(events)}return configuration.logger&&configuration.logger.info(`Certificate ${newCertificate.id} created`),newCertificate.sync()}async sync(){var _a;if(null===this.id)return this;const{registry:registry}=this.configuration.blockchainProperties,certOnChain=await registry.getCertificate(this.id);this.data=certOnChain.data;const{issuer:issuer}=this.configuration.blockchainProperties,decodedData=await issuer.decodeData(this.data),issuanceLog=(await events_1.getEventsFromContract(registry,registry.filters.IssuanceSingle(null,null,null))).filter(event=>event._id.toString()===this.id.toString())[0],issuanceBlock=await registry.provider.getBlock(issuanceLog.blockHash);this.generationStartTime=Number(decodedData[0]),this.generationEndTime=Number(decodedData[1]),this.deviceId=decodedData[2],this.issuer=certOnChain.issuer,this.creationTime=Number(issuanceBlock.timestamp),this.creationBlockHash=issuanceLog.blockHash;const certificationRequestApprovedEvents=await events_1.getEventsFromContract(issuer,issuer.filters.CertificationRequestApproved(null,null,this.id));if(this.certificationRequestId=certificationRequestApprovedEvents[0]._id,this.propertiesDocumentHash=await issuer.getCertificateCommitment(this.id),"0x0000000000000000000000000000000000000000000000000000000000000000"!==this.propertiesDocumentHash){const{commitment:commitment}=await this.getCommitment();this.privateOwnershipCommitment=null!=commitment?commitment:{}}const owner=await this.configuration.blockchainProperties.activeUser.getAddress(),ownedEnergy=await registry.balanceOf(owner,this.id),claimedEnergy=await registry.claimedBalanceOf(owner,this.id);return this.energy={publicVolume:ownedEnergy.sub(claimedEnergy).lt(0)?utils_1.bigNumberify(0):ownedEnergy.sub(claimedEnergy),privateVolume:null!==(_a=this.privateOwnershipCommitment[owner])&&void 0!==_a?_a:utils_1.bigNumberify(0),claimedVolume:claimedEnergy},this.initialized=!0,this.configuration.logger&&this.configuration.logger.verbose(`Certificate ${this.id} synced`),this}get isOwned(){if(!this.energy)return!1;const{publicVolume:publicVolume,privateVolume:privateVolume}=this.energy;return publicVolume.add(privateVolume).gt(0)}get isClaimed(){if(!this.energy)return!1;const{claimedVolume:claimedVolume}=this.energy;return claimedVolume.gt(0)}async claim(amount){const{publicVolume:publicVolume,privateVolume:privateVolume}=this.energy;if(publicVolume.eq(0))throw new Error(privateVolume.eq(0)?"claim(): Unable to claim certificate. You do not own a share in the certificate.":"claim(): Can't claim private volumes. Please migrate some volume to public first.");if(amount&&amount.gt(publicVolume)){const totalOwned=publicVolume.add(privateVolume);throw new Error(`claim(): Can't claim ${amount} Wh. ${totalOwned.lt(amount)?`You only own ${publicVolume} Wh.`:`Please migrate ${amount.sub(publicVolume)} Wh from private to public.`}`)}const claimData=utils_1.randomBytes(32),{activeUser:activeUser}=this.configuration.blockchainProperties,{registry:registry}=this.configuration.blockchainProperties,registryWithSigner=registry.connect(activeUser),activeUserAddress=await activeUser.getAddress(),claimTx=await registryWithSigner.safeTransferAndClaimFrom(activeUserAddress,activeUserAddress,this.id,amount||publicVolume,this.data,claimData);return await claimTx.wait(),claimTx}async requestMigrateToPublic(){const{privateVolume:privateVolume}=this.energy;if(privateVolume.eq(0))throw new Error("migrateToPublic(): No private volume owned.");const{activeUser:activeUser}=this.configuration.blockchainProperties,owner=await activeUser.getAddress(),{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(activeUser),{salts:salts}=await this.getCommitment(),ownerAddressLeafHash=this.generateAndAddProofs(this.privateOwnershipCommitment,salts).leafs.find(leaf=>leaf.key===owner).hash,tx=await issuerWithSigner.requestMigrateToPublic(this.id,ownerAddressLeafHash);return await tx.wait(),tx}async migrateToPublic(){const{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(this.configuration.blockchainProperties.activeUser),migrationRequestId=await issuerWithSigner.getMigrationRequestId(this.id),requestor=(await issuerWithSigner.getMigrationRequest(migrationRequestId)).owner,privateVolume=this.privateOwnershipCommitment[requestor];if(privateVolume.eq(0))throw new Error(`migrateToPublic(): Requestor doesn't own any private volume in certificate #${this.id}.`);const{salts:salts}=await this.getCommitment(),calculatedOffChainStorageProperties=this.generateAndAddProofs(this.privateOwnershipCommitment,salts),theProof=precise_proofs_js_1.PreciseProofs.createProof(requestor,calculatedOffChainStorageProperties.leafs,!1),onChainProof=theProof.proofPath.map(p=>({left:!!p.left,hash:p.left||p.right})),{salt:salt}=theProof,tx=await issuerWithSigner.migrateToPublic(migrationRequestId,privateVolume,salt,onChainProof);return await tx.wait(),tx}async transfer(to,amount,privately=!1){var _a;if(await this.isRevoked())throw new Error(`Unable to transfer Certificate #${this.id}. It has been revoked.`);const{activeUser:activeUser}=this.configuration.blockchainProperties,fromAddress=await activeUser.getAddress(),toAddress=ethers_1.ethers.utils.getAddress(to),{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(activeUser),{publicVolume:publicVolume,privateVolume:privateVolume}=this.energy,availableAmount=privately?privateVolume:publicVolume,amountToTransfer=null!=amount?amount:availableAmount;if(amountToTransfer.eq(0)||amountToTransfer.gt(availableAmount))throw new Error(`transfer(): unable to send amount ${amountToTransfer} Wh. Sender ${fromAddress} has a balance of ${publicVolume.add(privateVolume)} Wh (public: ${publicVolume}, private: ${privateVolume})`);if(privately){const proposedOwnerShares={...this.privateOwnershipCommitment};proposedOwnerShares[fromAddress]=proposedOwnerShares[fromAddress].sub(amountToTransfer),proposedOwnerShares[toAddress]=(null!==(_a=proposedOwnerShares[toAddress])&&void 0!==_a?_a:new utils_1.BigNumber(0)).add(amountToTransfer);const commitmentProof=this.generateAndAddProofs(proposedOwnerShares),ownerAddressLeafHash=commitmentProof.leafs.find(leaf=>leaf.key===fromAddress).hash,tx=await issuerWithSigner.requestPrivateTransfer(this.id,ownerAddressLeafHash);return await tx.wait(),this.saveCommitment({...commitmentProof,txHash:tx.hash})}const{registry:registry}=this.configuration.blockchainProperties,registryWithSigner=registry.connect(activeUser),tx=await registryWithSigner.safeTransferFrom(fromAddress,toAddress,this.id,amountToTransfer,this.data);return await tx.wait(),tx}async approvePrivateTransfer(){const{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(this.configuration.blockchainProperties.activeUser),previousCommitment=this.propertiesDocumentHash,newCommitmentProof=await this.getPendingTransferCommitment(),request=await issuerWithSigner.getPrivateTransferRequest(this.id);if(!request)throw new Error("approvePrivateTransfer(): no pending requests to approve.");const onChainProof=precise_proofs_js_1.PreciseProofs.createProof(request.owner,newCommitmentProof.leafs,!1).proofPath.map(p=>({left:!!p.left,hash:p.left||p.right}));this.propertiesDocumentHash=newCommitmentProof.rootHash;const tx=await issuerWithSigner.approvePrivateTransfer(this.id,onChainProof,previousCommitment,newCommitmentProof.rootHash);return await tx.wait(),await this.certificateClient.approvePendingOwnershipCommitment(this.id),tx}async revoke(){const{issuer:issuer}=this.configuration.blockchainProperties,issuerWithSigner=issuer.connect(this.configuration.blockchainProperties.activeUser),tx=await issuerWithSigner.revokeCertificate(this.id);return await tx.wait(),tx}async isRevoked(){const{issuer:issuer}=this.configuration.blockchainProperties;return(await events_1.getEventsFromContract(issuer,issuer.filters.CertificateRevoked(this.id))).length>0}}exports.Certificate=Certificate},958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const precise_proofs_js_1=__webpack_require__(604),origin_backend_core_1=__webpack_require__(29);exports.PreciseProofEntity=class PreciseProofEntity{constructor(id,configuration){if(this.id=id,!configuration.offChainDataSource)throw new Error("Entity::constructor: Please set offChainDataSource in the configuration.");this.configuration=configuration,this.proofs=[]}get certificateClient(){return this.configuration.offChainDataSource.certificateClient}async saveCommitment(proof){const commitmentStatus=await this.certificateClient.addOwnershipCommitment(this.id,proof);return this.configuration.logger&&(commitmentStatus===origin_backend_core_1.CommitmentStatus.REJECTED?this.configuration.logger.error("Unable to save the commitment. Rejected."):commitmentStatus===origin_backend_core_1.CommitmentStatus.CURRENT&&this.configuration.logger.verbose(`Commitment saved to for Certificate #${this.id}`)),commitmentStatus}async getCommitment(){const proof=await this.certificateClient.getOwnershipCommitment(this.id);if(!proof)throw new Error("getCommitment(): Not found.");return this.generateAndAddProofs(proof.commitment,proof.salts),this.verifyOffChainProperties(this.propertiesDocumentHash,proof.commitment),this.configuration.logger&&this.configuration.logger.verbose(`Got commitment for Certificate #${this.id}`),proof}async getPendingTransferCommitment(){const proof=await this.certificateClient.getPendingOwnershipCommitment(this.id);if(!proof)throw new Error("getCommitment(): Not found.");return this.configuration.logger&&this.configuration.logger.verbose(`Got pending transfer commitment for Certificate #${this.id}`),proof}verifyOffChainProperties(rootHash,properties){Object.keys(properties).map(key=>{const theProof=this.proofs.find(proof=>proof.key===key);if(this.configuration.logger&&(this.configuration.logger.debug("\nDEBUG verifyOffChainProperties"),this.configuration.logger.debug(`rootHash: ${rootHash}`),this.configuration.logger.debug(`properties: ${properties}`)),!theProof)throw new Error(`Could not find proof for property ${key}`);if(!precise_proofs_js_1.PreciseProofs.verifyProof(rootHash,theProof))throw new Error(`Proof ${JSON.stringify(theProof)} for property ${key} is invalid.`);return!0})}generateAndAddProofs(commitment,salts){this.proofs=[];let leafs=salts?precise_proofs_js_1.PreciseProofs.createLeafs(commitment,salts):precise_proofs_js_1.PreciseProofs.createLeafs(commitment);leafs=precise_proofs_js_1.PreciseProofs.sortLeafsByKey(leafs);const merkleTree=precise_proofs_js_1.PreciseProofs.createMerkleTree(leafs.map(leaf=>leaf.hash));leafs.forEach(leaf=>this.addProof(precise_proofs_js_1.PreciseProofs.createProof(leaf.key,leafs,!1)));const result={commitment:commitment,rootHash:precise_proofs_js_1.PreciseProofs.getRootHash(merkleTree),salts:leafs.map(leaf=>leaf.salt),leafs:leafs};return this.configuration.logger&&(this.configuration.logger.debug("\nDEBUG generateAndAddProofs"),this.configuration.logger.debug(result),precise_proofs_js_1.PreciseProofs.printTree(merkleTree,leafs)),result}addProof(proof){this.proofs.push(proof)}}},959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(CertificateTopic){CertificateTopic[CertificateTopic.IREC=1234]="IREC"}(exports.CertificateTopic||(exports.CertificateTopic={}))},969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const RequestClient_1=__webpack_require__(235);exports.PreciseProofClient=class PreciseProofClient{constructor(requestClient=new RequestClient_1.RequestClient){this.requestClient=requestClient}async get(url){return(await this.requestClient.get(this.normalizeURL(url))).data}async delete(url){return 200===(await this.requestClient.delete(this.normalizeURL(url))).status}async insert(url,PreciseProof){const normalizedURL=this.normalizeURL(url),result=await this.requestClient.post(normalizedURL,PreciseProof);return result.status>=200&&result.status<300}normalizeURL(url){return url.toLocaleLowerCase()}}},970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const RequestClient_1=__webpack_require__(235);exports.ConfigurationClient=class ConfigurationClient{constructor(dataApiUrl,requestClient=new RequestClient_1.RequestClient){this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}async get(){const url=`${this.dataApiUrl}/Configuration`,{data:data}=await this.requestClient.get(url);return data}async update(configuration){const{status:status}=await this.requestClient.put(`${this.dataApiUrl}/Configuration`,configuration);return status>=200&&status<300}}},971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const origin_backend_core_1=__webpack_require__(29),RequestClient_1=__webpack_require__(235);exports.OrganizationClient=class OrganizationClient{constructor(dataApiUrl,requestClient=new RequestClient_1.RequestClient){this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}get endpoint(){return`${this.dataApiUrl}/Organization`}async getById(id){if(void 0===id)return null;const url=`${this.endpoint}/${id}`,{data:data}=await this.requestClient.get(url);return data}async getAll(){const{data:data}=await this.requestClient.get(this.endpoint);return data}async add(data){return(await this.requestClient.post(this.endpoint,data)).data}async update(id,data){return(await this.requestClient.put(`${this.endpoint}/${id}`,data)).data}async acceptInvitation(id){return this.updateInvitation(id,{status:origin_backend_core_1.OrganizationInvitationStatus.Accepted})}async rejectInvitation(id){return this.updateInvitation(id,{status:origin_backend_core_1.OrganizationInvitationStatus.Rejected})}async invite(email){return(await this.requestClient.post(`${this.endpoint}/invite`,{email:email})).data}async getInvitations(){const{data:data}=await this.requestClient.get(`${this.endpoint}/invitation`);return data}async getInvitationsForEmail(email){const{data:data}=await this.requestClient.get(`${this.endpoint}/invitation?email=${encodeURIComponent(email)}`);return data}async getInvitationsToOrganization(organizationId){const{data:data}=await this.requestClient.get(`${this.endpoint}/invitation?organization=${organizationId}`);return data}async getMembers(id){const{data:data}=await this.requestClient.get(`${this.endpoint}/${id}/users`);return data}async removeMember(organizationId,userId){return(await this.requestClient.post(`${this.endpoint}/${organizationId}/remove-member/${userId}`)).data}async updateInvitation(id,data){return(await this.requestClient.put(`${this.endpoint}/invitation/${id}`,data)).data}}},972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const RequestClient_1=__webpack_require__(235);exports.UserClient=class UserClient{constructor(dataApiUrl,requestClient=new RequestClient_1.RequestClient){this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}get authEndpoint(){return`${this.dataApiUrl}/auth`}get userEndpoint(){return`${this.dataApiUrl}/user`}async register(formData){const url=`${this.userEndpoint}/register`,{data:data}=await this.requestClient.post(url,formData);return data}async login(email,password){const url=`${this.authEndpoint}/login`,{data:data}=await this.requestClient.post(url,{username:email,password:password});return(null==data?void 0:data.accessToken)&&(this.requestClient.authenticationToken=data.accessToken),data}async logout(){this.requestClient.authenticationToken=null}async me(){const url=`${this.userEndpoint}/me`,{data:data}=await this.requestClient.get(url);return data}async getUserByBlockchainAccount(blockchainAccountAddress){const url=`${this.userEndpoint}/for-blockchain-account/${blockchainAccountAddress}`,{data:data}=await this.requestClient.get(url);return data}async attachSignedMessage(id,signedMessage){return this.updateUser(id,{blockchainAccountSignedMessage:signedMessage})}async updateAdditionalProperties(id,properties){return this.updateUser(id,properties)}async getUserById(id){const url=`${this.userEndpoint}/${id}`,{data:data}=await this.requestClient.get(url);return data}async updateUser(id,updatedUserInfo){const url=`${this.userEndpoint}/${id}`,{data:data}=await this.requestClient.put(url,updatedUserInfo);return data}}},973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const RequestClient_1=__webpack_require__(235),utils_1=__webpack_require__(79);exports.DeviceClient=class DeviceClient{constructor(dataApiUrl,requestClient=new RequestClient_1.RequestClient){this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}get endpoint(){return`${this.dataApiUrl}/Device`}async getByExternalId(id){const url=`${this.endpoint}/get-by-external-id/${id.type}/${id.id}`,{data:data}=await this.requestClient.get(url);return data}async getById(id){const url=`${this.endpoint}/${id}`,{data:data}=await this.requestClient.get(url);return data}async getAll(){const{data:data}=await this.requestClient.get(this.endpoint);return data}async add(device){const{data:data}=await this.requestClient.post(this.endpoint,device);return data}async update(id,data){return(await this.requestClient.put(`${this.endpoint}/${id}`,data)).data}async getAllSmartMeterReadings(id){return(await this.requestClient.get(`${this.endpoint}/${id}/smartMeterReading`)).data.map(read=>({...read,meterReading:utils_1.bigNumberify(read.meterReading)}))}async addSmartMeterRead(id,smartMeterRead){return(await this.requestClient.put(`${this.endpoint}/${id}/smartMeterReading`,smartMeterRead)).data}}},974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const RequestClient_1=__webpack_require__(235);exports.FilesClient=class FilesClient{constructor(dataApiUrl,requestClient=new RequestClient_1.RequestClient){this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}async upload(files,onUploadProgress,cancelTokenSource){const formData=new FormData;for(let i=0;i<files.length;i++)formData.append("files",files[i]);return(await this.requestClient.post(this.endpoint,formData,{headers:{"Content-type":"multipart/form-data"},onUploadProgress:onUploadProgress,cancelToken:null==cancelTokenSource?void 0:cancelTokenSource.token})).data}getLink(id){return`${this.endpoint}/${id}`}get endpoint(){return`${this.dataApiUrl}/file`}}},975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=__webpack_require__(79),RequestClient_1=__webpack_require__(235);exports.CertificationRequestDTO=class CertificationRequestDTO{};exports.CertificateClient=class CertificateClient{constructor(dataApiUrl,requestClient=new RequestClient_1.RequestClient){this.dataApiUrl=dataApiUrl,this.requestClient=requestClient}get certificateEndpoint(){return`${this.dataApiUrl}/Certificate`}get certificateRequestEndpoint(){return`${this.certificateEndpoint}/CertificationRequest`}async updateCertificationRequestData(id,data){const dto={id:id,energy:data.energy.toString(),files:data.files},response=await this.requestClient.post(`${this.certificateRequestEndpoint}/${id}`,dto),success=response.status>=200&&response.status<300;return success||(console.error(`Unable to create certification request ${id}`),console.error(JSON.stringify(response))),success}async getCertificationRequestData(id){const{data:data}=await this.requestClient.get(`${this.certificateRequestEndpoint}/${id}`);return{...data,energy:utils_1.bigNumberify(data.energy)}}async getOwnershipCommitment(certificateId){const url=`${this.certificateEndpoint}/${certificateId}/OwnershipCommitment`,{data:data}=await this.requestClient.get(url);return data}async getPendingOwnershipCommitment(certificateId){const url=`${this.certificateEndpoint}/${certificateId}/OwnershipCommitment/pending`,{data:data}=await this.requestClient.get(url);return data}async addOwnershipCommitment(certificateId,proof){return(await this.requestClient.post(`${this.certificateEndpoint}/${certificateId}/OwnershipCommitment`,proof)).data}async approvePendingOwnershipCommitment(certificateId){return(await this.requestClient.put(`${this.certificateEndpoint}/${certificateId}/OwnershipCommitment/pending/approve`)).data}}},976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Order_1=__webpack_require__(466),ProductFilter_1=__webpack_require__(609);class Bid extends Order_1.Order{constructor(id,price,volume,product,validFrom,userId){super(id,Order_1.OrderSide.Bid,validFrom,product,price,volume,userId)}filterBy(productFilter,deviceService,locationService){const isIncludedInDeviceType=this.isIncludedInDeviceType(productFilter,deviceService),hasMatchingVintage=this.filterByDeviceVintage(productFilter),isIncludedInLocation=this.isIncludedInLocation(productFilter,locationService),hasMatchingGenerationTime=this.filterByGenerationTime(productFilter),hasMatchingGridOperator=this.filterByGridOperator(productFilter);return isIncludedInDeviceType&&hasMatchingVintage&&isIncludedInLocation&&hasMatchingGenerationTime&&hasMatchingGridOperator}matches(ask,deviceService,locationService){const{product:product}=ask,hasMatchingDeviceType=this.hasMatchingDeviceType(product,deviceService),hasMatchingVintage=this.hasMatchingVintage(product),hasMatchingLocation=this.hasMatchingLocation(product,locationService),hasMatchingGenerationTime=this.hasMatchingGenerationTime(ask),hasMatchingGridOperator=this.hasMatchingGridOperator(product);return hasMatchingDeviceType&&hasMatchingVintage&&hasMatchingLocation&&hasMatchingGenerationTime&&hasMatchingGridOperator}clone(){return new Bid(this.id,this.price,this.volume,this.product,this.validFrom,this.userId)}hasMatchingDeviceType(product,deviceService){var _a,_b;return!((null===(_a=this.product.deviceType)||void 0===_a?void 0:_a.length)&&(null===(_b=product.deviceType)||void 0===_b?void 0:_b.length))||deviceService.includesDeviceType(product.deviceType[0],this.product.deviceType)}hasMatchingLocation(product,locationService){var _a,_b;return!((null===(_a=this.product.location)||void 0===_a?void 0:_a.length)&&(null===(_b=product.location)||void 0===_b?void 0:_b.length))||locationService.matches(this.product.location,product.location[0])}isIncludedInLocation(productFilter,locationService){var _a,_b;return productFilter.locationFilter===ProductFilter_1.Filter.All||(productFilter.locationFilter===ProductFilter_1.Filter.Unspecified?!(null===(_a=this.product.location)||void 0===_a?void 0:_a.length):!(null===(_b=this.product.location)||void 0===_b||!_b.length)&&(locationService.matchesSome(productFilter.location,this.product.location)||locationService.matchesSome(this.product.location,productFilter.location)))}isIncludedInDeviceType(productFilter,deviceService){var _a,_b;return productFilter.deviceTypeFilter===ProductFilter_1.Filter.All||(productFilter.deviceTypeFilter===ProductFilter_1.Filter.Unspecified?!(null===(_a=this.product.deviceType)||void 0===_a?void 0:_a.length):!(null===(_b=this.product.deviceType)||void 0===_b||!_b.length)&&(deviceService.includesSomeDeviceType(productFilter.deviceType,this.product.deviceType)||deviceService.includesSomeDeviceType(this.product.deviceType,productFilter.deviceType)))}filterByDeviceVintage(productFilter){return productFilter.deviceVintageFilter===ProductFilter_1.Filter.All||(productFilter.deviceVintageFilter===ProductFilter_1.Filter.Unspecified?!this.product.deviceVintage:!!this.product.deviceVintage&&productFilter.deviceVintage.matches(this.product.deviceVintage))}filterByGenerationTime(productFilter){return productFilter.generationTimeFilter===ProductFilter_1.Filter.All||(productFilter.generationTimeFilter===ProductFilter_1.Filter.Unspecified?!this.product.generationTime:!!this.product.generationTime&&Order_1.Order.hasMatchingGenerationTimes(this.product,productFilter))}filterByGridOperator(productFilter){var _a,_b;return productFilter.gridOperatorFilter===ProductFilter_1.Filter.All||(productFilter.gridOperatorFilter===ProductFilter_1.Filter.Unspecified?!(null===(_a=this.product.gridOperator)||void 0===_a?void 0:_a.length):!(null===(_b=this.product.gridOperator)||void 0===_b||!_b.length)&&this.product.gridOperator.some(bidGridOperator=>productFilter.gridOperator.some(gridOperator=>gridOperator===bidGridOperator)))}hasMatchingVintage(product){return!this.product.deviceVintage||!product.deviceVintage||product.deviceVintage.matches(this.product.deviceVintage)}hasMatchingGenerationTime(ask){return!this.product.generationTime||Order_1.Order.hasMatchingGenerationTimes(this.product,ask.product)}hasMatchingGridOperator(product){var _a,_b;return!((null===(_a=this.product.gridOperator)||void 0===_a?void 0:_a.length)&&(null===(_b=product.gridOperator)||void 0===_b?void 0:_b.length))||this.product.gridOperator.some(bidGridOperator=>bidGridOperator===product.gridOperator[0])}}exports.Bid=Bid},977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Product=class Product{}},978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(Operator){Operator[Operator.EqualsTo=0]="EqualsTo",Operator[Operator.GreaterThanOrEqualsTo=1]="GreaterThanOrEqualsTo",Operator[Operator.LessThanOrEqualsTo=2]="LessThanOrEqualsTo"}(exports.Operator||(exports.Operator={}))}},[[1064,1,2]]]);
//# sourceMappingURL=main.c7f427c274616f07e49c.bundle.js.map