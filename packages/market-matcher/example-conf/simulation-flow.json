{
    "matcherAddress": "0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6",
    "flow": [
        {
            "type": "SET_DATE",
            "data": {
                "year": 2018,
                "month": 2,
                "day": 10,
                "hour": 18,
                "minute": 1,
                "second": 2  
            }
        },
        {
            "type": "REGISTER_PRODUCING_ASSET",
            "data": {
                "id": "0",
                "offChainProperties": {
                    "assetType": 0,
                    "complianceRegistry": 0,
                    "otherGreenAttributes": "",
                    "typeOfPublicSupport": "",
                    "operationalSince": 0,
                    "capacityWh": 100,
                    "country": "Iceland",
                    "region": "",
                    "zip": "",
                    "city": "Vik",
                    "street": "",
                    "houseNumber": "",
                    "gpsLatitude": "",
                    "gpsLongitude": ""
     
                },
                "onChainProperties": {
                    "propertiesDocumentHash": "",
                    "url": "",
                    "certificatesUsedForWh": 0,
                    "smartMeter": {
                        "address": "0x0"
                    },
                    "owner": {
                        "address": "0x0"
                    },
                    "lastSmartMeterReadWh": 0,
                    "active": true,
                    "lastSmartMeterReadFileHash": "0x0",
                    "matcher": [
                        {
                            "address": "0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6"
                        }
                    ]
                }
            }
        },
        {
            "type": "REGISTER_PRODUCING_ASSET",
            "data": {
                "id": "1",
                "offChainProperties": {
                    "assetType": 0,
                    "complianceRegistry": 0,
                    "otherGreenAttributes": "",
                    "typeOfPublicSupport": "",
                    "operationalSince": 0,
                    "capacityWh": 100,
                    "country": "France",
                    "region": "",
                    "zip": "",
                    "city": "Springfield",
                    "street": "",
                    "houseNumber": "",
                    "gpsLatitude": "",
                    "gpsLongitude": ""
     
                },
                "onChainProperties": {
                    "propertiesDocumentHash": "",
                    "url": "",
                    "certificatesUsedForWh": 0,
                    "smartMeter": {
                        "address": "0x0"
                    },
                    "owner": {
                        "address": "0x0"
                    },
                    "lastSmartMeterReadWh": 0,
                    "active": true,
                    "lastSmartMeterReadFileHash": "0x0",
                    "matcher": [
                        {
                            "address": "0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6"
                        }
                    ]
                }
            }
        },
        {
            "type": "REGISTER_DEMAND",
            "data": {
                "id": "0",
                "offChainProperties": {
                    "timeframe": 0,
                    "pricePerCertifiedWh": 0,
                    "currency": 0,
                    "targetWhPerPeriod": 25,
                    "assettype": 0,
                    "locationCountry": "Iceland"
                },
                "onChainProperties": {
                    "demandOwner": "0x0",
                    "propertiesDocumentHash": "0x0",
                    "url": "test"
                }
            }
        },
        {
            "type": "REGISTER_SUPPLY",
            "data": {
                "id": "0",
                "offChainProperties": {
                    "availableWh": 10,
                    "currency": 0,
                    "price": 10,
                    "timeframe": 0
                },
                "onChainProperties": {
                    "assetId": 0,
                    "propertiesDocumentHash": "",
                    "url": ""
                    
                }
            }
        },
        {
            "type": "REGISTER_AGREEMENT",
            "data": {
                "id": "0",
                "offChainProperties": {
                    "start": 0,
                    "end": 2518285662,
                    "price": 10,
                    "currency": 0,
                    "period": 0,
                    "timeframe": 0
                },
                "onChainProperties": {
                    "matcherPropertiesDocumentHash": "",
                    "matcherDBURL": "",
                    "demandId": 0,
                    "supplyId": 0,
                    "allowedMatcher": ["0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6"],
                    "propertiesDocumentHash": "",
                    "url": ""
                    
                },
                "matcherOffChainProperties": {
                    "currentWh": 0,
                    "currentPeriod": 0
                }
            }
        },
        {
            "type": "REGISTER_CERTIFICATE",
            "data": {
                "id": "0",
                "onChainProperties": {
                    "retired": false,
                    "dataLog": "",
                    "creationTime": 0,
                    "parentId": 0,
                    "children": [],
                    "maxOwnerChanges": 5,
                    "ownerChangerCounter": 0,
                    "propertiesDocumentHash": "",
                    "url": "",
                    "assetId": 1,
                    "owner": "0x0",
                    "powerInW": 10,
                    "onChainDirectPurchasePrice": 0,
                    "escrow": ["0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6"],
                    "approvedAddress": ""
                }
            }
        },
        {
            "type": "REGISTER_CERTIFICATE",
            "data": {
                "id": "1",

                "onChainProperties": {
                    "retired": false,
                    "dataLog": "",
                    "creationTime": 0,
                    "parentId": 0,
                    "children": [],
                    "maxOwnerChanges": 5,
                    "ownerChangerCounter": 0,
                    "propertiesDocumentHash": "",
                    "url": "",
                    "assetId": 0,
                    "owner": "0x0",
                    "powerInW": 10,
                    "onChainDirectPurchasePrice": 0,
                    "escrow": ["0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6"],
                    "approvedAddress": ""
                }
            }
        },
        {
            "type": "REGISTER_CERTIFICATE",
            "data": {
                "id": "2",

                "onChainProperties": {
                    "retired": false,
                    "dataLog": "",
                    "creationTime": 0,
                    "parentId": 0,
                    "children": [],
                    "maxOwnerChanges": 5,
                    "ownerChangerCounter": 0,
                    "propertiesDocumentHash": "",
                    "url": "",
                    "assetId": 0,
                    "owner": "0x0",
                    "powerInW": 20,
                    "onChainDirectPurchasePrice": 0,
                    "escrow": ["0x492fd96a45b842fd1834b36c4055e5bc35c3dcb6"],
                    "approvedAddress": ""
                }
            }
        }
        
        
    ],
    "expectedResult": [
        {
            "certificateId": "0",
            "agreementId": "-1",
            "powerInW": 10

        },
        {
            "certificateId": "1",
            "agreementId": "0",
            "powerInW": 10

        },
        {
            "certificateId": "3",
            "agreementId": "0",
            "powerInW": 15

        },
        {
            "certificateId": "4",
            "agreementId": "-1",
            "powerInW": 5

        }
    
    ]

    
}